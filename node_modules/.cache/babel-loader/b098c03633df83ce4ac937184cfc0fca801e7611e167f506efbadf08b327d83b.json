{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"value\", \"text\"],\n  _excluded2 = [\"mode\", \"valueEnum\", \"render\", \"renderFormItem\", \"request\", \"fieldProps\", \"plain\", \"children\", \"light\", \"proFieldKey\", \"params\", \"label\", \"bordered\", \"id\", \"lightLabel\", \"labelTrigger\"];\nimport { useIntl } from '@ant-design/pro-provider';\nimport { compatibleBorder, nanoid, objectToMap, proFieldParsingText, useDebounceValue, useDeepCompareEffect, useDeepCompareMemo, useMountMergeState, useRefFunction, useStyle } from '@ant-design/pro-utils';\nimport { ConfigProvider, Spin } from 'antd';\nimport React, { useContext, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport useSWR from 'swr';\nimport LightSelect from \"./LightSelect\";\nimport SearchSelect from \"./SearchSelect\";\n\n// 兼容代码-----------\nimport \"antd/es/select/style\";\n//------------\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Highlight = function Highlight(_ref) {\n  var label = _ref.label,\n    words = _ref.words;\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var lightCls = getPrefixCls('pro-select-item-option-content-light');\n  var optionCls = getPrefixCls('pro-select-item-option-content');\n\n  // css\n  var _useStyle = useStyle('Highlight', function (token) {\n      return _defineProperty(_defineProperty({}, \".\".concat(lightCls), {\n        color: token.colorPrimary\n      }), \".\".concat(optionCls), {\n        flex: 'auto',\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis'\n      });\n    }),\n    wrapSSR = _useStyle.wrapSSR;\n  var matchKeywordsRE = new RegExp(words.map(function (word) {\n    return word.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n  }).join('|'), 'gi');\n  var matchText = label;\n  var elements = [];\n  while (matchText.length) {\n    var match = matchKeywordsRE.exec(matchText);\n    if (!match) {\n      elements.push(matchText);\n      break;\n    }\n    var start = match.index;\n    var matchLength = match[0].length + start;\n    elements.push(matchText.slice(0, start), /*#__PURE__*/React.createElement('span', {\n      className: lightCls\n    }, matchText.slice(start, matchLength)));\n    matchText = matchText.slice(matchLength);\n  }\n  return wrapSSR(/*#__PURE__*/React.createElement.apply(React, ['div', {\n    title: label,\n    className: optionCls\n  }].concat(elements)));\n};\n\n/**\n * 递归筛选 item\n *\n * @param item\n * @param keyWords\n * @returns\n */\nfunction filerByItem(item, keyWords) {\n  var _item$label, _item$value;\n  if (!keyWords) return true;\n  if (item !== null && item !== void 0 && (_item$label = item.label) !== null && _item$label !== void 0 && _item$label.toString().toLowerCase().includes(keyWords.toLowerCase()) || item !== null && item !== void 0 && (_item$value = item.value) !== null && _item$value !== void 0 && _item$value.toString().toLowerCase().includes(keyWords.toLowerCase())) {\n    return true;\n  }\n  if (item.children || item.options) {\n    var findItem = [].concat(_toConsumableArray(item.children || []), [item.options || []]).find(function (mapItem) {\n      return filerByItem(mapItem, keyWords);\n    });\n    if (findItem) return true;\n  }\n  return false;\n}\n\n/**\n * 把 value 的枚举转化为数组\n *\n * @param valueEnum\n */\nexport var proFieldParsingValueEnumToArray = function proFieldParsingValueEnumToArray(valueEnumParams) {\n  var enumArray = [];\n  var valueEnum = objectToMap(valueEnumParams);\n  valueEnum.forEach(function (_, key) {\n    var value = valueEnum.get(key) || valueEnum.get(\"\".concat(key));\n    if (!value) {\n      return;\n    }\n    if (_typeof(value) === 'object' && value !== null && value !== void 0 && value.text) {\n      enumArray.push({\n        text: value === null || value === void 0 ? void 0 : value.text,\n        value: key,\n        label: value === null || value === void 0 ? void 0 : value.text,\n        disabled: value.disabled\n      });\n      return;\n    }\n    enumArray.push({\n      text: value,\n      value: key\n    });\n  });\n  return enumArray;\n};\nexport var useFieldFetchData = function useFieldFetchData(props) {\n  var _ref5, _props$debounceTime, _props$fieldProps3, _props$fieldProps6;\n  var cacheForSwr = props.cacheForSwr,\n    fieldProps = props.fieldProps;\n  var _useState = useState(props.defaultKeyWords),\n    _useState2 = _slicedToArray(_useState, 2),\n    keyWords = _useState2[0],\n    setKeyWords = _useState2[1];\n  /** Key 是用来缓存请求的，如果不在是有问题 */\n  var _useState3 = useState(function () {\n      if (props.proFieldKey) {\n        return props.proFieldKey.toString();\n      }\n      if (props.request) {\n        return nanoid();\n      }\n      return 'no-fetch';\n    }),\n    _useState4 = _slicedToArray(_useState3, 1),\n    cacheKey = _useState4[0];\n  var proFieldKeyRef = useRef(cacheKey);\n  var getOptionsFormValueEnum = useRefFunction(function (coverValueEnum) {\n    return proFieldParsingValueEnumToArray(objectToMap(coverValueEnum)).map(function (_ref3) {\n      var value = _ref3.value,\n        text = _ref3.text,\n        rest = _objectWithoutProperties(_ref3, _excluded);\n      return _objectSpread({\n        label: text,\n        value: value,\n        key: value\n      }, rest);\n    });\n  });\n  var defaultOptions = useDeepCompareMemo(function () {\n    if (!fieldProps) return undefined;\n    var data = (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.options) || (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.treeData);\n    if (!data) return undefined;\n    var _ref4 = fieldProps.fieldNames || {},\n      children = _ref4.children,\n      label = _ref4.label,\n      value = _ref4.value;\n    var traverseFieldKey = function traverseFieldKey(_options, type) {\n      if (!(_options !== null && _options !== void 0 && _options.length)) return;\n      var length = _options.length;\n      var i = 0;\n      while (i < length) {\n        var cur = _options[i++];\n        if (cur[children] || cur[label] || cur[value]) {\n          cur[type] = cur[type === 'children' ? children : type === 'label' ? label : value];\n          traverseFieldKey(cur[children], type);\n        }\n      }\n    };\n    if (children) traverseFieldKey(data, 'children');\n    if (label) traverseFieldKey(data, 'label');\n    if (value) traverseFieldKey(data, 'value');\n    return data;\n  }, [fieldProps]);\n  var _useMountMergeState = useMountMergeState(function () {\n      if (props.valueEnum) {\n        return getOptionsFormValueEnum(props.valueEnum);\n      }\n      return [];\n    }, {\n      value: defaultOptions\n    }),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    options = _useMountMergeState2[0],\n    setOptions = _useMountMergeState2[1];\n  useDeepCompareEffect(function () {\n    var _props$fieldProps, _props$fieldProps2;\n    // 优先使用 fieldProps?.options\n    if (!props.valueEnum || (_props$fieldProps = props.fieldProps) !== null && _props$fieldProps !== void 0 && _props$fieldProps.options || (_props$fieldProps2 = props.fieldProps) !== null && _props$fieldProps2 !== void 0 && _props$fieldProps2.treeData) return;\n    setOptions(getOptionsFormValueEnum(props.valueEnum));\n  }, [props.valueEnum]);\n  var swrKey = useDebounceValue([proFieldKeyRef.current, props.params, keyWords], (_ref5 = (_props$debounceTime = props.debounceTime) !== null && _props$debounceTime !== void 0 ? _props$debounceTime : props === null || props === void 0 || (_props$fieldProps3 = props.fieldProps) === null || _props$fieldProps3 === void 0 ? void 0 : _props$fieldProps3.debounceTime) !== null && _ref5 !== void 0 ? _ref5 : 0, [props.params, keyWords]);\n  var _useSWR = useSWR(function () {\n      if (!props.request) {\n        return null;\n      }\n      return swrKey;\n    }, function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 3),\n        params = _ref7[1],\n        kw = _ref7[2];\n      return props.request(_objectSpread(_objectSpread({}, params), {}, {\n        keyWords: kw\n      }), props);\n    }, {\n      revalidateIfStale: !cacheForSwr,\n      // 打开 cacheForSwr 的时候才应该支持两个功能\n      revalidateOnReconnect: cacheForSwr,\n      shouldRetryOnError: false,\n      // @todo 这个功能感觉应该搞个API出来\n      revalidateOnFocus: false\n    }),\n    data = _useSWR.data,\n    setLocaleData = _useSWR.mutate,\n    isValidating = _useSWR.isValidating;\n  var resOptions = useMemo(function () {\n    var _props$fieldProps4, _props$fieldProps5;\n    var opt = options === null || options === void 0 ? void 0 : options.map(function (item) {\n      if (typeof item === 'string') {\n        return {\n          label: item,\n          value: item\n        };\n      }\n      if (item.children || item.options) {\n        var childrenOptions = [].concat(_toConsumableArray(item.children || []), _toConsumableArray(item.options || [])).filter(function (mapItem) {\n          return filerByItem(mapItem, keyWords);\n        });\n        return _objectSpread(_objectSpread({}, item), {}, {\n          children: childrenOptions,\n          options: childrenOptions\n        });\n      }\n      return item;\n    });\n\n    // filterOption 为 true 时 filter数据, filterOption 默认为true\n    if (((_props$fieldProps4 = props.fieldProps) === null || _props$fieldProps4 === void 0 ? void 0 : _props$fieldProps4.filterOption) === true || ((_props$fieldProps5 = props.fieldProps) === null || _props$fieldProps5 === void 0 ? void 0 : _props$fieldProps5.filterOption) === undefined) {\n      return opt === null || opt === void 0 ? void 0 : opt.filter(function (item) {\n        if (!item) return false;\n        if (!keyWords) return true;\n        return filerByItem(item, keyWords);\n      });\n    }\n    return opt;\n  }, [options, keyWords, (_props$fieldProps6 = props.fieldProps) === null || _props$fieldProps6 === void 0 ? void 0 : _props$fieldProps6.filterOption]);\n  return [isValidating, props.request ? data : resOptions, function (fetchKeyWords) {\n    setKeyWords(fetchKeyWords);\n  }, function () {\n    setKeyWords(undefined);\n    setLocaleData([], false);\n  }];\n};\n\n/**\n * 可以根据 valueEnum 来进行类型的设置\n *\n * @param\n */\nvar FieldSelect = function FieldSelect(props, ref) {\n  var _ConfigProvider$useCo;\n  var mode = props.mode,\n    valueEnum = props.valueEnum,\n    render = props.render,\n    renderFormItem = props.renderFormItem,\n    request = props.request,\n    fieldProps = props.fieldProps,\n    plain = props.plain,\n    children = props.children,\n    light = props.light,\n    proFieldKey = props.proFieldKey,\n    params = props.params,\n    label = props.label,\n    bordered = props.bordered,\n    id = props.id,\n    lightLabel = props.lightLabel,\n    labelTrigger = props.labelTrigger,\n    rest = _objectWithoutProperties(props, _excluded2);\n  var inputRef = useRef();\n  var intl = useIntl();\n  var keyWordsRef = useRef('');\n  var fieldNames = fieldProps.fieldNames;\n  useEffect(function () {\n    keyWordsRef.current = fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.searchValue;\n  }, [fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.searchValue]);\n  var _useFieldFetchData = useFieldFetchData(props),\n    _useFieldFetchData2 = _slicedToArray(_useFieldFetchData, 4),\n    loading = _useFieldFetchData2[0],\n    options = _useFieldFetchData2[1],\n    _fetchData = _useFieldFetchData2[2],\n    resetData = _useFieldFetchData2[3];\n  var _ref8 = (ConfigProvider === null || ConfigProvider === void 0 || (_ConfigProvider$useCo = ConfigProvider.useConfig) === null || _ConfigProvider$useCo === void 0 ? void 0 : _ConfigProvider$useCo.call(ConfigProvider)) || {\n      componentSize: 'middle'\n    },\n    componentSize = _ref8.componentSize;\n  useImperativeHandle(ref, function () {\n    return _objectSpread(_objectSpread({}, inputRef.current || {}), {}, {\n      fetchData: function fetchData(keyWord) {\n        return _fetchData(keyWord);\n      }\n    });\n  }, [_fetchData]);\n  var optionsValueEnum = useMemo(function () {\n    if (mode !== 'read') return;\n    var _ref9 = fieldNames || {},\n      _ref9$label = _ref9.label,\n      labelPropsName = _ref9$label === void 0 ? 'label' : _ref9$label,\n      _ref9$value = _ref9.value,\n      valuePropsName = _ref9$value === void 0 ? 'value' : _ref9$value,\n      _ref9$options = _ref9.options,\n      optionsPropsName = _ref9$options === void 0 ? 'options' : _ref9$options;\n    var valuesMap = new Map();\n    var traverseOptions = function traverseOptions(_options) {\n      if (!(_options !== null && _options !== void 0 && _options.length)) {\n        return valuesMap;\n      }\n      var length = _options.length;\n      var i = 0;\n      while (i < length) {\n        var cur = _options[i++];\n        valuesMap.set(cur[valuePropsName], cur[labelPropsName]);\n        traverseOptions(cur[optionsPropsName]);\n      }\n      return valuesMap;\n    };\n    return traverseOptions(options);\n  }, [fieldNames, mode, options]);\n  if (mode === 'read') {\n    var dom = /*#__PURE__*/_jsx(_Fragment, {\n      children: proFieldParsingText(rest.text, objectToMap(valueEnum || optionsValueEnum))\n    });\n    if (render) {\n      var _render;\n      return (_render = render(dom, _objectSpread({\n        mode: mode\n      }, fieldProps), dom)) !== null && _render !== void 0 ? _render : null;\n    }\n    return dom;\n  }\n  if (mode === 'edit' || mode === 'update') {\n    var renderDom = function renderDom() {\n      if (light) {\n        return /*#__PURE__*/_jsx(LightSelect, _objectSpread(_objectSpread({}, compatibleBorder(bordered)), {}, {\n          id: id,\n          loading: loading,\n          ref: inputRef,\n          allowClear: true,\n          size: componentSize,\n          options: options,\n          label: label,\n          placeholder: intl.getMessage('tableForm.selectPlaceholder', '请选择'),\n          lightLabel: lightLabel,\n          labelTrigger: labelTrigger,\n          fetchData: _fetchData\n        }, fieldProps));\n      }\n      return /*#__PURE__*/_jsx(SearchSelect, _objectSpread(_objectSpread(_objectSpread({\n        className: rest.className,\n        style: _objectSpread({\n          minWidth: 100\n        }, rest.style)\n      }, compatibleBorder(bordered)), {}, {\n        id: id,\n        loading: loading,\n        ref: inputRef,\n        allowClear: true,\n        defaultSearchValue: props.defaultKeyWords,\n        notFoundContent: loading ? /*#__PURE__*/_jsx(Spin, {\n          size: \"small\"\n        }) : fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.notFoundContent,\n        fetchData: function fetchData(keyWord) {\n          keyWordsRef.current = keyWord !== null && keyWord !== void 0 ? keyWord : '';\n          _fetchData(keyWord);\n        },\n        resetData: resetData,\n        optionItemRender: function optionItemRender(item) {\n          if (typeof item.label === 'string' && keyWordsRef.current) {\n            return /*#__PURE__*/_jsx(Highlight, {\n              label: item.label,\n              words: [keyWordsRef.current]\n            });\n          }\n          return item.label;\n        },\n        placeholder: intl.getMessage('tableForm.selectPlaceholder', '请选择'),\n        label: label\n      }, fieldProps), {}, {\n        options: options\n      }), \"SearchSelect\");\n    };\n    var _dom = renderDom();\n    if (renderFormItem) {\n      var _renderFormItem;\n      return (_renderFormItem = renderFormItem(rest.text, _objectSpread(_objectSpread({\n        mode: mode\n      }, fieldProps), {}, {\n        options: options,\n        loading: loading\n      }), _dom)) !== null && _renderFormItem !== void 0 ? _renderFormItem : null;\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldSelect);","map":{"version":3,"names":["_objectSpread","_objectWithoutProperties","_slicedToArray","_typeof","_toConsumableArray","_defineProperty","_excluded","_excluded2","useIntl","compatibleBorder","nanoid","objectToMap","proFieldParsingText","useDebounceValue","useDeepCompareEffect","useDeepCompareMemo","useMountMergeState","useRefFunction","useStyle","ConfigProvider","Spin","React","useContext","useEffect","useImperativeHandle","useMemo","useRef","useState","useSWR","LightSelect","SearchSelect","Fragment","_Fragment","jsx","_jsx","Highlight","_ref","label","words","_useContext","ConfigContext","getPrefixCls","lightCls","optionCls","_useStyle","token","concat","color","colorPrimary","flex","overflow","whiteSpace","textOverflow","wrapSSR","matchKeywordsRE","RegExp","map","word","replace","join","matchText","elements","length","match","exec","push","start","index","matchLength","slice","createElement","className","apply","title","filerByItem","item","keyWords","_item$label","_item$value","toString","toLowerCase","includes","value","children","options","findItem","find","mapItem","proFieldParsingValueEnumToArray","valueEnumParams","enumArray","valueEnum","forEach","_","key","get","text","disabled","useFieldFetchData","props","_ref5","_props$debounceTime","_props$fieldProps3","_props$fieldProps6","cacheForSwr","fieldProps","_useState","defaultKeyWords","_useState2","setKeyWords","_useState3","proFieldKey","request","_useState4","cacheKey","proFieldKeyRef","getOptionsFormValueEnum","coverValueEnum","_ref3","rest","defaultOptions","undefined","data","treeData","_ref4","fieldNames","traverseFieldKey","_options","type","i","cur","_useMountMergeState","_useMountMergeState2","setOptions","_props$fieldProps","_props$fieldProps2","swrKey","current","params","debounceTime","_useSWR","_ref6","_ref7","kw","revalidateIfStale","revalidateOnReconnect","shouldRetryOnError","revalidateOnFocus","setLocaleData","mutate","isValidating","resOptions","_props$fieldProps4","_props$fieldProps5","opt","childrenOptions","filter","filterOption","fetchKeyWords","FieldSelect","ref","_ConfigProvider$useCo","mode","render","renderFormItem","plain","light","bordered","id","lightLabel","labelTrigger","inputRef","intl","keyWordsRef","searchValue","_useFieldFetchData","_useFieldFetchData2","loading","_fetchData","resetData","_ref8","useConfig","call","componentSize","fetchData","keyWord","optionsValueEnum","_ref9","_ref9$label","labelPropsName","_ref9$value","valuePropsName","_ref9$options","optionsPropsName","valuesMap","Map","traverseOptions","set","dom","_render","renderDom","allowClear","size","placeholder","getMessage","style","minWidth","defaultSearchValue","notFoundContent","optionItemRender","_dom","_renderFormItem","forwardRef"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-field/es/components/Select/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"value\", \"text\"],\n  _excluded2 = [\"mode\", \"valueEnum\", \"render\", \"renderFormItem\", \"request\", \"fieldProps\", \"plain\", \"children\", \"light\", \"proFieldKey\", \"params\", \"label\", \"bordered\", \"id\", \"lightLabel\", \"labelTrigger\"];\nimport { useIntl } from '@ant-design/pro-provider';\nimport { compatibleBorder, nanoid, objectToMap, proFieldParsingText, useDebounceValue, useDeepCompareEffect, useDeepCompareMemo, useMountMergeState, useRefFunction, useStyle } from '@ant-design/pro-utils';\nimport { ConfigProvider, Spin } from 'antd';\nimport React, { useContext, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport useSWR from 'swr';\nimport LightSelect from \"./LightSelect\";\nimport SearchSelect from \"./SearchSelect\";\n\n// 兼容代码-----------\nimport \"antd/es/select/style\";\n//------------\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Highlight = function Highlight(_ref) {\n  var label = _ref.label,\n    words = _ref.words;\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var lightCls = getPrefixCls('pro-select-item-option-content-light');\n  var optionCls = getPrefixCls('pro-select-item-option-content');\n\n  // css\n  var _useStyle = useStyle('Highlight', function (token) {\n      return _defineProperty(_defineProperty({}, \".\".concat(lightCls), {\n        color: token.colorPrimary\n      }), \".\".concat(optionCls), {\n        flex: 'auto',\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis'\n      });\n    }),\n    wrapSSR = _useStyle.wrapSSR;\n  var matchKeywordsRE = new RegExp(words.map(function (word) {\n    return word.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n  }).join('|'), 'gi');\n  var matchText = label;\n  var elements = [];\n  while (matchText.length) {\n    var match = matchKeywordsRE.exec(matchText);\n    if (!match) {\n      elements.push(matchText);\n      break;\n    }\n    var start = match.index;\n    var matchLength = match[0].length + start;\n    elements.push(matchText.slice(0, start), /*#__PURE__*/React.createElement('span', {\n      className: lightCls\n    }, matchText.slice(start, matchLength)));\n    matchText = matchText.slice(matchLength);\n  }\n  return wrapSSR( /*#__PURE__*/React.createElement.apply(React, ['div', {\n    title: label,\n    className: optionCls\n  }].concat(elements)));\n};\n\n/**\n * 递归筛选 item\n *\n * @param item\n * @param keyWords\n * @returns\n */\nfunction filerByItem(item, keyWords) {\n  var _item$label, _item$value;\n  if (!keyWords) return true;\n  if (item !== null && item !== void 0 && (_item$label = item.label) !== null && _item$label !== void 0 && _item$label.toString().toLowerCase().includes(keyWords.toLowerCase()) || item !== null && item !== void 0 && (_item$value = item.value) !== null && _item$value !== void 0 && _item$value.toString().toLowerCase().includes(keyWords.toLowerCase())) {\n    return true;\n  }\n  if (item.children || item.options) {\n    var findItem = [].concat(_toConsumableArray(item.children || []), [item.options || []]).find(function (mapItem) {\n      return filerByItem(mapItem, keyWords);\n    });\n    if (findItem) return true;\n  }\n  return false;\n}\n\n/**\n * 把 value 的枚举转化为数组\n *\n * @param valueEnum\n */\nexport var proFieldParsingValueEnumToArray = function proFieldParsingValueEnumToArray(valueEnumParams) {\n  var enumArray = [];\n  var valueEnum = objectToMap(valueEnumParams);\n  valueEnum.forEach(function (_, key) {\n    var value = valueEnum.get(key) || valueEnum.get(\"\".concat(key));\n    if (!value) {\n      return;\n    }\n    if (_typeof(value) === 'object' && value !== null && value !== void 0 && value.text) {\n      enumArray.push({\n        text: value === null || value === void 0 ? void 0 : value.text,\n        value: key,\n        label: value === null || value === void 0 ? void 0 : value.text,\n        disabled: value.disabled\n      });\n      return;\n    }\n    enumArray.push({\n      text: value,\n      value: key\n    });\n  });\n  return enumArray;\n};\nexport var useFieldFetchData = function useFieldFetchData(props) {\n  var _ref5, _props$debounceTime, _props$fieldProps3, _props$fieldProps6;\n  var cacheForSwr = props.cacheForSwr,\n    fieldProps = props.fieldProps;\n  var _useState = useState(props.defaultKeyWords),\n    _useState2 = _slicedToArray(_useState, 2),\n    keyWords = _useState2[0],\n    setKeyWords = _useState2[1];\n  /** Key 是用来缓存请求的，如果不在是有问题 */\n  var _useState3 = useState(function () {\n      if (props.proFieldKey) {\n        return props.proFieldKey.toString();\n      }\n      if (props.request) {\n        return nanoid();\n      }\n      return 'no-fetch';\n    }),\n    _useState4 = _slicedToArray(_useState3, 1),\n    cacheKey = _useState4[0];\n  var proFieldKeyRef = useRef(cacheKey);\n  var getOptionsFormValueEnum = useRefFunction(function (coverValueEnum) {\n    return proFieldParsingValueEnumToArray(objectToMap(coverValueEnum)).map(function (_ref3) {\n      var value = _ref3.value,\n        text = _ref3.text,\n        rest = _objectWithoutProperties(_ref3, _excluded);\n      return _objectSpread({\n        label: text,\n        value: value,\n        key: value\n      }, rest);\n    });\n  });\n  var defaultOptions = useDeepCompareMemo(function () {\n    if (!fieldProps) return undefined;\n    var data = (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.options) || (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.treeData);\n    if (!data) return undefined;\n    var _ref4 = fieldProps.fieldNames || {},\n      children = _ref4.children,\n      label = _ref4.label,\n      value = _ref4.value;\n    var traverseFieldKey = function traverseFieldKey(_options, type) {\n      if (!(_options !== null && _options !== void 0 && _options.length)) return;\n      var length = _options.length;\n      var i = 0;\n      while (i < length) {\n        var cur = _options[i++];\n        if (cur[children] || cur[label] || cur[value]) {\n          cur[type] = cur[type === 'children' ? children : type === 'label' ? label : value];\n          traverseFieldKey(cur[children], type);\n        }\n      }\n    };\n    if (children) traverseFieldKey(data, 'children');\n    if (label) traverseFieldKey(data, 'label');\n    if (value) traverseFieldKey(data, 'value');\n    return data;\n  }, [fieldProps]);\n  var _useMountMergeState = useMountMergeState(function () {\n      if (props.valueEnum) {\n        return getOptionsFormValueEnum(props.valueEnum);\n      }\n      return [];\n    }, {\n      value: defaultOptions\n    }),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    options = _useMountMergeState2[0],\n    setOptions = _useMountMergeState2[1];\n  useDeepCompareEffect(function () {\n    var _props$fieldProps, _props$fieldProps2;\n    // 优先使用 fieldProps?.options\n    if (!props.valueEnum || (_props$fieldProps = props.fieldProps) !== null && _props$fieldProps !== void 0 && _props$fieldProps.options || (_props$fieldProps2 = props.fieldProps) !== null && _props$fieldProps2 !== void 0 && _props$fieldProps2.treeData) return;\n    setOptions(getOptionsFormValueEnum(props.valueEnum));\n  }, [props.valueEnum]);\n  var swrKey = useDebounceValue([proFieldKeyRef.current, props.params, keyWords], (_ref5 = (_props$debounceTime = props.debounceTime) !== null && _props$debounceTime !== void 0 ? _props$debounceTime : props === null || props === void 0 || (_props$fieldProps3 = props.fieldProps) === null || _props$fieldProps3 === void 0 ? void 0 : _props$fieldProps3.debounceTime) !== null && _ref5 !== void 0 ? _ref5 : 0, [props.params, keyWords]);\n  var _useSWR = useSWR(function () {\n      if (!props.request) {\n        return null;\n      }\n      return swrKey;\n    }, function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 3),\n        params = _ref7[1],\n        kw = _ref7[2];\n      return props.request(_objectSpread(_objectSpread({}, params), {}, {\n        keyWords: kw\n      }), props);\n    }, {\n      revalidateIfStale: !cacheForSwr,\n      // 打开 cacheForSwr 的时候才应该支持两个功能\n      revalidateOnReconnect: cacheForSwr,\n      shouldRetryOnError: false,\n      // @todo 这个功能感觉应该搞个API出来\n      revalidateOnFocus: false\n    }),\n    data = _useSWR.data,\n    setLocaleData = _useSWR.mutate,\n    isValidating = _useSWR.isValidating;\n  var resOptions = useMemo(function () {\n    var _props$fieldProps4, _props$fieldProps5;\n    var opt = options === null || options === void 0 ? void 0 : options.map(function (item) {\n      if (typeof item === 'string') {\n        return {\n          label: item,\n          value: item\n        };\n      }\n      if (item.children || item.options) {\n        var childrenOptions = [].concat(_toConsumableArray(item.children || []), _toConsumableArray(item.options || [])).filter(function (mapItem) {\n          return filerByItem(mapItem, keyWords);\n        });\n        return _objectSpread(_objectSpread({}, item), {}, {\n          children: childrenOptions,\n          options: childrenOptions\n        });\n      }\n      return item;\n    });\n\n    // filterOption 为 true 时 filter数据, filterOption 默认为true\n    if (((_props$fieldProps4 = props.fieldProps) === null || _props$fieldProps4 === void 0 ? void 0 : _props$fieldProps4.filterOption) === true || ((_props$fieldProps5 = props.fieldProps) === null || _props$fieldProps5 === void 0 ? void 0 : _props$fieldProps5.filterOption) === undefined) {\n      return opt === null || opt === void 0 ? void 0 : opt.filter(function (item) {\n        if (!item) return false;\n        if (!keyWords) return true;\n        return filerByItem(item, keyWords);\n      });\n    }\n    return opt;\n  }, [options, keyWords, (_props$fieldProps6 = props.fieldProps) === null || _props$fieldProps6 === void 0 ? void 0 : _props$fieldProps6.filterOption]);\n  return [isValidating, props.request ? data : resOptions, function (fetchKeyWords) {\n    setKeyWords(fetchKeyWords);\n  }, function () {\n    setKeyWords(undefined);\n    setLocaleData([], false);\n  }];\n};\n\n/**\n * 可以根据 valueEnum 来进行类型的设置\n *\n * @param\n */\nvar FieldSelect = function FieldSelect(props, ref) {\n  var _ConfigProvider$useCo;\n  var mode = props.mode,\n    valueEnum = props.valueEnum,\n    render = props.render,\n    renderFormItem = props.renderFormItem,\n    request = props.request,\n    fieldProps = props.fieldProps,\n    plain = props.plain,\n    children = props.children,\n    light = props.light,\n    proFieldKey = props.proFieldKey,\n    params = props.params,\n    label = props.label,\n    bordered = props.bordered,\n    id = props.id,\n    lightLabel = props.lightLabel,\n    labelTrigger = props.labelTrigger,\n    rest = _objectWithoutProperties(props, _excluded2);\n  var inputRef = useRef();\n  var intl = useIntl();\n  var keyWordsRef = useRef('');\n  var fieldNames = fieldProps.fieldNames;\n  useEffect(function () {\n    keyWordsRef.current = fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.searchValue;\n  }, [fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.searchValue]);\n  var _useFieldFetchData = useFieldFetchData(props),\n    _useFieldFetchData2 = _slicedToArray(_useFieldFetchData, 4),\n    loading = _useFieldFetchData2[0],\n    options = _useFieldFetchData2[1],\n    _fetchData = _useFieldFetchData2[2],\n    resetData = _useFieldFetchData2[3];\n  var _ref8 = (ConfigProvider === null || ConfigProvider === void 0 || (_ConfigProvider$useCo = ConfigProvider.useConfig) === null || _ConfigProvider$useCo === void 0 ? void 0 : _ConfigProvider$useCo.call(ConfigProvider)) || {\n      componentSize: 'middle'\n    },\n    componentSize = _ref8.componentSize;\n  useImperativeHandle(ref, function () {\n    return _objectSpread(_objectSpread({}, inputRef.current || {}), {}, {\n      fetchData: function fetchData(keyWord) {\n        return _fetchData(keyWord);\n      }\n    });\n  }, [_fetchData]);\n  var optionsValueEnum = useMemo(function () {\n    if (mode !== 'read') return;\n    var _ref9 = fieldNames || {},\n      _ref9$label = _ref9.label,\n      labelPropsName = _ref9$label === void 0 ? 'label' : _ref9$label,\n      _ref9$value = _ref9.value,\n      valuePropsName = _ref9$value === void 0 ? 'value' : _ref9$value,\n      _ref9$options = _ref9.options,\n      optionsPropsName = _ref9$options === void 0 ? 'options' : _ref9$options;\n    var valuesMap = new Map();\n    var traverseOptions = function traverseOptions(_options) {\n      if (!(_options !== null && _options !== void 0 && _options.length)) {\n        return valuesMap;\n      }\n      var length = _options.length;\n      var i = 0;\n      while (i < length) {\n        var cur = _options[i++];\n        valuesMap.set(cur[valuePropsName], cur[labelPropsName]);\n        traverseOptions(cur[optionsPropsName]);\n      }\n      return valuesMap;\n    };\n    return traverseOptions(options);\n  }, [fieldNames, mode, options]);\n  if (mode === 'read') {\n    var dom = /*#__PURE__*/_jsx(_Fragment, {\n      children: proFieldParsingText(rest.text, objectToMap(valueEnum || optionsValueEnum))\n    });\n    if (render) {\n      var _render;\n      return (_render = render(dom, _objectSpread({\n        mode: mode\n      }, fieldProps), dom)) !== null && _render !== void 0 ? _render : null;\n    }\n    return dom;\n  }\n  if (mode === 'edit' || mode === 'update') {\n    var renderDom = function renderDom() {\n      if (light) {\n        return /*#__PURE__*/_jsx(LightSelect, _objectSpread(_objectSpread({}, compatibleBorder(bordered)), {}, {\n          id: id,\n          loading: loading,\n          ref: inputRef,\n          allowClear: true,\n          size: componentSize,\n          options: options,\n          label: label,\n          placeholder: intl.getMessage('tableForm.selectPlaceholder', '请选择'),\n          lightLabel: lightLabel,\n          labelTrigger: labelTrigger,\n          fetchData: _fetchData\n        }, fieldProps));\n      }\n      return /*#__PURE__*/_jsx(SearchSelect, _objectSpread(_objectSpread(_objectSpread({\n        className: rest.className,\n        style: _objectSpread({\n          minWidth: 100\n        }, rest.style)\n      }, compatibleBorder(bordered)), {}, {\n        id: id,\n        loading: loading,\n        ref: inputRef,\n        allowClear: true,\n        defaultSearchValue: props.defaultKeyWords,\n        notFoundContent: loading ? /*#__PURE__*/_jsx(Spin, {\n          size: \"small\"\n        }) : fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.notFoundContent,\n        fetchData: function fetchData(keyWord) {\n          keyWordsRef.current = keyWord !== null && keyWord !== void 0 ? keyWord : '';\n          _fetchData(keyWord);\n        },\n        resetData: resetData,\n        optionItemRender: function optionItemRender(item) {\n          if (typeof item.label === 'string' && keyWordsRef.current) {\n            return /*#__PURE__*/_jsx(Highlight, {\n              label: item.label,\n              words: [keyWordsRef.current]\n            });\n          }\n          return item.label;\n        },\n        placeholder: intl.getMessage('tableForm.selectPlaceholder', '请选择'),\n        label: label\n      }, fieldProps), {}, {\n        options: options\n      }), \"SearchSelect\");\n    };\n    var _dom = renderDom();\n    if (renderFormItem) {\n      var _renderFormItem;\n      return (_renderFormItem = renderFormItem(rest.text, _objectSpread(_objectSpread({\n        mode: mode\n      }, fieldProps), {}, {\n        options: options,\n        loading: loading\n      }), _dom)) !== null && _renderFormItem !== void 0 ? _renderFormItem : null;\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldSelect);"],"mappings":"AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,OAAOC,wBAAwB,MAAM,oDAAoD;AACzF,OAAOC,cAAc,MAAM,0CAA0C;AACrE,OAAOC,OAAO,MAAM,mCAAmC;AACvD,OAAOC,kBAAkB,MAAM,8CAA8C;AAC7E,OAAOC,eAAe,MAAM,2CAA2C;AACvE,IAAIC,SAAS,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC;EAC/BC,UAAU,GAAG,CAAC,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,gBAAgB,EAAE,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,YAAY,EAAE,cAAc,CAAC;AACzM,SAASC,OAAO,QAAQ,0BAA0B;AAClD,SAASC,gBAAgB,EAAEC,MAAM,EAAEC,WAAW,EAAEC,mBAAmB,EAAEC,gBAAgB,EAAEC,oBAAoB,EAAEC,kBAAkB,EAAEC,kBAAkB,EAAEC,cAAc,EAAEC,QAAQ,QAAQ,uBAAuB;AAC5M,SAASC,cAAc,EAAEC,IAAI,QAAQ,MAAM;AAC3C,OAAOC,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,mBAAmB,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACpG,OAAOC,MAAM,MAAM,KAAK;AACxB,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,YAAY,MAAM,gBAAgB;;AAEzC;AACA,OAAO,sBAAsB;AAC7B;AACA,SAASC,QAAQ,IAAIC,SAAS,QAAQ,mBAAmB;AACzD,SAASC,GAAG,IAAIC,IAAI,QAAQ,mBAAmB;AAC/C,IAAIC,SAAS,GAAG,SAASA,SAASA,CAACC,IAAI,EAAE;EACvC,IAAIC,KAAK,GAAGD,IAAI,CAACC,KAAK;IACpBC,KAAK,GAAGF,IAAI,CAACE,KAAK;EACpB,IAAIC,WAAW,GAAGjB,UAAU,CAACH,cAAc,CAACqB,aAAa,CAAC;IACxDC,YAAY,GAAGF,WAAW,CAACE,YAAY;EACzC,IAAIC,QAAQ,GAAGD,YAAY,CAAC,sCAAsC,CAAC;EACnE,IAAIE,SAAS,GAAGF,YAAY,CAAC,gCAAgC,CAAC;;EAE9D;EACA,IAAIG,SAAS,GAAG1B,QAAQ,CAAC,WAAW,EAAE,UAAU2B,KAAK,EAAE;MACnD,OAAOxC,eAAe,CAACA,eAAe,CAAC,CAAC,CAAC,EAAE,GAAG,CAACyC,MAAM,CAACJ,QAAQ,CAAC,EAAE;QAC/DK,KAAK,EAAEF,KAAK,CAACG;MACf,CAAC,CAAC,EAAE,GAAG,CAACF,MAAM,CAACH,SAAS,CAAC,EAAE;QACzBM,IAAI,EAAE,MAAM;QACZC,QAAQ,EAAE,QAAQ;QAClBC,UAAU,EAAE,QAAQ;QACpBC,YAAY,EAAE;MAChB,CAAC,CAAC;IACJ,CAAC,CAAC;IACFC,OAAO,GAAGT,SAAS,CAACS,OAAO;EAC7B,IAAIC,eAAe,GAAG,IAAIC,MAAM,CAACjB,KAAK,CAACkB,GAAG,CAAC,UAAUC,IAAI,EAAE;IACzD,OAAOA,IAAI,CAACC,OAAO,CAAC,uBAAuB,EAAE,MAAM,CAAC;EACtD,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC;EACnB,IAAIC,SAAS,GAAGvB,KAAK;EACrB,IAAIwB,QAAQ,GAAG,EAAE;EACjB,OAAOD,SAAS,CAACE,MAAM,EAAE;IACvB,IAAIC,KAAK,GAAGT,eAAe,CAACU,IAAI,CAACJ,SAAS,CAAC;IAC3C,IAAI,CAACG,KAAK,EAAE;MACVF,QAAQ,CAACI,IAAI,CAACL,SAAS,CAAC;MACxB;IACF;IACA,IAAIM,KAAK,GAAGH,KAAK,CAACI,KAAK;IACvB,IAAIC,WAAW,GAAGL,KAAK,CAAC,CAAC,CAAC,CAACD,MAAM,GAAGI,KAAK;IACzCL,QAAQ,CAACI,IAAI,CAACL,SAAS,CAACS,KAAK,CAAC,CAAC,EAAEH,KAAK,CAAC,EAAE,aAAa7C,KAAK,CAACiD,aAAa,CAAC,MAAM,EAAE;MAChFC,SAAS,EAAE7B;IACb,CAAC,EAAEkB,SAAS,CAACS,KAAK,CAACH,KAAK,EAAEE,WAAW,CAAC,CAAC,CAAC;IACxCR,SAAS,GAAGA,SAAS,CAACS,KAAK,CAACD,WAAW,CAAC;EAC1C;EACA,OAAOf,OAAO,CAAE,aAAahC,KAAK,CAACiD,aAAa,CAACE,KAAK,CAACnD,KAAK,EAAE,CAAC,KAAK,EAAE;IACpEoD,KAAK,EAAEpC,KAAK;IACZkC,SAAS,EAAE5B;EACb,CAAC,CAAC,CAACG,MAAM,CAACe,QAAQ,CAAC,CAAC,CAAC;AACvB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASa,WAAWA,CAACC,IAAI,EAAEC,QAAQ,EAAE;EACnC,IAAIC,WAAW,EAAEC,WAAW;EAC5B,IAAI,CAACF,QAAQ,EAAE,OAAO,IAAI;EAC1B,IAAID,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,IAAI,CAACE,WAAW,GAAGF,IAAI,CAACtC,KAAK,MAAM,IAAI,IAAIwC,WAAW,KAAK,KAAK,CAAC,IAAIA,WAAW,CAACE,QAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACL,QAAQ,CAACI,WAAW,CAAC,CAAC,CAAC,IAAIL,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,IAAI,CAACG,WAAW,GAAGH,IAAI,CAACO,KAAK,MAAM,IAAI,IAAIJ,WAAW,KAAK,KAAK,CAAC,IAAIA,WAAW,CAACC,QAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACL,QAAQ,CAACI,WAAW,CAAC,CAAC,CAAC,EAAE;IAC5V,OAAO,IAAI;EACb;EACA,IAAIL,IAAI,CAACQ,QAAQ,IAAIR,IAAI,CAACS,OAAO,EAAE;IACjC,IAAIC,QAAQ,GAAG,EAAE,CAACvC,MAAM,CAAC1C,kBAAkB,CAACuE,IAAI,CAACQ,QAAQ,IAAI,EAAE,CAAC,EAAE,CAACR,IAAI,CAACS,OAAO,IAAI,EAAE,CAAC,CAAC,CAACE,IAAI,CAAC,UAAUC,OAAO,EAAE;MAC9G,OAAOb,WAAW,CAACa,OAAO,EAAEX,QAAQ,CAAC;IACvC,CAAC,CAAC;IACF,IAAIS,QAAQ,EAAE,OAAO,IAAI;EAC3B;EACA,OAAO,KAAK;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAIG,+BAA+B,GAAG,SAASA,+BAA+BA,CAACC,eAAe,EAAE;EACrG,IAAIC,SAAS,GAAG,EAAE;EAClB,IAAIC,SAAS,GAAGhF,WAAW,CAAC8E,eAAe,CAAC;EAC5CE,SAAS,CAACC,OAAO,CAAC,UAAUC,CAAC,EAAEC,GAAG,EAAE;IAClC,IAAIZ,KAAK,GAAGS,SAAS,CAACI,GAAG,CAACD,GAAG,CAAC,IAAIH,SAAS,CAACI,GAAG,CAAC,EAAE,CAACjD,MAAM,CAACgD,GAAG,CAAC,CAAC;IAC/D,IAAI,CAACZ,KAAK,EAAE;MACV;IACF;IACA,IAAI/E,OAAO,CAAC+E,KAAK,CAAC,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,IAAIA,KAAK,CAACc,IAAI,EAAE;MACnFN,SAAS,CAACzB,IAAI,CAAC;QACb+B,IAAI,EAAEd,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACc,IAAI;QAC9Dd,KAAK,EAAEY,GAAG;QACVzD,KAAK,EAAE6C,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACc,IAAI;QAC/DC,QAAQ,EAAEf,KAAK,CAACe;MAClB,CAAC,CAAC;MACF;IACF;IACAP,SAAS,CAACzB,IAAI,CAAC;MACb+B,IAAI,EAAEd,KAAK;MACXA,KAAK,EAAEY;IACT,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAOJ,SAAS;AAClB,CAAC;AACD,OAAO,IAAIQ,iBAAiB,GAAG,SAASA,iBAAiBA,CAACC,KAAK,EAAE;EAC/D,IAAIC,KAAK,EAAEC,mBAAmB,EAAEC,kBAAkB,EAAEC,kBAAkB;EACtE,IAAIC,WAAW,GAAGL,KAAK,CAACK,WAAW;IACjCC,UAAU,GAAGN,KAAK,CAACM,UAAU;EAC/B,IAAIC,SAAS,GAAG/E,QAAQ,CAACwE,KAAK,CAACQ,eAAe,CAAC;IAC7CC,UAAU,GAAG1G,cAAc,CAACwG,SAAS,EAAE,CAAC,CAAC;IACzC9B,QAAQ,GAAGgC,UAAU,CAAC,CAAC,CAAC;IACxBC,WAAW,GAAGD,UAAU,CAAC,CAAC,CAAC;EAC7B;EACA,IAAIE,UAAU,GAAGnF,QAAQ,CAAC,YAAY;MAClC,IAAIwE,KAAK,CAACY,WAAW,EAAE;QACrB,OAAOZ,KAAK,CAACY,WAAW,CAAChC,QAAQ,CAAC,CAAC;MACrC;MACA,IAAIoB,KAAK,CAACa,OAAO,EAAE;QACjB,OAAOtG,MAAM,CAAC,CAAC;MACjB;MACA,OAAO,UAAU;IACnB,CAAC,CAAC;IACFuG,UAAU,GAAG/G,cAAc,CAAC4G,UAAU,EAAE,CAAC,CAAC;IAC1CI,QAAQ,GAAGD,UAAU,CAAC,CAAC,CAAC;EAC1B,IAAIE,cAAc,GAAGzF,MAAM,CAACwF,QAAQ,CAAC;EACrC,IAAIE,uBAAuB,GAAGnG,cAAc,CAAC,UAAUoG,cAAc,EAAE;IACrE,OAAO7B,+BAA+B,CAAC7E,WAAW,CAAC0G,cAAc,CAAC,CAAC,CAAC7D,GAAG,CAAC,UAAU8D,KAAK,EAAE;MACvF,IAAIpC,KAAK,GAAGoC,KAAK,CAACpC,KAAK;QACrBc,IAAI,GAAGsB,KAAK,CAACtB,IAAI;QACjBuB,IAAI,GAAGtH,wBAAwB,CAACqH,KAAK,EAAEhH,SAAS,CAAC;MACnD,OAAON,aAAa,CAAC;QACnBqC,KAAK,EAAE2D,IAAI;QACXd,KAAK,EAAEA,KAAK;QACZY,GAAG,EAAEZ;MACP,CAAC,EAAEqC,IAAI,CAAC;IACV,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,IAAIC,cAAc,GAAGzG,kBAAkB,CAAC,YAAY;IAClD,IAAI,CAAC0F,UAAU,EAAE,OAAOgB,SAAS;IACjC,IAAIC,IAAI,GAAG,CAACjB,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACrB,OAAO,MAAMqB,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACkB,QAAQ,CAAC;IACxK,IAAI,CAACD,IAAI,EAAE,OAAOD,SAAS;IAC3B,IAAIG,KAAK,GAAGnB,UAAU,CAACoB,UAAU,IAAI,CAAC,CAAC;MACrC1C,QAAQ,GAAGyC,KAAK,CAACzC,QAAQ;MACzB9C,KAAK,GAAGuF,KAAK,CAACvF,KAAK;MACnB6C,KAAK,GAAG0C,KAAK,CAAC1C,KAAK;IACrB,IAAI4C,gBAAgB,GAAG,SAASA,gBAAgBA,CAACC,QAAQ,EAAEC,IAAI,EAAE;MAC/D,IAAI,EAAED,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,IAAIA,QAAQ,CAACjE,MAAM,CAAC,EAAE;MACpE,IAAIA,MAAM,GAAGiE,QAAQ,CAACjE,MAAM;MAC5B,IAAImE,CAAC,GAAG,CAAC;MACT,OAAOA,CAAC,GAAGnE,MAAM,EAAE;QACjB,IAAIoE,GAAG,GAAGH,QAAQ,CAACE,CAAC,EAAE,CAAC;QACvB,IAAIC,GAAG,CAAC/C,QAAQ,CAAC,IAAI+C,GAAG,CAAC7F,KAAK,CAAC,IAAI6F,GAAG,CAAChD,KAAK,CAAC,EAAE;UAC7CgD,GAAG,CAACF,IAAI,CAAC,GAAGE,GAAG,CAACF,IAAI,KAAK,UAAU,GAAG7C,QAAQ,GAAG6C,IAAI,KAAK,OAAO,GAAG3F,KAAK,GAAG6C,KAAK,CAAC;UAClF4C,gBAAgB,CAACI,GAAG,CAAC/C,QAAQ,CAAC,EAAE6C,IAAI,CAAC;QACvC;MACF;IACF,CAAC;IACD,IAAI7C,QAAQ,EAAE2C,gBAAgB,CAACJ,IAAI,EAAE,UAAU,CAAC;IAChD,IAAIrF,KAAK,EAAEyF,gBAAgB,CAACJ,IAAI,EAAE,OAAO,CAAC;IAC1C,IAAIxC,KAAK,EAAE4C,gBAAgB,CAACJ,IAAI,EAAE,OAAO,CAAC;IAC1C,OAAOA,IAAI;EACb,CAAC,EAAE,CAACjB,UAAU,CAAC,CAAC;EAChB,IAAI0B,mBAAmB,GAAGnH,kBAAkB,CAAC,YAAY;MACrD,IAAImF,KAAK,CAACR,SAAS,EAAE;QACnB,OAAOyB,uBAAuB,CAACjB,KAAK,CAACR,SAAS,CAAC;MACjD;MACA,OAAO,EAAE;IACX,CAAC,EAAE;MACDT,KAAK,EAAEsC;IACT,CAAC,CAAC;IACFY,oBAAoB,GAAGlI,cAAc,CAACiI,mBAAmB,EAAE,CAAC,CAAC;IAC7D/C,OAAO,GAAGgD,oBAAoB,CAAC,CAAC,CAAC;IACjCC,UAAU,GAAGD,oBAAoB,CAAC,CAAC,CAAC;EACtCtH,oBAAoB,CAAC,YAAY;IAC/B,IAAIwH,iBAAiB,EAAEC,kBAAkB;IACzC;IACA,IAAI,CAACpC,KAAK,CAACR,SAAS,IAAI,CAAC2C,iBAAiB,GAAGnC,KAAK,CAACM,UAAU,MAAM,IAAI,IAAI6B,iBAAiB,KAAK,KAAK,CAAC,IAAIA,iBAAiB,CAAClD,OAAO,IAAI,CAACmD,kBAAkB,GAAGpC,KAAK,CAACM,UAAU,MAAM,IAAI,IAAI8B,kBAAkB,KAAK,KAAK,CAAC,IAAIA,kBAAkB,CAACZ,QAAQ,EAAE;IAC1PU,UAAU,CAACjB,uBAAuB,CAACjB,KAAK,CAACR,SAAS,CAAC,CAAC;EACtD,CAAC,EAAE,CAACQ,KAAK,CAACR,SAAS,CAAC,CAAC;EACrB,IAAI6C,MAAM,GAAG3H,gBAAgB,CAAC,CAACsG,cAAc,CAACsB,OAAO,EAAEtC,KAAK,CAACuC,MAAM,EAAE9D,QAAQ,CAAC,EAAE,CAACwB,KAAK,GAAG,CAACC,mBAAmB,GAAGF,KAAK,CAACwC,YAAY,MAAM,IAAI,IAAItC,mBAAmB,KAAK,KAAK,CAAC,GAAGA,mBAAmB,GAAGF,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,IAAI,CAACG,kBAAkB,GAAGH,KAAK,CAACM,UAAU,MAAM,IAAI,IAAIH,kBAAkB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,kBAAkB,CAACqC,YAAY,MAAM,IAAI,IAAIvC,KAAK,KAAK,KAAK,CAAC,GAAGA,KAAK,GAAG,CAAC,EAAE,CAACD,KAAK,CAACuC,MAAM,EAAE9D,QAAQ,CAAC,CAAC;EAC9a,IAAIgE,OAAO,GAAGhH,MAAM,CAAC,YAAY;MAC7B,IAAI,CAACuE,KAAK,CAACa,OAAO,EAAE;QAClB,OAAO,IAAI;MACb;MACA,OAAOwB,MAAM;IACf,CAAC,EAAE,UAAUK,KAAK,EAAE;MAClB,IAAIC,KAAK,GAAG5I,cAAc,CAAC2I,KAAK,EAAE,CAAC,CAAC;QAClCH,MAAM,GAAGI,KAAK,CAAC,CAAC,CAAC;QACjBC,EAAE,GAAGD,KAAK,CAAC,CAAC,CAAC;MACf,OAAO3C,KAAK,CAACa,OAAO,CAAChH,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE0I,MAAM,CAAC,EAAE,CAAC,CAAC,EAAE;QAChE9D,QAAQ,EAAEmE;MACZ,CAAC,CAAC,EAAE5C,KAAK,CAAC;IACZ,CAAC,EAAE;MACD6C,iBAAiB,EAAE,CAACxC,WAAW;MAC/B;MACAyC,qBAAqB,EAAEzC,WAAW;MAClC0C,kBAAkB,EAAE,KAAK;MACzB;MACAC,iBAAiB,EAAE;IACrB,CAAC,CAAC;IACFzB,IAAI,GAAGkB,OAAO,CAAClB,IAAI;IACnB0B,aAAa,GAAGR,OAAO,CAACS,MAAM;IAC9BC,YAAY,GAAGV,OAAO,CAACU,YAAY;EACrC,IAAIC,UAAU,GAAG9H,OAAO,CAAC,YAAY;IACnC,IAAI+H,kBAAkB,EAAEC,kBAAkB;IAC1C,IAAIC,GAAG,GAAGtE,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC5B,GAAG,CAAC,UAAUmB,IAAI,EAAE;MACtF,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;QAC5B,OAAO;UACLtC,KAAK,EAAEsC,IAAI;UACXO,KAAK,EAAEP;QACT,CAAC;MACH;MACA,IAAIA,IAAI,CAACQ,QAAQ,IAAIR,IAAI,CAACS,OAAO,EAAE;QACjC,IAAIuE,eAAe,GAAG,EAAE,CAAC7G,MAAM,CAAC1C,kBAAkB,CAACuE,IAAI,CAACQ,QAAQ,IAAI,EAAE,CAAC,EAAE/E,kBAAkB,CAACuE,IAAI,CAACS,OAAO,IAAI,EAAE,CAAC,CAAC,CAACwE,MAAM,CAAC,UAAUrE,OAAO,EAAE;UACzI,OAAOb,WAAW,CAACa,OAAO,EAAEX,QAAQ,CAAC;QACvC,CAAC,CAAC;QACF,OAAO5E,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE2E,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE;UAChDQ,QAAQ,EAAEwE,eAAe;UACzBvE,OAAO,EAAEuE;QACX,CAAC,CAAC;MACJ;MACA,OAAOhF,IAAI;IACb,CAAC,CAAC;;IAEF;IACA,IAAI,CAAC,CAAC6E,kBAAkB,GAAGrD,KAAK,CAACM,UAAU,MAAM,IAAI,IAAI+C,kBAAkB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,kBAAkB,CAACK,YAAY,MAAM,IAAI,IAAI,CAAC,CAACJ,kBAAkB,GAAGtD,KAAK,CAACM,UAAU,MAAM,IAAI,IAAIgD,kBAAkB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,kBAAkB,CAACI,YAAY,MAAMpC,SAAS,EAAE;MAC3R,OAAOiC,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACE,MAAM,CAAC,UAAUjF,IAAI,EAAE;QAC1E,IAAI,CAACA,IAAI,EAAE,OAAO,KAAK;QACvB,IAAI,CAACC,QAAQ,EAAE,OAAO,IAAI;QAC1B,OAAOF,WAAW,CAACC,IAAI,EAAEC,QAAQ,CAAC;MACpC,CAAC,CAAC;IACJ;IACA,OAAO8E,GAAG;EACZ,CAAC,EAAE,CAACtE,OAAO,EAAER,QAAQ,EAAE,CAAC2B,kBAAkB,GAAGJ,KAAK,CAACM,UAAU,MAAM,IAAI,IAAIF,kBAAkB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,kBAAkB,CAACsD,YAAY,CAAC,CAAC;EACrJ,OAAO,CAACP,YAAY,EAAEnD,KAAK,CAACa,OAAO,GAAGU,IAAI,GAAG6B,UAAU,EAAE,UAAUO,aAAa,EAAE;IAChFjD,WAAW,CAACiD,aAAa,CAAC;EAC5B,CAAC,EAAE,YAAY;IACbjD,WAAW,CAACY,SAAS,CAAC;IACtB2B,aAAa,CAAC,EAAE,EAAE,KAAK,CAAC;EAC1B,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAIW,WAAW,GAAG,SAASA,WAAWA,CAAC5D,KAAK,EAAE6D,GAAG,EAAE;EACjD,IAAIC,qBAAqB;EACzB,IAAIC,IAAI,GAAG/D,KAAK,CAAC+D,IAAI;IACnBvE,SAAS,GAAGQ,KAAK,CAACR,SAAS;IAC3BwE,MAAM,GAAGhE,KAAK,CAACgE,MAAM;IACrBC,cAAc,GAAGjE,KAAK,CAACiE,cAAc;IACrCpD,OAAO,GAAGb,KAAK,CAACa,OAAO;IACvBP,UAAU,GAAGN,KAAK,CAACM,UAAU;IAC7B4D,KAAK,GAAGlE,KAAK,CAACkE,KAAK;IACnBlF,QAAQ,GAAGgB,KAAK,CAAChB,QAAQ;IACzBmF,KAAK,GAAGnE,KAAK,CAACmE,KAAK;IACnBvD,WAAW,GAAGZ,KAAK,CAACY,WAAW;IAC/B2B,MAAM,GAAGvC,KAAK,CAACuC,MAAM;IACrBrG,KAAK,GAAG8D,KAAK,CAAC9D,KAAK;IACnBkI,QAAQ,GAAGpE,KAAK,CAACoE,QAAQ;IACzBC,EAAE,GAAGrE,KAAK,CAACqE,EAAE;IACbC,UAAU,GAAGtE,KAAK,CAACsE,UAAU;IAC7BC,YAAY,GAAGvE,KAAK,CAACuE,YAAY;IACjCnD,IAAI,GAAGtH,wBAAwB,CAACkG,KAAK,EAAE5F,UAAU,CAAC;EACpD,IAAIoK,QAAQ,GAAGjJ,MAAM,CAAC,CAAC;EACvB,IAAIkJ,IAAI,GAAGpK,OAAO,CAAC,CAAC;EACpB,IAAIqK,WAAW,GAAGnJ,MAAM,CAAC,EAAE,CAAC;EAC5B,IAAImG,UAAU,GAAGpB,UAAU,CAACoB,UAAU;EACtCtG,SAAS,CAAC,YAAY;IACpBsJ,WAAW,CAACpC,OAAO,GAAGhC,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACqE,WAAW;EACtG,CAAC,EAAE,CAACrE,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACqE,WAAW,CAAC,CAAC;EACpF,IAAIC,kBAAkB,GAAG7E,iBAAiB,CAACC,KAAK,CAAC;IAC/C6E,mBAAmB,GAAG9K,cAAc,CAAC6K,kBAAkB,EAAE,CAAC,CAAC;IAC3DE,OAAO,GAAGD,mBAAmB,CAAC,CAAC,CAAC;IAChC5F,OAAO,GAAG4F,mBAAmB,CAAC,CAAC,CAAC;IAChCE,UAAU,GAAGF,mBAAmB,CAAC,CAAC,CAAC;IACnCG,SAAS,GAAGH,mBAAmB,CAAC,CAAC,CAAC;EACpC,IAAII,KAAK,GAAG,CAACjK,cAAc,KAAK,IAAI,IAAIA,cAAc,KAAK,KAAK,CAAC,IAAI,CAAC8I,qBAAqB,GAAG9I,cAAc,CAACkK,SAAS,MAAM,IAAI,IAAIpB,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACqB,IAAI,CAACnK,cAAc,CAAC,KAAK;MAC3NoK,aAAa,EAAE;IACjB,CAAC;IACDA,aAAa,GAAGH,KAAK,CAACG,aAAa;EACrC/J,mBAAmB,CAACwI,GAAG,EAAE,YAAY;IACnC,OAAOhK,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE2K,QAAQ,CAAClC,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;MAClE+C,SAAS,EAAE,SAASA,SAASA,CAACC,OAAO,EAAE;QACrC,OAAOP,UAAU,CAACO,OAAO,CAAC;MAC5B;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACP,UAAU,CAAC,CAAC;EAChB,IAAIQ,gBAAgB,GAAGjK,OAAO,CAAC,YAAY;IACzC,IAAIyI,IAAI,KAAK,MAAM,EAAE;IACrB,IAAIyB,KAAK,GAAG9D,UAAU,IAAI,CAAC,CAAC;MAC1B+D,WAAW,GAAGD,KAAK,CAACtJ,KAAK;MACzBwJ,cAAc,GAAGD,WAAW,KAAK,KAAK,CAAC,GAAG,OAAO,GAAGA,WAAW;MAC/DE,WAAW,GAAGH,KAAK,CAACzG,KAAK;MACzB6G,cAAc,GAAGD,WAAW,KAAK,KAAK,CAAC,GAAG,OAAO,GAAGA,WAAW;MAC/DE,aAAa,GAAGL,KAAK,CAACvG,OAAO;MAC7B6G,gBAAgB,GAAGD,aAAa,KAAK,KAAK,CAAC,GAAG,SAAS,GAAGA,aAAa;IACzE,IAAIE,SAAS,GAAG,IAAIC,GAAG,CAAC,CAAC;IACzB,IAAIC,eAAe,GAAG,SAASA,eAAeA,CAACrE,QAAQ,EAAE;MACvD,IAAI,EAAEA,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,IAAIA,QAAQ,CAACjE,MAAM,CAAC,EAAE;QAClE,OAAOoI,SAAS;MAClB;MACA,IAAIpI,MAAM,GAAGiE,QAAQ,CAACjE,MAAM;MAC5B,IAAImE,CAAC,GAAG,CAAC;MACT,OAAOA,CAAC,GAAGnE,MAAM,EAAE;QACjB,IAAIoE,GAAG,GAAGH,QAAQ,CAACE,CAAC,EAAE,CAAC;QACvBiE,SAAS,CAACG,GAAG,CAACnE,GAAG,CAAC6D,cAAc,CAAC,EAAE7D,GAAG,CAAC2D,cAAc,CAAC,CAAC;QACvDO,eAAe,CAAClE,GAAG,CAAC+D,gBAAgB,CAAC,CAAC;MACxC;MACA,OAAOC,SAAS;IAClB,CAAC;IACD,OAAOE,eAAe,CAAChH,OAAO,CAAC;EACjC,CAAC,EAAE,CAACyC,UAAU,EAAEqC,IAAI,EAAE9E,OAAO,CAAC,CAAC;EAC/B,IAAI8E,IAAI,KAAK,MAAM,EAAE;IACnB,IAAIoC,GAAG,GAAG,aAAapK,IAAI,CAACF,SAAS,EAAE;MACrCmD,QAAQ,EAAEvE,mBAAmB,CAAC2G,IAAI,CAACvB,IAAI,EAAErF,WAAW,CAACgF,SAAS,IAAI+F,gBAAgB,CAAC;IACrF,CAAC,CAAC;IACF,IAAIvB,MAAM,EAAE;MACV,IAAIoC,OAAO;MACX,OAAO,CAACA,OAAO,GAAGpC,MAAM,CAACmC,GAAG,EAAEtM,aAAa,CAAC;QAC1CkK,IAAI,EAAEA;MACR,CAAC,EAAEzD,UAAU,CAAC,EAAE6F,GAAG,CAAC,MAAM,IAAI,IAAIC,OAAO,KAAK,KAAK,CAAC,GAAGA,OAAO,GAAG,IAAI;IACvE;IACA,OAAOD,GAAG;EACZ;EACA,IAAIpC,IAAI,KAAK,MAAM,IAAIA,IAAI,KAAK,QAAQ,EAAE;IACxC,IAAIsC,SAAS,GAAG,SAASA,SAASA,CAAA,EAAG;MACnC,IAAIlC,KAAK,EAAE;QACT,OAAO,aAAapI,IAAI,CAACL,WAAW,EAAE7B,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAES,gBAAgB,CAAC8J,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;UACrGC,EAAE,EAAEA,EAAE;UACNS,OAAO,EAAEA,OAAO;UAChBjB,GAAG,EAAEW,QAAQ;UACb8B,UAAU,EAAE,IAAI;UAChBC,IAAI,EAAEnB,aAAa;UACnBnG,OAAO,EAAEA,OAAO;UAChB/C,KAAK,EAAEA,KAAK;UACZsK,WAAW,EAAE/B,IAAI,CAACgC,UAAU,CAAC,6BAA6B,EAAE,KAAK,CAAC;UAClEnC,UAAU,EAAEA,UAAU;UACtBC,YAAY,EAAEA,YAAY;UAC1Bc,SAAS,EAAEN;QACb,CAAC,EAAEzE,UAAU,CAAC,CAAC;MACjB;MACA,OAAO,aAAavE,IAAI,CAACJ,YAAY,EAAE9B,aAAa,CAACA,aAAa,CAACA,aAAa,CAAC;QAC/EuE,SAAS,EAAEgD,IAAI,CAAChD,SAAS;QACzBsI,KAAK,EAAE7M,aAAa,CAAC;UACnB8M,QAAQ,EAAE;QACZ,CAAC,EAAEvF,IAAI,CAACsF,KAAK;MACf,CAAC,EAAEpM,gBAAgB,CAAC8J,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;QAClCC,EAAE,EAAEA,EAAE;QACNS,OAAO,EAAEA,OAAO;QAChBjB,GAAG,EAAEW,QAAQ;QACb8B,UAAU,EAAE,IAAI;QAChBM,kBAAkB,EAAE5G,KAAK,CAACQ,eAAe;QACzCqG,eAAe,EAAE/B,OAAO,GAAG,aAAa/I,IAAI,CAACd,IAAI,EAAE;UACjDsL,IAAI,EAAE;QACR,CAAC,CAAC,GAAGjG,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACuG,eAAe;QACvFxB,SAAS,EAAE,SAASA,SAASA,CAACC,OAAO,EAAE;UACrCZ,WAAW,CAACpC,OAAO,GAAGgD,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAGA,OAAO,GAAG,EAAE;UAC3EP,UAAU,CAACO,OAAO,CAAC;QACrB,CAAC;QACDN,SAAS,EAAEA,SAAS;QACpB8B,gBAAgB,EAAE,SAASA,gBAAgBA,CAACtI,IAAI,EAAE;UAChD,IAAI,OAAOA,IAAI,CAACtC,KAAK,KAAK,QAAQ,IAAIwI,WAAW,CAACpC,OAAO,EAAE;YACzD,OAAO,aAAavG,IAAI,CAACC,SAAS,EAAE;cAClCE,KAAK,EAAEsC,IAAI,CAACtC,KAAK;cACjBC,KAAK,EAAE,CAACuI,WAAW,CAACpC,OAAO;YAC7B,CAAC,CAAC;UACJ;UACA,OAAO9D,IAAI,CAACtC,KAAK;QACnB,CAAC;QACDsK,WAAW,EAAE/B,IAAI,CAACgC,UAAU,CAAC,6BAA6B,EAAE,KAAK,CAAC;QAClEvK,KAAK,EAAEA;MACT,CAAC,EAAEoE,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE;QAClBrB,OAAO,EAAEA;MACX,CAAC,CAAC,EAAE,cAAc,CAAC;IACrB,CAAC;IACD,IAAI8H,IAAI,GAAGV,SAAS,CAAC,CAAC;IACtB,IAAIpC,cAAc,EAAE;MAClB,IAAI+C,eAAe;MACnB,OAAO,CAACA,eAAe,GAAG/C,cAAc,CAAC7C,IAAI,CAACvB,IAAI,EAAEhG,aAAa,CAACA,aAAa,CAAC;QAC9EkK,IAAI,EAAEA;MACR,CAAC,EAAEzD,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE;QAClBrB,OAAO,EAAEA,OAAO;QAChB6F,OAAO,EAAEA;MACX,CAAC,CAAC,EAAEiC,IAAI,CAAC,MAAM,IAAI,IAAIC,eAAe,KAAK,KAAK,CAAC,GAAGA,eAAe,GAAG,IAAI;IAC5E;IACA,OAAOD,IAAI;EACb;EACA,OAAO,IAAI;AACb,CAAC;AACD,eAAe,aAAa7L,KAAK,CAAC+L,UAAU,CAACrD,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}