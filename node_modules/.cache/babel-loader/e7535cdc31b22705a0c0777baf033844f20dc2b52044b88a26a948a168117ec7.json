{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"current\", \"onCurrentChange\", \"submitter\", \"stepsFormRender\", \"stepsRender\", \"stepFormRender\", \"stepsProps\", \"onFinish\", \"formProps\", \"containerStyle\", \"formRef\", \"formMapRef\", \"layoutRender\"];\nimport { ProConfigProvider, useIntl } from '@ant-design/pro-provider';\nimport { compareVersions, merge, useRefFunction } from '@ant-design/pro-utils';\nimport { Button, Col, ConfigProvider, Form, Row, Space, Steps, version } from 'antd';\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useCallback, useContext, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport StepForm from \"./StepForm\";\nimport { useStyle } from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var StepsFormProvide = /*#__PURE__*/React.createContext(undefined);\nvar StepsLayoutStrategy = {\n  horizontal: function horizontal(_ref) {\n    var stepsDom = _ref.stepsDom,\n      formDom = _ref.formDom;\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Row, {\n        gutter: {\n          xs: 8,\n          sm: 16,\n          md: 24\n        },\n        children: /*#__PURE__*/_jsx(Col, {\n          span: 24,\n          children: stepsDom\n        })\n      }), /*#__PURE__*/_jsx(Row, {\n        gutter: {\n          xs: 8,\n          sm: 16,\n          md: 24\n        },\n        children: /*#__PURE__*/_jsx(Col, {\n          span: 24,\n          children: formDom\n        })\n      })]\n    });\n  },\n  vertical: function vertical(_ref2) {\n    var stepsDom = _ref2.stepsDom,\n      formDom = _ref2.formDom;\n    return /*#__PURE__*/_jsxs(Row, {\n      align: \"stretch\",\n      wrap: true,\n      gutter: {\n        xs: 8,\n        sm: 16,\n        md: 24\n      },\n      children: [/*#__PURE__*/_jsx(Col, {\n        xxl: 4,\n        xl: 6,\n        lg: 7,\n        md: 8,\n        sm: 10,\n        xs: 12,\n        children: /*#__PURE__*/React.cloneElement(stepsDom, {\n          style: {\n            height: '100%'\n          }\n        })\n      }), /*#__PURE__*/_jsx(Col, {\n        children: /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            width: '100%',\n            height: '100%'\n          },\n          children: formDom\n        })\n      })]\n    });\n  }\n};\n\n/**\n * 给  StepForm 传递信息\n */\nexport var StepFormProvide = /*#__PURE__*/React.createContext(null);\nfunction StepsForm(props) {\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('pro-steps-form');\n  var _useStyle = useStyle(prefixCls),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var current = props.current,\n    onCurrentChange = props.onCurrentChange,\n    submitter = props.submitter,\n    stepsFormRender = props.stepsFormRender,\n    stepsRender = props.stepsRender,\n    stepFormRender = props.stepFormRender,\n    stepsProps = props.stepsProps,\n    onFinish = props.onFinish,\n    formProps = props.formProps,\n    containerStyle = props.containerStyle,\n    formRef = props.formRef,\n    propsFormMapRef = props.formMapRef,\n    propsLayoutRender = props.layoutRender,\n    rest = _objectWithoutProperties(props, _excluded);\n  var formDataRef = useRef(new Map());\n  var formMapRef = useRef(new Map());\n  var formArrayRef = useRef([]);\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    formArray = _useState2[0],\n    setFormArray = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var intl = useIntl();\n\n  /**\n   * 受控的方式来操作表单\n   */\n  var _useMergedState = useMergedState(0, {\n      value: props.current,\n      onChange: props.onCurrentChange\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    step = _useMergedState2[0],\n    setStep = _useMergedState2[1];\n  var layoutRender = useMemo(function () {\n    return StepsLayoutStrategy[(stepsProps === null || stepsProps === void 0 ? void 0 : stepsProps.direction) || 'horizontal'];\n  }, [stepsProps === null || stepsProps === void 0 ? void 0 : stepsProps.direction]);\n  var lastStep = useMemo(function () {\n    return step === formArray.length - 1;\n  }, [formArray.length, step]);\n\n  /**\n   * 注册一个form进入，方便进行 props 的修改\n   */\n  var regForm = useCallback(function (name, childrenFormProps) {\n    if (!formMapRef.current.has(name)) {\n      setFormArray(function (oldFormArray) {\n        return [].concat(_toConsumableArray(oldFormArray), [name]);\n      });\n    }\n    formMapRef.current.set(name, childrenFormProps);\n  }, []);\n\n  /**\n   * 解除挂载掉这个 form，同时步数 -1\n   */\n  var unRegForm = useCallback(function (name) {\n    setFormArray(function (oldFormArray) {\n      return oldFormArray.filter(function (n) {\n        return n !== name;\n      });\n    });\n    formMapRef.current.delete(name);\n    formDataRef.current.delete(name);\n  }, []);\n  useImperativeHandle(propsFormMapRef, function () {\n    return formArrayRef.current;\n  }, [formArrayRef.current]);\n  useImperativeHandle(formRef, function () {\n    var _formArrayRef$current;\n    return (_formArrayRef$current = formArrayRef.current[step || 0]) === null || _formArrayRef$current === void 0 ? void 0 : _formArrayRef$current.current;\n  }, [step, formArrayRef.current]);\n\n  /**\n   * ProForm处理了一下 from 的数据，在其中做了一些操作 如果使用 Provider 自带的，自带的数据处理就无法生效了\n   */\n  var onFormFinish = useCallback(/*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(name, formData) {\n      var values, success;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            formDataRef.current.set(name, formData);\n            // 如果不是最后一步\n            if (!(!lastStep || !onFinish)) {\n              _context.next = 3;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 3:\n            setLoading(true);\n            values = merge.apply(void 0, [{}].concat(_toConsumableArray(Array.from(formDataRef.current.values()))));\n            _context.prev = 5;\n            _context.next = 8;\n            return onFinish(values);\n          case 8:\n            success = _context.sent;\n            if (success) {\n              setStep(0);\n              formArrayRef.current.forEach(function (form) {\n                var _form$current;\n                return (_form$current = form.current) === null || _form$current === void 0 ? void 0 : _form$current.resetFields();\n              });\n            }\n            _context.next = 15;\n            break;\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](5);\n            console.log(_context.t0);\n          case 15:\n            _context.prev = 15;\n            setLoading(false);\n            return _context.finish(15);\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[5, 12, 15, 18]]);\n    }));\n    return function (_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [lastStep, onFinish, setLoading, setStep]);\n  var stepsDom = useMemo(function () {\n    var isNewAntd = compareVersions(version, '4.24.0') > -1;\n    var itemsProps = isNewAntd ? {\n      items: formArray.map(function (item) {\n        var itemProps = formMapRef.current.get(item);\n        return _objectSpread({\n          key: item,\n          title: itemProps === null || itemProps === void 0 ? void 0 : itemProps.title\n        }, itemProps === null || itemProps === void 0 ? void 0 : itemProps.stepProps);\n      })\n    } : {};\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"\".concat(prefixCls, \"-steps-container \").concat(hashId).trim(),\n      style: {\n        maxWidth: Math.min(formArray.length * 320, 1160)\n      },\n      children: /*#__PURE__*/_jsx(Steps, _objectSpread(_objectSpread(_objectSpread({}, stepsProps), itemsProps), {}, {\n        current: step,\n        onChange: undefined,\n        children: !isNewAntd && formArray.map(function (item) {\n          var itemProps = formMapRef.current.get(item);\n          return /*#__PURE__*/_jsx(Steps.Step, _objectSpread({\n            title: itemProps === null || itemProps === void 0 ? void 0 : itemProps.title\n          }, itemProps === null || itemProps === void 0 ? void 0 : itemProps.stepProps), item);\n        })\n      }))\n    });\n  }, [formArray, hashId, prefixCls, step, stepsProps]);\n  var onSubmit = useRefFunction(function () {\n    var _from$current;\n    var from = formArrayRef.current[step];\n    (_from$current = from.current) === null || _from$current === void 0 || _from$current.submit();\n  });\n\n  /** 上一页功能 */\n  var prePage = useRefFunction(function () {\n    if (step < 1) return;\n    setStep(step - 1);\n  });\n  var next = useMemo(function () {\n    return submitter !== false && /*#__PURE__*/_jsx(Button, _objectSpread(_objectSpread({\n      type: \"primary\",\n      loading: loading\n    }, submitter === null || submitter === void 0 ? void 0 : submitter.submitButtonProps), {}, {\n      onClick: function onClick() {\n        var _submitter$onSubmit;\n        submitter === null || submitter === void 0 || (_submitter$onSubmit = submitter.onSubmit) === null || _submitter$onSubmit === void 0 || _submitter$onSubmit.call(submitter);\n        onSubmit();\n      },\n      children: intl.getMessage('stepsForm.next', '下一步')\n    }), \"next\");\n  }, [intl, loading, onSubmit, submitter]);\n  var pre = useMemo(function () {\n    return submitter !== false && /*#__PURE__*/_jsx(Button, _objectSpread(_objectSpread({}, submitter === null || submitter === void 0 ? void 0 : submitter.resetButtonProps), {}, {\n      onClick: function onClick() {\n        var _submitter$onReset;\n        prePage();\n        submitter === null || submitter === void 0 || (_submitter$onReset = submitter.onReset) === null || _submitter$onReset === void 0 || _submitter$onReset.call(submitter);\n      },\n      children: intl.getMessage('stepsForm.prev', '上一步')\n    }), \"pre\");\n  }, [intl, prePage, submitter]);\n  var submit = useMemo(function () {\n    return submitter !== false && /*#__PURE__*/_jsx(Button, _objectSpread(_objectSpread({\n      type: \"primary\",\n      loading: loading\n    }, submitter === null || submitter === void 0 ? void 0 : submitter.submitButtonProps), {}, {\n      onClick: function onClick() {\n        var _submitter$onSubmit2;\n        submitter === null || submitter === void 0 || (_submitter$onSubmit2 = submitter.onSubmit) === null || _submitter$onSubmit2 === void 0 || _submitter$onSubmit2.call(submitter);\n        onSubmit();\n      },\n      children: intl.getMessage('stepsForm.submit', '提交')\n    }), \"submit\");\n  }, [intl, loading, onSubmit, submitter]);\n  var nextPage = useRefFunction(function () {\n    if (step > formArray.length - 2) return;\n    setStep(step + 1);\n  });\n  var submitterDom = useMemo(function () {\n    var buttons = [];\n    var index = step || 0;\n    if (index < 1) {\n      // 如果有且只有一个 StepForm 第一步就应该是提交按钮\n      if (formArray.length === 1) {\n        buttons.push(submit);\n      } else {\n        buttons.push(next);\n      }\n    } else if (index + 1 === formArray.length) {\n      buttons.push(pre, submit);\n    } else {\n      buttons.push(pre, next);\n    }\n    buttons = buttons.filter(React.isValidElement);\n    if (submitter && submitter.render) {\n      var _formArrayRef$current2;\n      var submitterProps = {\n        form: (_formArrayRef$current2 = formArrayRef.current[step]) === null || _formArrayRef$current2 === void 0 ? void 0 : _formArrayRef$current2.current,\n        onSubmit: onSubmit,\n        step: step,\n        onPre: prePage\n      };\n      return submitter.render(submitterProps, buttons);\n    }\n    if (submitter && (submitter === null || submitter === void 0 ? void 0 : submitter.render) === false) {\n      return null;\n    }\n    return buttons;\n  }, [formArray.length, next, onSubmit, pre, prePage, step, submit, submitter]);\n  var formDom = useMemo(function () {\n    return toArray(props.children).map(function (item, index) {\n      var itemProps = item.props;\n      var name = itemProps.name || \"\".concat(index);\n      /** 是否是当前的表单 */\n      var isShow = step === index;\n      var config = isShow ? {\n        contentRender: stepFormRender,\n        submitter: false\n      } : {};\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: classNames(\"\".concat(prefixCls, \"-step\"), hashId, _defineProperty({}, \"\".concat(prefixCls, \"-step-active\"), isShow)),\n        children: /*#__PURE__*/_jsx(StepFormProvide.Provider, {\n          value: _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, config), formProps), itemProps), {}, {\n            name: name,\n            step: index\n          }),\n          children: item\n        })\n      }, name);\n    });\n  }, [formProps, hashId, prefixCls, props.children, step, stepFormRender]);\n  var finalStepsDom = useMemo(function () {\n    if (stepsRender) {\n      return stepsRender(formArray.map(function (item) {\n        var _formMapRef$current$g;\n        return {\n          key: item,\n          title: (_formMapRef$current$g = formMapRef.current.get(item)) === null || _formMapRef$current$g === void 0 ? void 0 : _formMapRef$current$g.title\n        };\n      }), stepsDom);\n    }\n    return stepsDom;\n  }, [formArray, stepsDom, stepsRender]);\n  var formContainer = useMemo(function () {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"\".concat(prefixCls, \"-container \").concat(hashId).trim(),\n      style: containerStyle,\n      children: [formDom, stepsFormRender ? null : /*#__PURE__*/_jsx(Space, {\n        children: submitterDom\n      })]\n    });\n  }, [containerStyle, formDom, hashId, prefixCls, stepsFormRender, submitterDom]);\n  var stepsFormDom = useMemo(function () {\n    var doms = {\n      stepsDom: finalStepsDom,\n      formDom: formContainer\n    };\n    if (stepsFormRender) {\n      if (propsLayoutRender) {\n        return stepsFormRender(propsLayoutRender(doms), submitterDom);\n      } else {\n        return stepsFormRender(layoutRender(doms), submitterDom);\n      }\n    }\n    if (propsLayoutRender) {\n      return propsLayoutRender(doms);\n    }\n    return layoutRender(doms);\n  }, [finalStepsDom, formContainer, layoutRender, stepsFormRender, submitterDom, propsLayoutRender]);\n  return wrapSSR(/*#__PURE__*/_jsx(\"div\", {\n    className: classNames(prefixCls, hashId),\n    children: /*#__PURE__*/_jsx(Form.Provider, _objectSpread(_objectSpread({}, rest), {}, {\n      children: /*#__PURE__*/_jsx(StepsFormProvide.Provider, {\n        value: {\n          loading: loading,\n          setLoading: setLoading,\n          regForm: regForm,\n          keyArray: formArray,\n          next: nextPage,\n          formArrayRef: formArrayRef,\n          formMapRef: formMapRef,\n          lastStep: lastStep,\n          unRegForm: unRegForm,\n          onFormFinish: onFormFinish\n        },\n        children: stepsFormDom\n      })\n    }))\n  }));\n}\nfunction StepsFormWarp(props) {\n  return /*#__PURE__*/_jsx(ProConfigProvider, {\n    needDeps: true,\n    children: /*#__PURE__*/_jsx(StepsForm, _objectSpread({}, props))\n  });\n}\nStepsFormWarp.StepForm = StepForm;\nStepsFormWarp.useForm = Form.useForm;\nexport { StepsFormWarp as StepsForm };","map":{"version":3,"names":["_defineProperty","_objectSpread","_regeneratorRuntime","_asyncToGenerator","_toConsumableArray","_slicedToArray","_objectWithoutProperties","_excluded","ProConfigProvider","useIntl","compareVersions","merge","useRefFunction","Button","Col","ConfigProvider","Form","Row","Space","Steps","version","classNames","toArray","useMergedState","React","useCallback","useContext","useImperativeHandle","useMemo","useRef","useState","StepForm","useStyle","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","StepsFormProvide","createContext","undefined","StepsLayoutStrategy","horizontal","_ref","stepsDom","formDom","children","gutter","xs","sm","md","span","vertical","_ref2","align","wrap","xxl","xl","lg","cloneElement","style","height","display","alignItems","width","StepFormProvide","StepsForm","props","_useContext","ConfigContext","getPrefixCls","prefixCls","_useStyle","wrapSSR","hashId","current","onCurrentChange","submitter","stepsFormRender","stepsRender","stepFormRender","stepsProps","onFinish","formProps","containerStyle","formRef","propsFormMapRef","formMapRef","propsLayoutRender","layoutRender","rest","formDataRef","Map","formArrayRef","_useState","_useState2","formArray","setFormArray","_useState3","_useState4","loading","setLoading","intl","_useMergedState","value","onChange","_useMergedState2","step","setStep","direction","lastStep","length","regForm","name","childrenFormProps","has","oldFormArray","concat","set","unRegForm","filter","n","delete","_formArrayRef$current","onFormFinish","_ref3","mark","_callee","formData","values","success","_callee$","_context","prev","next","abrupt","apply","Array","from","sent","forEach","form","_form$current","resetFields","t0","console","log","finish","stop","_x","_x2","arguments","isNewAntd","itemsProps","items","map","item","itemProps","get","key","title","stepProps","className","trim","maxWidth","Math","min","Step","onSubmit","_from$current","submit","prePage","type","submitButtonProps","onClick","_submitter$onSubmit","call","getMessage","pre","resetButtonProps","_submitter$onReset","onReset","_submitter$onSubmit2","nextPage","submitterDom","buttons","index","push","isValidElement","render","_formArrayRef$current2","submitterProps","onPre","isShow","config","contentRender","Provider","finalStepsDom","_formMapRef$current$g","formContainer","stepsFormDom","doms","keyArray","StepsFormWarp","needDeps","useForm"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-form/es/layouts/StepsForm/index.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"current\", \"onCurrentChange\", \"submitter\", \"stepsFormRender\", \"stepsRender\", \"stepFormRender\", \"stepsProps\", \"onFinish\", \"formProps\", \"containerStyle\", \"formRef\", \"formMapRef\", \"layoutRender\"];\nimport { ProConfigProvider, useIntl } from '@ant-design/pro-provider';\nimport { compareVersions, merge, useRefFunction } from '@ant-design/pro-utils';\nimport { Button, Col, ConfigProvider, Form, Row, Space, Steps, version } from 'antd';\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useCallback, useContext, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport StepForm from \"./StepForm\";\nimport { useStyle } from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var StepsFormProvide = /*#__PURE__*/React.createContext(undefined);\nvar StepsLayoutStrategy = {\n  horizontal: function horizontal(_ref) {\n    var stepsDom = _ref.stepsDom,\n      formDom = _ref.formDom;\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Row, {\n        gutter: {\n          xs: 8,\n          sm: 16,\n          md: 24\n        },\n        children: /*#__PURE__*/_jsx(Col, {\n          span: 24,\n          children: stepsDom\n        })\n      }), /*#__PURE__*/_jsx(Row, {\n        gutter: {\n          xs: 8,\n          sm: 16,\n          md: 24\n        },\n        children: /*#__PURE__*/_jsx(Col, {\n          span: 24,\n          children: formDom\n        })\n      })]\n    });\n  },\n  vertical: function vertical(_ref2) {\n    var stepsDom = _ref2.stepsDom,\n      formDom = _ref2.formDom;\n    return /*#__PURE__*/_jsxs(Row, {\n      align: \"stretch\",\n      wrap: true,\n      gutter: {\n        xs: 8,\n        sm: 16,\n        md: 24\n      },\n      children: [/*#__PURE__*/_jsx(Col, {\n        xxl: 4,\n        xl: 6,\n        lg: 7,\n        md: 8,\n        sm: 10,\n        xs: 12,\n        children: /*#__PURE__*/React.cloneElement(stepsDom, {\n          style: {\n            height: '100%'\n          }\n        })\n      }), /*#__PURE__*/_jsx(Col, {\n        children: /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            width: '100%',\n            height: '100%'\n          },\n          children: formDom\n        })\n      })]\n    });\n  }\n};\n\n/**\n * 给  StepForm 传递信息\n */\nexport var StepFormProvide = /*#__PURE__*/React.createContext(null);\nfunction StepsForm(props) {\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('pro-steps-form');\n  var _useStyle = useStyle(prefixCls),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var current = props.current,\n    onCurrentChange = props.onCurrentChange,\n    submitter = props.submitter,\n    stepsFormRender = props.stepsFormRender,\n    stepsRender = props.stepsRender,\n    stepFormRender = props.stepFormRender,\n    stepsProps = props.stepsProps,\n    onFinish = props.onFinish,\n    formProps = props.formProps,\n    containerStyle = props.containerStyle,\n    formRef = props.formRef,\n    propsFormMapRef = props.formMapRef,\n    propsLayoutRender = props.layoutRender,\n    rest = _objectWithoutProperties(props, _excluded);\n  var formDataRef = useRef(new Map());\n  var formMapRef = useRef(new Map());\n  var formArrayRef = useRef([]);\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    formArray = _useState2[0],\n    setFormArray = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var intl = useIntl();\n\n  /**\n   * 受控的方式来操作表单\n   */\n  var _useMergedState = useMergedState(0, {\n      value: props.current,\n      onChange: props.onCurrentChange\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    step = _useMergedState2[0],\n    setStep = _useMergedState2[1];\n  var layoutRender = useMemo(function () {\n    return StepsLayoutStrategy[(stepsProps === null || stepsProps === void 0 ? void 0 : stepsProps.direction) || 'horizontal'];\n  }, [stepsProps === null || stepsProps === void 0 ? void 0 : stepsProps.direction]);\n  var lastStep = useMemo(function () {\n    return step === formArray.length - 1;\n  }, [formArray.length, step]);\n\n  /**\n   * 注册一个form进入，方便进行 props 的修改\n   */\n  var regForm = useCallback(function (name, childrenFormProps) {\n    if (!formMapRef.current.has(name)) {\n      setFormArray(function (oldFormArray) {\n        return [].concat(_toConsumableArray(oldFormArray), [name]);\n      });\n    }\n    formMapRef.current.set(name, childrenFormProps);\n  }, []);\n\n  /**\n   * 解除挂载掉这个 form，同时步数 -1\n   */\n  var unRegForm = useCallback(function (name) {\n    setFormArray(function (oldFormArray) {\n      return oldFormArray.filter(function (n) {\n        return n !== name;\n      });\n    });\n    formMapRef.current.delete(name);\n    formDataRef.current.delete(name);\n  }, []);\n  useImperativeHandle(propsFormMapRef, function () {\n    return formArrayRef.current;\n  }, [formArrayRef.current]);\n  useImperativeHandle(formRef, function () {\n    var _formArrayRef$current;\n    return (_formArrayRef$current = formArrayRef.current[step || 0]) === null || _formArrayRef$current === void 0 ? void 0 : _formArrayRef$current.current;\n  }, [step, formArrayRef.current]);\n\n  /**\n   * ProForm处理了一下 from 的数据，在其中做了一些操作 如果使用 Provider 自带的，自带的数据处理就无法生效了\n   */\n  var onFormFinish = useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(name, formData) {\n      var values, success;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            formDataRef.current.set(name, formData);\n            // 如果不是最后一步\n            if (!(!lastStep || !onFinish)) {\n              _context.next = 3;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 3:\n            setLoading(true);\n            values = merge.apply(void 0, [{}].concat(_toConsumableArray(Array.from(formDataRef.current.values()))));\n            _context.prev = 5;\n            _context.next = 8;\n            return onFinish(values);\n          case 8:\n            success = _context.sent;\n            if (success) {\n              setStep(0);\n              formArrayRef.current.forEach(function (form) {\n                var _form$current;\n                return (_form$current = form.current) === null || _form$current === void 0 ? void 0 : _form$current.resetFields();\n              });\n            }\n            _context.next = 15;\n            break;\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](5);\n            console.log(_context.t0);\n          case 15:\n            _context.prev = 15;\n            setLoading(false);\n            return _context.finish(15);\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[5, 12, 15, 18]]);\n    }));\n    return function (_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [lastStep, onFinish, setLoading, setStep]);\n  var stepsDom = useMemo(function () {\n    var isNewAntd = compareVersions(version, '4.24.0') > -1;\n    var itemsProps = isNewAntd ? {\n      items: formArray.map(function (item) {\n        var itemProps = formMapRef.current.get(item);\n        return _objectSpread({\n          key: item,\n          title: itemProps === null || itemProps === void 0 ? void 0 : itemProps.title\n        }, itemProps === null || itemProps === void 0 ? void 0 : itemProps.stepProps);\n      })\n    } : {};\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"\".concat(prefixCls, \"-steps-container \").concat(hashId).trim(),\n      style: {\n        maxWidth: Math.min(formArray.length * 320, 1160)\n      },\n      children: /*#__PURE__*/_jsx(Steps, _objectSpread(_objectSpread(_objectSpread({}, stepsProps), itemsProps), {}, {\n        current: step,\n        onChange: undefined,\n        children: !isNewAntd && formArray.map(function (item) {\n          var itemProps = formMapRef.current.get(item);\n          return /*#__PURE__*/_jsx(Steps.Step, _objectSpread({\n            title: itemProps === null || itemProps === void 0 ? void 0 : itemProps.title\n          }, itemProps === null || itemProps === void 0 ? void 0 : itemProps.stepProps), item);\n        })\n      }))\n    });\n  }, [formArray, hashId, prefixCls, step, stepsProps]);\n  var onSubmit = useRefFunction(function () {\n    var _from$current;\n    var from = formArrayRef.current[step];\n    (_from$current = from.current) === null || _from$current === void 0 || _from$current.submit();\n  });\n\n  /** 上一页功能 */\n  var prePage = useRefFunction(function () {\n    if (step < 1) return;\n    setStep(step - 1);\n  });\n  var next = useMemo(function () {\n    return submitter !== false && /*#__PURE__*/_jsx(Button, _objectSpread(_objectSpread({\n      type: \"primary\",\n      loading: loading\n    }, submitter === null || submitter === void 0 ? void 0 : submitter.submitButtonProps), {}, {\n      onClick: function onClick() {\n        var _submitter$onSubmit;\n        submitter === null || submitter === void 0 || (_submitter$onSubmit = submitter.onSubmit) === null || _submitter$onSubmit === void 0 || _submitter$onSubmit.call(submitter);\n        onSubmit();\n      },\n      children: intl.getMessage('stepsForm.next', '下一步')\n    }), \"next\");\n  }, [intl, loading, onSubmit, submitter]);\n  var pre = useMemo(function () {\n    return submitter !== false && /*#__PURE__*/_jsx(Button, _objectSpread(_objectSpread({}, submitter === null || submitter === void 0 ? void 0 : submitter.resetButtonProps), {}, {\n      onClick: function onClick() {\n        var _submitter$onReset;\n        prePage();\n        submitter === null || submitter === void 0 || (_submitter$onReset = submitter.onReset) === null || _submitter$onReset === void 0 || _submitter$onReset.call(submitter);\n      },\n      children: intl.getMessage('stepsForm.prev', '上一步')\n    }), \"pre\");\n  }, [intl, prePage, submitter]);\n  var submit = useMemo(function () {\n    return submitter !== false && /*#__PURE__*/_jsx(Button, _objectSpread(_objectSpread({\n      type: \"primary\",\n      loading: loading\n    }, submitter === null || submitter === void 0 ? void 0 : submitter.submitButtonProps), {}, {\n      onClick: function onClick() {\n        var _submitter$onSubmit2;\n        submitter === null || submitter === void 0 || (_submitter$onSubmit2 = submitter.onSubmit) === null || _submitter$onSubmit2 === void 0 || _submitter$onSubmit2.call(submitter);\n        onSubmit();\n      },\n      children: intl.getMessage('stepsForm.submit', '提交')\n    }), \"submit\");\n  }, [intl, loading, onSubmit, submitter]);\n  var nextPage = useRefFunction(function () {\n    if (step > formArray.length - 2) return;\n    setStep(step + 1);\n  });\n  var submitterDom = useMemo(function () {\n    var buttons = [];\n    var index = step || 0;\n    if (index < 1) {\n      // 如果有且只有一个 StepForm 第一步就应该是提交按钮\n      if (formArray.length === 1) {\n        buttons.push(submit);\n      } else {\n        buttons.push(next);\n      }\n    } else if (index + 1 === formArray.length) {\n      buttons.push(pre, submit);\n    } else {\n      buttons.push(pre, next);\n    }\n    buttons = buttons.filter(React.isValidElement);\n    if (submitter && submitter.render) {\n      var _formArrayRef$current2;\n      var submitterProps = {\n        form: (_formArrayRef$current2 = formArrayRef.current[step]) === null || _formArrayRef$current2 === void 0 ? void 0 : _formArrayRef$current2.current,\n        onSubmit: onSubmit,\n        step: step,\n        onPre: prePage\n      };\n      return submitter.render(submitterProps, buttons);\n    }\n    if (submitter && (submitter === null || submitter === void 0 ? void 0 : submitter.render) === false) {\n      return null;\n    }\n    return buttons;\n  }, [formArray.length, next, onSubmit, pre, prePage, step, submit, submitter]);\n  var formDom = useMemo(function () {\n    return toArray(props.children).map(function (item, index) {\n      var itemProps = item.props;\n      var name = itemProps.name || \"\".concat(index);\n      /** 是否是当前的表单 */\n      var isShow = step === index;\n      var config = isShow ? {\n        contentRender: stepFormRender,\n        submitter: false\n      } : {};\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: classNames(\"\".concat(prefixCls, \"-step\"), hashId, _defineProperty({}, \"\".concat(prefixCls, \"-step-active\"), isShow)),\n        children: /*#__PURE__*/_jsx(StepFormProvide.Provider, {\n          value: _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, config), formProps), itemProps), {}, {\n            name: name,\n            step: index\n          }),\n          children: item\n        })\n      }, name);\n    });\n  }, [formProps, hashId, prefixCls, props.children, step, stepFormRender]);\n  var finalStepsDom = useMemo(function () {\n    if (stepsRender) {\n      return stepsRender(formArray.map(function (item) {\n        var _formMapRef$current$g;\n        return {\n          key: item,\n          title: (_formMapRef$current$g = formMapRef.current.get(item)) === null || _formMapRef$current$g === void 0 ? void 0 : _formMapRef$current$g.title\n        };\n      }), stepsDom);\n    }\n    return stepsDom;\n  }, [formArray, stepsDom, stepsRender]);\n  var formContainer = useMemo(function () {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"\".concat(prefixCls, \"-container \").concat(hashId).trim(),\n      style: containerStyle,\n      children: [formDom, stepsFormRender ? null : /*#__PURE__*/_jsx(Space, {\n        children: submitterDom\n      })]\n    });\n  }, [containerStyle, formDom, hashId, prefixCls, stepsFormRender, submitterDom]);\n  var stepsFormDom = useMemo(function () {\n    var doms = {\n      stepsDom: finalStepsDom,\n      formDom: formContainer\n    };\n    if (stepsFormRender) {\n      if (propsLayoutRender) {\n        return stepsFormRender(propsLayoutRender(doms), submitterDom);\n      } else {\n        return stepsFormRender(layoutRender(doms), submitterDom);\n      }\n    }\n    if (propsLayoutRender) {\n      return propsLayoutRender(doms);\n    }\n    return layoutRender(doms);\n  }, [finalStepsDom, formContainer, layoutRender, stepsFormRender, submitterDom, propsLayoutRender]);\n  return wrapSSR( /*#__PURE__*/_jsx(\"div\", {\n    className: classNames(prefixCls, hashId),\n    children: /*#__PURE__*/_jsx(Form.Provider, _objectSpread(_objectSpread({}, rest), {}, {\n      children: /*#__PURE__*/_jsx(StepsFormProvide.Provider, {\n        value: {\n          loading: loading,\n          setLoading: setLoading,\n          regForm: regForm,\n          keyArray: formArray,\n          next: nextPage,\n          formArrayRef: formArrayRef,\n          formMapRef: formMapRef,\n          lastStep: lastStep,\n          unRegForm: unRegForm,\n          onFormFinish: onFormFinish\n        },\n        children: stepsFormDom\n      })\n    }))\n  }));\n}\nfunction StepsFormWarp(props) {\n  return /*#__PURE__*/_jsx(ProConfigProvider, {\n    needDeps: true,\n    children: /*#__PURE__*/_jsx(StepsForm, _objectSpread({}, props))\n  });\n}\nStepsFormWarp.StepForm = StepForm;\nStepsFormWarp.useForm = Form.useForm;\nexport { StepsFormWarp as StepsForm };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}