{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"trigger\", \"onVisibleChange\", \"drawerProps\", \"onFinish\", \"submitTimeout\", \"title\", \"width\", \"resize\", \"onOpenChange\", \"visible\", \"open\"];\nimport { isBrowser, omitUndefined, openVisibleCompatible, useRefFunction } from '@ant-design/pro-utils';\nimport { ConfigProvider, Drawer } from 'antd';\nimport classNames from 'classnames';\nimport merge from 'lodash-es/merge';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport { noteOnce } from \"rc-util/es/warning\";\nimport React, { useCallback, useContext, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { BaseForm } from \"../../BaseForm\";\nimport { useStyle } from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction DrawerForm(_ref) {\n  var _context$locale3, _context$locale4;\n  var children = _ref.children,\n    trigger = _ref.trigger,\n    onVisibleChange = _ref.onVisibleChange,\n    drawerProps = _ref.drawerProps,\n    onFinish = _ref.onFinish,\n    submitTimeout = _ref.submitTimeout,\n    title = _ref.title,\n    width = _ref.width,\n    resize = _ref.resize,\n    onOpenChange = _ref.onOpenChange,\n    propVisible = _ref.visible,\n    propsOpen = _ref.open,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  noteOnce(\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  !rest['footer'] || !(drawerProps !== null && drawerProps !== void 0 && drawerProps.footer), 'DrawerForm 是一个 ProForm 的特殊布局，如果想自定义按钮，请使用 submit.render 自定义。');\n  var resizeInfo = React.useMemo(function () {\n    var _resize$onResize, _resize$maxWidth, _resize$minWidth;\n    var defaultResize = {\n      onResize: function onResize() {},\n      maxWidth: isBrowser() ? window.innerWidth * 0.8 : undefined,\n      minWidth: 300\n    };\n    if (typeof resize === 'boolean') {\n      if (resize) {\n        return defaultResize;\n      } else {\n        return {};\n      }\n    }\n    return omitUndefined({\n      onResize: (_resize$onResize = resize === null || resize === void 0 ? void 0 : resize.onResize) !== null && _resize$onResize !== void 0 ? _resize$onResize : defaultResize.onResize,\n      maxWidth: (_resize$maxWidth = resize === null || resize === void 0 ? void 0 : resize.maxWidth) !== null && _resize$maxWidth !== void 0 ? _resize$maxWidth : defaultResize.maxWidth,\n      minWidth: (_resize$minWidth = resize === null || resize === void 0 ? void 0 : resize.minWidth) !== null && _resize$minWidth !== void 0 ? _resize$minWidth : defaultResize.minWidth\n    });\n  }, [resize]);\n  var context = useContext(ConfigProvider.ConfigContext);\n  var baseClassName = context.getPrefixCls('pro-form-drawer');\n  var _useStyle = useStyle(baseClassName),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var getCls = function getCls(className) {\n    return \"\".concat(baseClassName, \"-\").concat(className, \" \").concat(hashId);\n  };\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    forceUpdate = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    resizableDrawer = _useState6[0],\n    setResizableDrawer = _useState6[1];\n  var _useState7 = useState(width ? width : resize ? resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.minWidth : 800),\n    _useState8 = _slicedToArray(_useState7, 2),\n    drawerWidth = _useState8[0],\n    setDrawerWidth = _useState8[1];\n  var _useMergedState = useMergedState(!!propVisible, {\n      value: propsOpen || propVisible,\n      onChange: onOpenChange || onVisibleChange\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    open = _useMergedState2[0],\n    setOpen = _useMergedState2[1];\n  var footerRef = useRef(null);\n  var footerDomRef = useCallback(function (element) {\n    if (footerRef.current === null && element) {\n      forceUpdate([]);\n    }\n    footerRef.current = element;\n  }, []);\n  var formRef = useRef();\n  var resetFields = useCallback(function () {\n    var _ref2, _rest$formRef$current, _rest$formRef;\n    var form = (_ref2 = (_rest$formRef$current = (_rest$formRef = rest.formRef) === null || _rest$formRef === void 0 ? void 0 : _rest$formRef.current) !== null && _rest$formRef$current !== void 0 ? _rest$formRef$current : rest.form) !== null && _ref2 !== void 0 ? _ref2 : formRef.current;\n    // 重置表单\n    if (form && drawerProps !== null && drawerProps !== void 0 && drawerProps.destroyOnClose) {\n      form.resetFields();\n    }\n  }, [drawerProps === null || drawerProps === void 0 ? void 0 : drawerProps.destroyOnClose, rest.form, rest.formRef]);\n  useEffect(function () {\n    if (open && (propsOpen || propVisible)) {\n      onOpenChange === null || onOpenChange === void 0 || onOpenChange(true);\n      onVisibleChange === null || onVisibleChange === void 0 || onVisibleChange(true);\n    }\n    if (resizableDrawer) {\n      setDrawerWidth(resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.minWidth);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [propVisible, open, resizableDrawer]);\n  useImperativeHandle(rest.formRef, function () {\n    return formRef.current;\n  }, [formRef.current]);\n  var triggerDom = useMemo(function () {\n    if (!trigger) {\n      return null;\n    }\n    return /*#__PURE__*/React.cloneElement(trigger, _objectSpread(_objectSpread({\n      key: 'trigger'\n    }, trigger.props), {}, {\n      onClick: function () {\n        var _onClick = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n          var _trigger$props, _trigger$props$onClic;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                setOpen(!open);\n                setResizableDrawer(!Object.keys(resizeInfo));\n                (_trigger$props = trigger.props) === null || _trigger$props === void 0 || (_trigger$props$onClic = _trigger$props.onClick) === null || _trigger$props$onClic === void 0 || _trigger$props$onClic.call(_trigger$props, e);\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        function onClick(_x) {\n          return _onClick.apply(this, arguments);\n        }\n        return onClick;\n      }()\n    }));\n  }, [setOpen, trigger, open, setResizableDrawer, resizableDrawer]);\n  var submitterConfig = useMemo(function () {\n    var _context$locale$Modal, _context$locale, _context$locale$Modal2, _context$locale2;\n    if (rest.submitter === false) {\n      return false;\n    }\n    return merge({\n      searchConfig: {\n        submitText: (_context$locale$Modal = (_context$locale = context.locale) === null || _context$locale === void 0 || (_context$locale = _context$locale.Modal) === null || _context$locale === void 0 ? void 0 : _context$locale.okText) !== null && _context$locale$Modal !== void 0 ? _context$locale$Modal : '确认',\n        resetText: (_context$locale$Modal2 = (_context$locale2 = context.locale) === null || _context$locale2 === void 0 || (_context$locale2 = _context$locale2.Modal) === null || _context$locale2 === void 0 ? void 0 : _context$locale2.cancelText) !== null && _context$locale$Modal2 !== void 0 ? _context$locale$Modal2 : '取消'\n      },\n      resetButtonProps: {\n        preventDefault: true,\n        // 提交表单loading时，不可关闭弹框\n        disabled: submitTimeout ? loading : undefined,\n        onClick: function onClick(e) {\n          var _drawerProps$onClose;\n          setOpen(false);\n          // fix: #6006 点击取消按钮时,那么必然会触发抽屉关闭，我们无需在 此处重置表单，只需在抽屉关闭时重置即可\n          drawerProps === null || drawerProps === void 0 || (_drawerProps$onClose = drawerProps.onClose) === null || _drawerProps$onClose === void 0 || _drawerProps$onClose.call(drawerProps, e);\n        }\n      }\n    }, rest.submitter);\n  }, [rest.submitter, (_context$locale3 = context.locale) === null || _context$locale3 === void 0 || (_context$locale3 = _context$locale3.Modal) === null || _context$locale3 === void 0 ? void 0 : _context$locale3.okText, (_context$locale4 = context.locale) === null || _context$locale4 === void 0 || (_context$locale4 = _context$locale4.Modal) === null || _context$locale4 === void 0 ? void 0 : _context$locale4.cancelText, submitTimeout, loading, setOpen, drawerProps]);\n  var contentRender = useCallback(function (formDom, submitter) {\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [formDom, footerRef.current && submitter ? /*#__PURE__*/_jsx(React.Fragment, {\n        children: /*#__PURE__*/createPortal(submitter, footerRef.current)\n      }, \"submitter\") : submitter]\n    });\n  }, []);\n  var onFinishHandle = useRefFunction(/*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(values) {\n      var response, timer, result;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            response = onFinish === null || onFinish === void 0 ? void 0 : onFinish(values);\n            if (submitTimeout && response instanceof Promise) {\n              setLoading(true);\n              timer = setTimeout(function () {\n                return setLoading(false);\n              }, submitTimeout);\n              response.finally(function () {\n                clearTimeout(timer);\n                setLoading(false);\n              });\n            }\n            _context2.next = 4;\n            return response;\n          case 4:\n            result = _context2.sent;\n            // 返回真值，关闭弹框\n            if (result) {\n              setOpen(false);\n            }\n            return _context2.abrupt(\"return\", result);\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  var drawerOpenProps = openVisibleCompatible(open, onVisibleChange);\n  var cbHandleMouseMove = useCallback(function (e) {\n    var _resizeInfo$minWidth, _resizeInfo$maxWidth;\n    var offsetRight = (document.body.offsetWidth || 1000) - (e.clientX - document.body.offsetLeft);\n    var minWidth = (_resizeInfo$minWidth = resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.minWidth) !== null && _resizeInfo$minWidth !== void 0 ? _resizeInfo$minWidth : width || 800;\n    var maxWidth = (_resizeInfo$maxWidth = resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.maxWidth) !== null && _resizeInfo$maxWidth !== void 0 ? _resizeInfo$maxWidth : window.innerWidth * 0.8;\n    if (offsetRight < minWidth) {\n      setDrawerWidth(minWidth);\n      return;\n    }\n    if (offsetRight > maxWidth) {\n      setDrawerWidth(maxWidth);\n      return;\n    }\n    setDrawerWidth(offsetRight);\n  }, [resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.maxWidth, resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.minWidth, width]);\n  var cbHandleMouseUp = useCallback(function () {\n    document.removeEventListener('mousemove', cbHandleMouseMove);\n    document.removeEventListener('mouseup', cbHandleMouseUp);\n  }, [cbHandleMouseMove]);\n  return wrapSSR(/*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Drawer, _objectSpread(_objectSpread(_objectSpread({\n      title: title,\n      width: drawerWidth\n    }, drawerProps), drawerOpenProps), {}, {\n      afterOpenChange: function afterOpenChange(e) {\n        var _drawerProps$afterOpe;\n        if (!e) resetFields();\n        drawerProps === null || drawerProps === void 0 || (_drawerProps$afterOpe = drawerProps.afterOpenChange) === null || _drawerProps$afterOpe === void 0 || _drawerProps$afterOpe.call(drawerProps, e);\n      },\n      onClose: function onClose(e) {\n        var _drawerProps$onClose2;\n        // 提交表单loading时，阻止弹框关闭\n        if (submitTimeout && loading) return;\n        setOpen(false);\n        drawerProps === null || drawerProps === void 0 || (_drawerProps$onClose2 = drawerProps.onClose) === null || _drawerProps$onClose2 === void 0 || _drawerProps$onClose2.call(drawerProps, e);\n      },\n      footer: rest.submitter !== false && /*#__PURE__*/_jsx(\"div\", {\n        ref: footerDomRef,\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end'\n        }\n      }),\n      children: [resize ? /*#__PURE__*/_jsx(\"div\", {\n        className: classNames(getCls('sidebar-dragger'), hashId, _defineProperty(_defineProperty({}, getCls('sidebar-dragger-min-disabled'), drawerWidth === (resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.minWidth)), getCls('sidebar-dragger-max-disabled'), drawerWidth === (resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.maxWidth))),\n        onMouseDown: function onMouseDown(e) {\n          var _resizeInfo$onResize;\n          resizeInfo === null || resizeInfo === void 0 || (_resizeInfo$onResize = resizeInfo.onResize) === null || _resizeInfo$onResize === void 0 || _resizeInfo$onResize.call(resizeInfo);\n          e.stopPropagation();\n          e.preventDefault();\n          document.addEventListener('mousemove', cbHandleMouseMove);\n          document.addEventListener('mouseup', cbHandleMouseUp);\n          setResizableDrawer(true);\n        }\n      }) : null, /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsx(BaseForm, _objectSpread(_objectSpread({\n          formComponentType: \"DrawerForm\",\n          layout: \"vertical\"\n        }, rest), {}, {\n          formRef: formRef,\n          onInit: function onInit(_, form) {\n            var _rest$onInit;\n            if (rest.formRef) {\n              rest.formRef.current = form;\n            }\n            rest === null || rest === void 0 || (_rest$onInit = rest.onInit) === null || _rest$onInit === void 0 || _rest$onInit.call(rest, _, form);\n            formRef.current = form;\n          },\n          submitter: submitterConfig,\n          onFinish: (/*#__PURE__*/function () {\n            var _ref4 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(values) {\n              var result;\n              return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                while (1) switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.next = 2;\n                    return onFinishHandle(values);\n                  case 2:\n                    result = _context3.sent;\n                    return _context3.abrupt(\"return\", result);\n                  case 4:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }, _callee3);\n            }));\n            return function (_x3) {\n              return _ref4.apply(this, arguments);\n            };\n          }()),\n          contentRender: contentRender,\n          children: children\n        }))\n      })]\n    })), triggerDom]\n  }));\n}\nexport { DrawerForm };","map":{"version":3,"names":["_defineProperty","_regeneratorRuntime","_asyncToGenerator","_objectSpread","_slicedToArray","_objectWithoutProperties","_excluded","isBrowser","omitUndefined","openVisibleCompatible","useRefFunction","ConfigProvider","Drawer","classNames","merge","useMergedState","noteOnce","React","useCallback","useContext","useEffect","useImperativeHandle","useMemo","useRef","useState","createPortal","BaseForm","useStyle","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","DrawerForm","_ref","_context$locale3","_context$locale4","children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","resize","onOpenChange","propVisible","visible","propsOpen","open","rest","footer","resizeInfo","_resize$onResize","_resize$maxWidth","_resize$minWidth","defaultResize","onResize","maxWidth","window","innerWidth","undefined","minWidth","context","ConfigContext","baseClassName","getPrefixCls","_useStyle","wrapSSR","hashId","getCls","className","concat","_useState","_useState2","forceUpdate","_useState3","_useState4","loading","setLoading","_useState5","_useState6","resizableDrawer","setResizableDrawer","_useState7","_useState8","drawerWidth","setDrawerWidth","_useMergedState","value","onChange","_useMergedState2","setOpen","footerRef","footerDomRef","element","current","formRef","resetFields","_ref2","_rest$formRef$current","_rest$formRef","form","destroyOnClose","triggerDom","cloneElement","key","props","onClick","_onClick","mark","_callee","e","_trigger$props","_trigger$props$onClic","wrap","_callee$","_context","prev","next","Object","keys","call","stop","_x","apply","arguments","submitterConfig","_context$locale$Modal","_context$locale","_context$locale$Modal2","_context$locale2","submitter","searchConfig","submitText","locale","Modal","okText","resetText","cancelText","resetButtonProps","preventDefault","disabled","_drawerProps$onClose","onClose","contentRender","formDom","onFinishHandle","_ref3","_callee2","values","response","timer","result","_callee2$","_context2","Promise","setTimeout","finally","clearTimeout","sent","abrupt","_x2","drawerOpenProps","cbHandleMouseMove","_resizeInfo$minWidth","_resizeInfo$maxWidth","offsetRight","document","body","offsetWidth","clientX","offsetLeft","cbHandleMouseUp","removeEventListener","afterOpenChange","_drawerProps$afterOpe","_drawerProps$onClose2","ref","style","display","justifyContent","onMouseDown","_resizeInfo$onResize","stopPropagation","addEventListener","formComponentType","layout","onInit","_","_rest$onInit","_ref4","_callee3","_callee3$","_context3","_x3"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-form/es/layouts/DrawerForm/index.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"trigger\", \"onVisibleChange\", \"drawerProps\", \"onFinish\", \"submitTimeout\", \"title\", \"width\", \"resize\", \"onOpenChange\", \"visible\", \"open\"];\nimport { isBrowser, omitUndefined, openVisibleCompatible, useRefFunction } from '@ant-design/pro-utils';\nimport { ConfigProvider, Drawer } from 'antd';\nimport classNames from 'classnames';\nimport merge from 'lodash-es/merge';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport { noteOnce } from \"rc-util/es/warning\";\nimport React, { useCallback, useContext, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { BaseForm } from \"../../BaseForm\";\nimport { useStyle } from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction DrawerForm(_ref) {\n  var _context$locale3, _context$locale4;\n  var children = _ref.children,\n    trigger = _ref.trigger,\n    onVisibleChange = _ref.onVisibleChange,\n    drawerProps = _ref.drawerProps,\n    onFinish = _ref.onFinish,\n    submitTimeout = _ref.submitTimeout,\n    title = _ref.title,\n    width = _ref.width,\n    resize = _ref.resize,\n    onOpenChange = _ref.onOpenChange,\n    propVisible = _ref.visible,\n    propsOpen = _ref.open,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  noteOnce(\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  !rest['footer'] || !(drawerProps !== null && drawerProps !== void 0 && drawerProps.footer), 'DrawerForm 是一个 ProForm 的特殊布局，如果想自定义按钮，请使用 submit.render 自定义。');\n  var resizeInfo = React.useMemo(function () {\n    var _resize$onResize, _resize$maxWidth, _resize$minWidth;\n    var defaultResize = {\n      onResize: function onResize() {},\n      maxWidth: isBrowser() ? window.innerWidth * 0.8 : undefined,\n      minWidth: 300\n    };\n    if (typeof resize === 'boolean') {\n      if (resize) {\n        return defaultResize;\n      } else {\n        return {};\n      }\n    }\n    return omitUndefined({\n      onResize: (_resize$onResize = resize === null || resize === void 0 ? void 0 : resize.onResize) !== null && _resize$onResize !== void 0 ? _resize$onResize : defaultResize.onResize,\n      maxWidth: (_resize$maxWidth = resize === null || resize === void 0 ? void 0 : resize.maxWidth) !== null && _resize$maxWidth !== void 0 ? _resize$maxWidth : defaultResize.maxWidth,\n      minWidth: (_resize$minWidth = resize === null || resize === void 0 ? void 0 : resize.minWidth) !== null && _resize$minWidth !== void 0 ? _resize$minWidth : defaultResize.minWidth\n    });\n  }, [resize]);\n  var context = useContext(ConfigProvider.ConfigContext);\n  var baseClassName = context.getPrefixCls('pro-form-drawer');\n  var _useStyle = useStyle(baseClassName),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var getCls = function getCls(className) {\n    return \"\".concat(baseClassName, \"-\").concat(className, \" \").concat(hashId);\n  };\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    forceUpdate = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    resizableDrawer = _useState6[0],\n    setResizableDrawer = _useState6[1];\n  var _useState7 = useState(width ? width : resize ? resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.minWidth : 800),\n    _useState8 = _slicedToArray(_useState7, 2),\n    drawerWidth = _useState8[0],\n    setDrawerWidth = _useState8[1];\n  var _useMergedState = useMergedState(!!propVisible, {\n      value: propsOpen || propVisible,\n      onChange: onOpenChange || onVisibleChange\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    open = _useMergedState2[0],\n    setOpen = _useMergedState2[1];\n  var footerRef = useRef(null);\n  var footerDomRef = useCallback(function (element) {\n    if (footerRef.current === null && element) {\n      forceUpdate([]);\n    }\n    footerRef.current = element;\n  }, []);\n  var formRef = useRef();\n  var resetFields = useCallback(function () {\n    var _ref2, _rest$formRef$current, _rest$formRef;\n    var form = (_ref2 = (_rest$formRef$current = (_rest$formRef = rest.formRef) === null || _rest$formRef === void 0 ? void 0 : _rest$formRef.current) !== null && _rest$formRef$current !== void 0 ? _rest$formRef$current : rest.form) !== null && _ref2 !== void 0 ? _ref2 : formRef.current;\n    // 重置表单\n    if (form && drawerProps !== null && drawerProps !== void 0 && drawerProps.destroyOnClose) {\n      form.resetFields();\n    }\n  }, [drawerProps === null || drawerProps === void 0 ? void 0 : drawerProps.destroyOnClose, rest.form, rest.formRef]);\n  useEffect(function () {\n    if (open && (propsOpen || propVisible)) {\n      onOpenChange === null || onOpenChange === void 0 || onOpenChange(true);\n      onVisibleChange === null || onVisibleChange === void 0 || onVisibleChange(true);\n    }\n    if (resizableDrawer) {\n      setDrawerWidth(resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.minWidth);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [propVisible, open, resizableDrawer]);\n  useImperativeHandle(rest.formRef, function () {\n    return formRef.current;\n  }, [formRef.current]);\n  var triggerDom = useMemo(function () {\n    if (!trigger) {\n      return null;\n    }\n    return /*#__PURE__*/React.cloneElement(trigger, _objectSpread(_objectSpread({\n      key: 'trigger'\n    }, trigger.props), {}, {\n      onClick: function () {\n        var _onClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n          var _trigger$props, _trigger$props$onClic;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                setOpen(!open);\n                setResizableDrawer(!Object.keys(resizeInfo));\n                (_trigger$props = trigger.props) === null || _trigger$props === void 0 || (_trigger$props$onClic = _trigger$props.onClick) === null || _trigger$props$onClic === void 0 || _trigger$props$onClic.call(_trigger$props, e);\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        function onClick(_x) {\n          return _onClick.apply(this, arguments);\n        }\n        return onClick;\n      }()\n    }));\n  }, [setOpen, trigger, open, setResizableDrawer, resizableDrawer]);\n  var submitterConfig = useMemo(function () {\n    var _context$locale$Modal, _context$locale, _context$locale$Modal2, _context$locale2;\n    if (rest.submitter === false) {\n      return false;\n    }\n    return merge({\n      searchConfig: {\n        submitText: (_context$locale$Modal = (_context$locale = context.locale) === null || _context$locale === void 0 || (_context$locale = _context$locale.Modal) === null || _context$locale === void 0 ? void 0 : _context$locale.okText) !== null && _context$locale$Modal !== void 0 ? _context$locale$Modal : '确认',\n        resetText: (_context$locale$Modal2 = (_context$locale2 = context.locale) === null || _context$locale2 === void 0 || (_context$locale2 = _context$locale2.Modal) === null || _context$locale2 === void 0 ? void 0 : _context$locale2.cancelText) !== null && _context$locale$Modal2 !== void 0 ? _context$locale$Modal2 : '取消'\n      },\n      resetButtonProps: {\n        preventDefault: true,\n        // 提交表单loading时，不可关闭弹框\n        disabled: submitTimeout ? loading : undefined,\n        onClick: function onClick(e) {\n          var _drawerProps$onClose;\n          setOpen(false);\n          // fix: #6006 点击取消按钮时,那么必然会触发抽屉关闭，我们无需在 此处重置表单，只需在抽屉关闭时重置即可\n          drawerProps === null || drawerProps === void 0 || (_drawerProps$onClose = drawerProps.onClose) === null || _drawerProps$onClose === void 0 || _drawerProps$onClose.call(drawerProps, e);\n        }\n      }\n    }, rest.submitter);\n  }, [rest.submitter, (_context$locale3 = context.locale) === null || _context$locale3 === void 0 || (_context$locale3 = _context$locale3.Modal) === null || _context$locale3 === void 0 ? void 0 : _context$locale3.okText, (_context$locale4 = context.locale) === null || _context$locale4 === void 0 || (_context$locale4 = _context$locale4.Modal) === null || _context$locale4 === void 0 ? void 0 : _context$locale4.cancelText, submitTimeout, loading, setOpen, drawerProps]);\n  var contentRender = useCallback(function (formDom, submitter) {\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [formDom, footerRef.current && submitter ? /*#__PURE__*/_jsx(React.Fragment, {\n        children: /*#__PURE__*/createPortal(submitter, footerRef.current)\n      }, \"submitter\") : submitter]\n    });\n  }, []);\n  var onFinishHandle = useRefFunction( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(values) {\n      var response, timer, result;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            response = onFinish === null || onFinish === void 0 ? void 0 : onFinish(values);\n            if (submitTimeout && response instanceof Promise) {\n              setLoading(true);\n              timer = setTimeout(function () {\n                return setLoading(false);\n              }, submitTimeout);\n              response.finally(function () {\n                clearTimeout(timer);\n                setLoading(false);\n              });\n            }\n            _context2.next = 4;\n            return response;\n          case 4:\n            result = _context2.sent;\n            // 返回真值，关闭弹框\n            if (result) {\n              setOpen(false);\n            }\n            return _context2.abrupt(\"return\", result);\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  var drawerOpenProps = openVisibleCompatible(open, onVisibleChange);\n  var cbHandleMouseMove = useCallback(function (e) {\n    var _resizeInfo$minWidth, _resizeInfo$maxWidth;\n    var offsetRight = (document.body.offsetWidth || 1000) - (e.clientX - document.body.offsetLeft);\n    var minWidth = (_resizeInfo$minWidth = resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.minWidth) !== null && _resizeInfo$minWidth !== void 0 ? _resizeInfo$minWidth : width || 800;\n    var maxWidth = (_resizeInfo$maxWidth = resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.maxWidth) !== null && _resizeInfo$maxWidth !== void 0 ? _resizeInfo$maxWidth : window.innerWidth * 0.8;\n    if (offsetRight < minWidth) {\n      setDrawerWidth(minWidth);\n      return;\n    }\n    if (offsetRight > maxWidth) {\n      setDrawerWidth(maxWidth);\n      return;\n    }\n    setDrawerWidth(offsetRight);\n  }, [resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.maxWidth, resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.minWidth, width]);\n  var cbHandleMouseUp = useCallback(function () {\n    document.removeEventListener('mousemove', cbHandleMouseMove);\n    document.removeEventListener('mouseup', cbHandleMouseUp);\n  }, [cbHandleMouseMove]);\n  return wrapSSR( /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Drawer, _objectSpread(_objectSpread(_objectSpread({\n      title: title,\n      width: drawerWidth\n    }, drawerProps), drawerOpenProps), {}, {\n      afterOpenChange: function afterOpenChange(e) {\n        var _drawerProps$afterOpe;\n        if (!e) resetFields();\n        drawerProps === null || drawerProps === void 0 || (_drawerProps$afterOpe = drawerProps.afterOpenChange) === null || _drawerProps$afterOpe === void 0 || _drawerProps$afterOpe.call(drawerProps, e);\n      },\n      onClose: function onClose(e) {\n        var _drawerProps$onClose2;\n        // 提交表单loading时，阻止弹框关闭\n        if (submitTimeout && loading) return;\n        setOpen(false);\n        drawerProps === null || drawerProps === void 0 || (_drawerProps$onClose2 = drawerProps.onClose) === null || _drawerProps$onClose2 === void 0 || _drawerProps$onClose2.call(drawerProps, e);\n      },\n      footer: rest.submitter !== false && /*#__PURE__*/_jsx(\"div\", {\n        ref: footerDomRef,\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end'\n        }\n      }),\n      children: [resize ? /*#__PURE__*/_jsx(\"div\", {\n        className: classNames(getCls('sidebar-dragger'), hashId, _defineProperty(_defineProperty({}, getCls('sidebar-dragger-min-disabled'), drawerWidth === (resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.minWidth)), getCls('sidebar-dragger-max-disabled'), drawerWidth === (resizeInfo === null || resizeInfo === void 0 ? void 0 : resizeInfo.maxWidth))),\n        onMouseDown: function onMouseDown(e) {\n          var _resizeInfo$onResize;\n          resizeInfo === null || resizeInfo === void 0 || (_resizeInfo$onResize = resizeInfo.onResize) === null || _resizeInfo$onResize === void 0 || _resizeInfo$onResize.call(resizeInfo);\n          e.stopPropagation();\n          e.preventDefault();\n          document.addEventListener('mousemove', cbHandleMouseMove);\n          document.addEventListener('mouseup', cbHandleMouseUp);\n          setResizableDrawer(true);\n        }\n      }) : null, /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsx(BaseForm, _objectSpread(_objectSpread({\n          formComponentType: \"DrawerForm\",\n          layout: \"vertical\"\n        }, rest), {}, {\n          formRef: formRef,\n          onInit: function onInit(_, form) {\n            var _rest$onInit;\n            if (rest.formRef) {\n              rest.formRef.current = form;\n            }\n            rest === null || rest === void 0 || (_rest$onInit = rest.onInit) === null || _rest$onInit === void 0 || _rest$onInit.call(rest, _, form);\n            formRef.current = form;\n          },\n          submitter: submitterConfig,\n          onFinish: ( /*#__PURE__*/function () {\n            var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(values) {\n              var result;\n              return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                while (1) switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.next = 2;\n                    return onFinishHandle(values);\n                  case 2:\n                    result = _context3.sent;\n                    return _context3.abrupt(\"return\", result);\n                  case 4:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }, _callee3);\n            }));\n            return function (_x3) {\n              return _ref4.apply(this, arguments);\n            };\n          }()),\n          contentRender: contentRender,\n          children: children\n        }))\n      })]\n    })), triggerDom]\n  }));\n}\nexport { DrawerForm };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}