{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { InboxOutlined } from '@ant-design/icons';\nimport { ConfigProvider, Upload } from 'antd';\nimport React, { useContext } from 'react';\nimport { EditOrReadOnlyContext } from \"../../BaseForm/EditOrReadOnlyContext\";\nimport { createField } from \"../../BaseForm/createField\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n/**\n * 拖动上传组件\n *\n * @param\n */\nvar BaseProFormUploadDragger = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _fieldProps$style;\n  var fieldProps = _ref.fieldProps,\n    _ref$title = _ref.title,\n    title = _ref$title === void 0 ? '单击或拖动文件到此区域进行上传' : _ref$title,\n    _ref$icon = _ref.icon,\n    icon = _ref$icon === void 0 ? /*#__PURE__*/_jsx(InboxOutlined, {}) : _ref$icon,\n    _ref$description = _ref.description,\n    description = _ref$description === void 0 ? '支持单次或批量上传' : _ref$description,\n    action = _ref.action,\n    accept = _ref.accept,\n    _onChange = _ref.onChange,\n    value = _ref.value,\n    children = _ref.children,\n    max = _ref.max,\n    proFieldProps = _ref.proFieldProps;\n  var context = useContext(ConfigProvider.ConfigContext);\n  var modeContext = useContext(EditOrReadOnlyContext);\n  var mode = (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.mode) || modeContext.mode || 'edit';\n  var baseClassName = context.getPrefixCls('upload');\n  // 如果配置了 max ，并且 超过了文件列表的大小，就不展示按钮\n  var showUploadButton = (max === undefined || !value || (value === null || value === void 0 ? void 0 : value.length) < max) && mode !== 'read' && (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.readonly) !== true;\n  return /*#__PURE__*/_jsxs(Upload.Dragger, _objectSpread(_objectSpread({\n    // @ts-ignore\n    ref: ref,\n    name: \"files\",\n    action: action,\n    accept: accept,\n    fileList: value\n  }, fieldProps), {}, {\n    onChange: function onChange(info) {\n      _onChange === null || _onChange === void 0 || _onChange(info);\n      if (fieldProps !== null && fieldProps !== void 0 && fieldProps.onChange) {\n        fieldProps === null || fieldProps === void 0 || fieldProps.onChange(info);\n      }\n    },\n    style: _objectSpread(_objectSpread({\n      flexDirection: 'column',\n      alignItems: 'center'\n    }, fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.style), {}, {\n      display: !showUploadButton ? 'none' : (fieldProps === null || fieldProps === void 0 || (_fieldProps$style = fieldProps.style) === null || _fieldProps$style === void 0 ? void 0 : _fieldProps$style.display) || 'flex'\n    }),\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: \"\".concat(baseClassName, \"-drag-icon\"),\n      children: icon\n    }), /*#__PURE__*/_jsx(\"p\", {\n      className: \"\".concat(baseClassName, \"-text\"),\n      children: title\n    }), /*#__PURE__*/_jsx(\"p\", {\n      className: \"\".concat(baseClassName, \"-hint\"),\n      children: description\n    }), children ? /*#__PURE__*/_jsx(\"div\", {\n      className: \"\".concat(baseClassName, \"-extra\"),\n      style: {\n        padding: 16\n      },\n      children: children\n    }) : null]\n  }));\n});\nvar ProFormUploadDragger = createField(BaseProFormUploadDragger, {\n  getValueFromEvent: function getValueFromEvent(value) {\n    return value.fileList;\n  }\n});\nexport default ProFormUploadDragger;","map":{"version":3,"names":["_objectSpread","InboxOutlined","ConfigProvider","Upload","React","useContext","EditOrReadOnlyContext","createField","jsx","_jsx","jsxs","_jsxs","BaseProFormUploadDragger","forwardRef","_ref","ref","_fieldProps$style","fieldProps","_ref$title","title","_ref$icon","icon","_ref$description","description","action","accept","_onChange","onChange","value","children","max","proFieldProps","context","ConfigContext","modeContext","mode","baseClassName","getPrefixCls","showUploadButton","undefined","length","readonly","Dragger","name","fileList","info","style","flexDirection","alignItems","display","className","concat","padding","ProFormUploadDragger","getValueFromEvent"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-form/es/components/UploadDragger/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { InboxOutlined } from '@ant-design/icons';\nimport { ConfigProvider, Upload } from 'antd';\nimport React, { useContext } from 'react';\nimport { EditOrReadOnlyContext } from \"../../BaseForm/EditOrReadOnlyContext\";\nimport { createField } from \"../../BaseForm/createField\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n/**\n * 拖动上传组件\n *\n * @param\n */\nvar BaseProFormUploadDragger = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _fieldProps$style;\n  var fieldProps = _ref.fieldProps,\n    _ref$title = _ref.title,\n    title = _ref$title === void 0 ? '单击或拖动文件到此区域进行上传' : _ref$title,\n    _ref$icon = _ref.icon,\n    icon = _ref$icon === void 0 ? /*#__PURE__*/_jsx(InboxOutlined, {}) : _ref$icon,\n    _ref$description = _ref.description,\n    description = _ref$description === void 0 ? '支持单次或批量上传' : _ref$description,\n    action = _ref.action,\n    accept = _ref.accept,\n    _onChange = _ref.onChange,\n    value = _ref.value,\n    children = _ref.children,\n    max = _ref.max,\n    proFieldProps = _ref.proFieldProps;\n  var context = useContext(ConfigProvider.ConfigContext);\n  var modeContext = useContext(EditOrReadOnlyContext);\n  var mode = (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.mode) || modeContext.mode || 'edit';\n  var baseClassName = context.getPrefixCls('upload');\n  // 如果配置了 max ，并且 超过了文件列表的大小，就不展示按钮\n  var showUploadButton = (max === undefined || !value || (value === null || value === void 0 ? void 0 : value.length) < max) && mode !== 'read' && (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.readonly) !== true;\n  return /*#__PURE__*/_jsxs(Upload.Dragger, _objectSpread(_objectSpread({\n    // @ts-ignore\n    ref: ref,\n    name: \"files\",\n    action: action,\n    accept: accept,\n    fileList: value\n  }, fieldProps), {}, {\n    onChange: function onChange(info) {\n      _onChange === null || _onChange === void 0 || _onChange(info);\n      if (fieldProps !== null && fieldProps !== void 0 && fieldProps.onChange) {\n        fieldProps === null || fieldProps === void 0 || fieldProps.onChange(info);\n      }\n    },\n    style: _objectSpread(_objectSpread({\n      flexDirection: 'column',\n      alignItems: 'center'\n    }, fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.style), {}, {\n      display: !showUploadButton ? 'none' : (fieldProps === null || fieldProps === void 0 || (_fieldProps$style = fieldProps.style) === null || _fieldProps$style === void 0 ? void 0 : _fieldProps$style.display) || 'flex'\n    }),\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: \"\".concat(baseClassName, \"-drag-icon\"),\n      children: icon\n    }), /*#__PURE__*/_jsx(\"p\", {\n      className: \"\".concat(baseClassName, \"-text\"),\n      children: title\n    }), /*#__PURE__*/_jsx(\"p\", {\n      className: \"\".concat(baseClassName, \"-hint\"),\n      children: description\n    }), children ? /*#__PURE__*/_jsx(\"div\", {\n      className: \"\".concat(baseClassName, \"-extra\"),\n      style: {\n        padding: 16\n      },\n      children: children\n    }) : null]\n  }));\n});\nvar ProFormUploadDragger = createField(BaseProFormUploadDragger, {\n  getValueFromEvent: function getValueFromEvent(value) {\n    return value.fileList;\n  }\n});\nexport default ProFormUploadDragger;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}