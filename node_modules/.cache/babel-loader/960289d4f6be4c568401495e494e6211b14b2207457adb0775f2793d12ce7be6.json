{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { PlusOutlined } from '@ant-design/icons';\nimport { ProProvider, useIntl } from '@ant-design/pro-provider';\nimport { nanoid, runFunction } from '@ant-design/pro-utils';\nimport { Button } from 'antd';\nimport omit from 'omit.js';\nimport { useContext, useMemo, useRef, useState } from 'react';\nimport { EditOrReadOnlyContext } from \"../../BaseForm/EditOrReadOnlyContext\";\nimport { ProFormListItem } from \"./ListItem\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createElement as _createElement } from \"react\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ProFormListContainer = function ProFormListContainer(props) {\n  var intl = useIntl();\n  var creatorButtonProps = props.creatorButtonProps,\n    prefixCls = props.prefixCls,\n    children = props.children,\n    creatorRecord = props.creatorRecord,\n    action = props.action,\n    fields = props.fields,\n    actionGuard = props.actionGuard,\n    max = props.max,\n    fieldExtraRender = props.fieldExtraRender,\n    meta = props.meta,\n    containerClassName = props.containerClassName,\n    containerStyle = props.containerStyle,\n    onAfterAdd = props.onAfterAdd,\n    onAfterRemove = props.onAfterRemove;\n  var _useContext = useContext(ProProvider),\n    hashId = _useContext.hashId;\n  var fieldKeyMap = useRef(new Map());\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var uuidFields = useMemo(function () {\n    return fields.map(function (field) {\n      var _fieldKeyMap$current, _fieldKeyMap$current3;\n      if (!((_fieldKeyMap$current = fieldKeyMap.current) !== null && _fieldKeyMap$current !== void 0 && _fieldKeyMap$current.has(field.key.toString()))) {\n        var _fieldKeyMap$current2;\n        (_fieldKeyMap$current2 = fieldKeyMap.current) === null || _fieldKeyMap$current2 === void 0 || _fieldKeyMap$current2.set(field.key.toString(), nanoid());\n      }\n      var uuid = (_fieldKeyMap$current3 = fieldKeyMap.current) === null || _fieldKeyMap$current3 === void 0 ? void 0 : _fieldKeyMap$current3.get(field.key.toString());\n      return _objectSpread(_objectSpread({}, field), {}, {\n        uuid: uuid\n      });\n    });\n  }, [fields]);\n\n  /**\n   * 根据行为守卫包装action函数\n   */\n  var wrapperAction = useMemo(function () {\n    var wrapAction = _objectSpread({}, action);\n    var count = uuidFields.length;\n    if (actionGuard !== null && actionGuard !== void 0 && actionGuard.beforeAddRow) {\n      wrapAction.add = /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _len,\n          rest,\n          _key,\n          success,\n          res,\n          _args = arguments;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              for (_len = _args.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n                rest[_key] = _args[_key];\n              }\n              _context.next = 3;\n              return actionGuard.beforeAddRow.apply(actionGuard, rest.concat([count]));\n            case 3:\n              success = _context.sent;\n              if (!success) {\n                _context.next = 8;\n                break;\n              }\n              res = action.add.apply(action, rest);\n              onAfterAdd === null || onAfterAdd === void 0 || onAfterAdd.apply(void 0, rest.concat([count + 1]));\n              return _context.abrupt(\"return\", res);\n            case 8:\n              return _context.abrupt(\"return\", false);\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n    } else {\n      wrapAction.add = /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _len2,\n          rest,\n          _key2,\n          res,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              for (_len2 = _args2.length, rest = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                rest[_key2] = _args2[_key2];\n              }\n              res = action.add.apply(action, rest);\n              onAfterAdd === null || onAfterAdd === void 0 || onAfterAdd.apply(void 0, rest.concat([count + 1]));\n              return _context2.abrupt(\"return\", res);\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n    }\n    if (actionGuard !== null && actionGuard !== void 0 && actionGuard.beforeRemoveRow) {\n      wrapAction.remove = /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var _len3,\n          rest,\n          _key3,\n          success,\n          res,\n          _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              for (_len3 = _args3.length, rest = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                rest[_key3] = _args3[_key3];\n              }\n              _context3.next = 3;\n              return actionGuard.beforeRemoveRow.apply(actionGuard, rest.concat([count]));\n            case 3:\n              success = _context3.sent;\n              if (!success) {\n                _context3.next = 8;\n                break;\n              }\n              res = action.remove.apply(action, rest);\n              onAfterRemove === null || onAfterRemove === void 0 || onAfterRemove.apply(void 0, rest.concat([count - 1]));\n              return _context3.abrupt(\"return\", res);\n            case 8:\n              return _context3.abrupt(\"return\", false);\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n    } else {\n      wrapAction.remove = /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var _len4,\n          rest,\n          _key4,\n          res,\n          _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              for (_len4 = _args4.length, rest = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                rest[_key4] = _args4[_key4];\n              }\n              res = action.remove.apply(action, rest);\n              onAfterRemove === null || onAfterRemove === void 0 || onAfterRemove.apply(void 0, rest.concat([count - 1]));\n              return _context4.abrupt(\"return\", res);\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }));\n    }\n    return wrapAction;\n  }, [action, actionGuard === null || actionGuard === void 0 ? void 0 : actionGuard.beforeAddRow, actionGuard === null || actionGuard === void 0 ? void 0 : actionGuard.beforeRemoveRow, onAfterAdd, onAfterRemove, uuidFields.length]);\n  var creatorButton = useMemo(function () {\n    if (creatorButtonProps === false || uuidFields.length === max) return null;\n    var _ref5 = creatorButtonProps || {},\n      _ref5$position = _ref5.position,\n      position = _ref5$position === void 0 ? 'bottom' : _ref5$position,\n      _ref5$creatorButtonTe = _ref5.creatorButtonText,\n      creatorButtonText = _ref5$creatorButtonTe === void 0 ? intl.getMessage('editableTable.action.add', '添加一行数据') : _ref5$creatorButtonTe;\n    return /*#__PURE__*/_jsx(Button, _objectSpread(_objectSpread({\n      className: \"\".concat(prefixCls, \"-creator-button-\").concat(position, \" \").concat(hashId || '').trim(),\n      type: \"dashed\",\n      loading: loading,\n      block: true,\n      icon: /*#__PURE__*/_jsx(PlusOutlined, {})\n    }, omit(creatorButtonProps || {}, ['position', 'creatorButtonText'])), {}, {\n      onClick: /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var _runFunction;\n        var index;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              setLoading(true);\n              // 如果不是从顶部开始添加，则插入的索引为当前行数\n              index = uuidFields.length; // 如果是顶部，加到第一个，如果不是，为空就是最后一个\n              if (position === 'top') index = 0;\n              _context5.next = 5;\n              return wrapperAction.add((_runFunction = runFunction(creatorRecord)) !== null && _runFunction !== void 0 ? _runFunction : {}, index);\n            case 5:\n              setLoading(false);\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5);\n      })),\n      children: creatorButtonText\n    }));\n  }, [creatorButtonProps, uuidFields.length, max, intl, prefixCls, hashId, loading, wrapperAction, creatorRecord]);\n  var readOnlyContext = useContext(EditOrReadOnlyContext);\n  var defaultStyle = _objectSpread({\n    width: 'max-content',\n    maxWidth: '100%',\n    minWidth: '100%'\n  }, containerStyle);\n  var itemList = useMemo(function () {\n    return uuidFields.map(function (field, index) {\n      return /*#__PURE__*/_createElement(ProFormListItem, _objectSpread(_objectSpread({}, props), {}, {\n        key: field.uuid,\n        field: field,\n        index: index,\n        action: wrapperAction,\n        count: uuidFields.length\n      }), children);\n    });\n  }, [children, props, uuidFields, wrapperAction]);\n  if (readOnlyContext.mode === 'read' || props.readonly === true) {\n    return /*#__PURE__*/_jsx(_Fragment, {\n      children: itemList\n    });\n  }\n  return /*#__PURE__*/_jsxs(\"div\", {\n    style: defaultStyle,\n    className: containerClassName,\n    children: [creatorButtonProps !== false && (creatorButtonProps === null || creatorButtonProps === void 0 ? void 0 : creatorButtonProps.position) === 'top' && creatorButton, itemList, fieldExtraRender && fieldExtraRender(wrapperAction, meta), creatorButtonProps !== false && (creatorButtonProps === null || creatorButtonProps === void 0 ? void 0 : creatorButtonProps.position) !== 'top' && creatorButton]\n  });\n};\nexport { ProFormListContainer };","map":{"version":3,"names":["_regeneratorRuntime","_asyncToGenerator","_objectSpread","_slicedToArray","PlusOutlined","ProProvider","useIntl","nanoid","runFunction","Button","omit","useContext","useMemo","useRef","useState","EditOrReadOnlyContext","ProFormListItem","jsx","_jsx","createElement","_createElement","Fragment","_Fragment","jsxs","_jsxs","ProFormListContainer","props","intl","creatorButtonProps","prefixCls","children","creatorRecord","action","fields","actionGuard","max","fieldExtraRender","meta","containerClassName","containerStyle","onAfterAdd","onAfterRemove","_useContext","hashId","fieldKeyMap","Map","_useState","_useState2","loading","setLoading","uuidFields","map","field","_fieldKeyMap$current","_fieldKeyMap$current3","current","has","key","toString","_fieldKeyMap$current2","set","uuid","get","wrapperAction","wrapAction","count","length","beforeAddRow","add","mark","_callee","_len","rest","_key","success","res","_args","arguments","wrap","_callee$","_context","prev","next","Array","apply","concat","sent","abrupt","stop","_callee2","_len2","_key2","_args2","_callee2$","_context2","beforeRemoveRow","remove","_callee3","_len3","_key3","_args3","_callee3$","_context3","_callee4","_len4","_key4","_args4","_callee4$","_context4","creatorButton","_ref5","_ref5$position","position","_ref5$creatorButtonTe","creatorButtonText","getMessage","className","trim","type","block","icon","onClick","_callee5","_runFunction","index","_callee5$","_context5","readOnlyContext","defaultStyle","width","maxWidth","minWidth","itemList","mode","readonly","style"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-form/es/components/List/ListContainer.js"],"sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { PlusOutlined } from '@ant-design/icons';\nimport { ProProvider, useIntl } from '@ant-design/pro-provider';\nimport { nanoid, runFunction } from '@ant-design/pro-utils';\nimport { Button } from 'antd';\nimport omit from 'omit.js';\nimport { useContext, useMemo, useRef, useState } from 'react';\nimport { EditOrReadOnlyContext } from \"../../BaseForm/EditOrReadOnlyContext\";\nimport { ProFormListItem } from \"./ListItem\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createElement as _createElement } from \"react\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ProFormListContainer = function ProFormListContainer(props) {\n  var intl = useIntl();\n  var creatorButtonProps = props.creatorButtonProps,\n    prefixCls = props.prefixCls,\n    children = props.children,\n    creatorRecord = props.creatorRecord,\n    action = props.action,\n    fields = props.fields,\n    actionGuard = props.actionGuard,\n    max = props.max,\n    fieldExtraRender = props.fieldExtraRender,\n    meta = props.meta,\n    containerClassName = props.containerClassName,\n    containerStyle = props.containerStyle,\n    onAfterAdd = props.onAfterAdd,\n    onAfterRemove = props.onAfterRemove;\n  var _useContext = useContext(ProProvider),\n    hashId = _useContext.hashId;\n  var fieldKeyMap = useRef(new Map());\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var uuidFields = useMemo(function () {\n    return fields.map(function (field) {\n      var _fieldKeyMap$current, _fieldKeyMap$current3;\n      if (!((_fieldKeyMap$current = fieldKeyMap.current) !== null && _fieldKeyMap$current !== void 0 && _fieldKeyMap$current.has(field.key.toString()))) {\n        var _fieldKeyMap$current2;\n        (_fieldKeyMap$current2 = fieldKeyMap.current) === null || _fieldKeyMap$current2 === void 0 || _fieldKeyMap$current2.set(field.key.toString(), nanoid());\n      }\n      var uuid = (_fieldKeyMap$current3 = fieldKeyMap.current) === null || _fieldKeyMap$current3 === void 0 ? void 0 : _fieldKeyMap$current3.get(field.key.toString());\n      return _objectSpread(_objectSpread({}, field), {}, {\n        uuid: uuid\n      });\n    });\n  }, [fields]);\n\n  /**\n   * 根据行为守卫包装action函数\n   */\n  var wrapperAction = useMemo(function () {\n    var wrapAction = _objectSpread({}, action);\n    var count = uuidFields.length;\n    if (actionGuard !== null && actionGuard !== void 0 && actionGuard.beforeAddRow) {\n      wrapAction.add = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _len,\n          rest,\n          _key,\n          success,\n          res,\n          _args = arguments;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              for (_len = _args.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n                rest[_key] = _args[_key];\n              }\n              _context.next = 3;\n              return actionGuard.beforeAddRow.apply(actionGuard, rest.concat([count]));\n            case 3:\n              success = _context.sent;\n              if (!success) {\n                _context.next = 8;\n                break;\n              }\n              res = action.add.apply(action, rest);\n              onAfterAdd === null || onAfterAdd === void 0 || onAfterAdd.apply(void 0, rest.concat([count + 1]));\n              return _context.abrupt(\"return\", res);\n            case 8:\n              return _context.abrupt(\"return\", false);\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n    } else {\n      wrapAction.add = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _len2,\n          rest,\n          _key2,\n          res,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              for (_len2 = _args2.length, rest = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                rest[_key2] = _args2[_key2];\n              }\n              res = action.add.apply(action, rest);\n              onAfterAdd === null || onAfterAdd === void 0 || onAfterAdd.apply(void 0, rest.concat([count + 1]));\n              return _context2.abrupt(\"return\", res);\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n    }\n    if (actionGuard !== null && actionGuard !== void 0 && actionGuard.beforeRemoveRow) {\n      wrapAction.remove = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var _len3,\n          rest,\n          _key3,\n          success,\n          res,\n          _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              for (_len3 = _args3.length, rest = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                rest[_key3] = _args3[_key3];\n              }\n              _context3.next = 3;\n              return actionGuard.beforeRemoveRow.apply(actionGuard, rest.concat([count]));\n            case 3:\n              success = _context3.sent;\n              if (!success) {\n                _context3.next = 8;\n                break;\n              }\n              res = action.remove.apply(action, rest);\n              onAfterRemove === null || onAfterRemove === void 0 || onAfterRemove.apply(void 0, rest.concat([count - 1]));\n              return _context3.abrupt(\"return\", res);\n            case 8:\n              return _context3.abrupt(\"return\", false);\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n    } else {\n      wrapAction.remove = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var _len4,\n          rest,\n          _key4,\n          res,\n          _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              for (_len4 = _args4.length, rest = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                rest[_key4] = _args4[_key4];\n              }\n              res = action.remove.apply(action, rest);\n              onAfterRemove === null || onAfterRemove === void 0 || onAfterRemove.apply(void 0, rest.concat([count - 1]));\n              return _context4.abrupt(\"return\", res);\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }));\n    }\n    return wrapAction;\n  }, [action, actionGuard === null || actionGuard === void 0 ? void 0 : actionGuard.beforeAddRow, actionGuard === null || actionGuard === void 0 ? void 0 : actionGuard.beforeRemoveRow, onAfterAdd, onAfterRemove, uuidFields.length]);\n  var creatorButton = useMemo(function () {\n    if (creatorButtonProps === false || uuidFields.length === max) return null;\n    var _ref5 = creatorButtonProps || {},\n      _ref5$position = _ref5.position,\n      position = _ref5$position === void 0 ? 'bottom' : _ref5$position,\n      _ref5$creatorButtonTe = _ref5.creatorButtonText,\n      creatorButtonText = _ref5$creatorButtonTe === void 0 ? intl.getMessage('editableTable.action.add', '添加一行数据') : _ref5$creatorButtonTe;\n    return /*#__PURE__*/_jsx(Button, _objectSpread(_objectSpread({\n      className: \"\".concat(prefixCls, \"-creator-button-\").concat(position, \" \").concat(hashId || '').trim(),\n      type: \"dashed\",\n      loading: loading,\n      block: true,\n      icon: /*#__PURE__*/_jsx(PlusOutlined, {})\n    }, omit(creatorButtonProps || {}, ['position', 'creatorButtonText'])), {}, {\n      onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var _runFunction;\n        var index;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              setLoading(true);\n              // 如果不是从顶部开始添加，则插入的索引为当前行数\n              index = uuidFields.length; // 如果是顶部，加到第一个，如果不是，为空就是最后一个\n              if (position === 'top') index = 0;\n              _context5.next = 5;\n              return wrapperAction.add((_runFunction = runFunction(creatorRecord)) !== null && _runFunction !== void 0 ? _runFunction : {}, index);\n            case 5:\n              setLoading(false);\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5);\n      })),\n      children: creatorButtonText\n    }));\n  }, [creatorButtonProps, uuidFields.length, max, intl, prefixCls, hashId, loading, wrapperAction, creatorRecord]);\n  var readOnlyContext = useContext(EditOrReadOnlyContext);\n  var defaultStyle = _objectSpread({\n    width: 'max-content',\n    maxWidth: '100%',\n    minWidth: '100%'\n  }, containerStyle);\n  var itemList = useMemo(function () {\n    return uuidFields.map(function (field, index) {\n      return /*#__PURE__*/_createElement(ProFormListItem, _objectSpread(_objectSpread({}, props), {}, {\n        key: field.uuid,\n        field: field,\n        index: index,\n        action: wrapperAction,\n        count: uuidFields.length\n      }), children);\n    });\n  }, [children, props, uuidFields, wrapperAction]);\n  if (readOnlyContext.mode === 'read' || props.readonly === true) {\n    return /*#__PURE__*/_jsx(_Fragment, {\n      children: itemList\n    });\n  }\n  return /*#__PURE__*/_jsxs(\"div\", {\n    style: defaultStyle,\n    className: containerClassName,\n    children: [creatorButtonProps !== false && (creatorButtonProps === null || creatorButtonProps === void 0 ? void 0 : creatorButtonProps.position) === 'top' && creatorButton, itemList, fieldExtraRender && fieldExtraRender(wrapperAction, meta), creatorButtonProps !== false && (creatorButtonProps === null || creatorButtonProps === void 0 ? void 0 : creatorButtonProps.position) !== 'top' && creatorButton]\n  });\n};\nexport { ProFormListContainer };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}