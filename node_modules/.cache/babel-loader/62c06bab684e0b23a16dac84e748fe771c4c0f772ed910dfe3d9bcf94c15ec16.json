{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { useIntl } from '@ant-design/pro-provider';\nimport { compatibleBorder, parseValueToDay } from '@ant-design/pro-utils';\nimport { DatePicker, Tooltip } from 'antd';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n// 兼容代码-----------\nimport \"antd/es/date-picker/style\";\nimport React from 'react';\n//----------------------\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\ndayjs.extend(relativeTime);\n/**\n * 与当前的时间进行比较 http://momentjs.cn/docs/displaying/fromnow.html\n *\n * @param\n */\nvar FieldFromNow = function FieldFromNow(_ref, ref) {\n  var text = _ref.text,\n    mode = _ref.mode,\n    plain = _ref.plain,\n    render = _ref.render,\n    renderFormItem = _ref.renderFormItem,\n    format = _ref.format,\n    fieldProps = _ref.fieldProps;\n  var intl = useIntl();\n  if (mode === 'read') {\n    var dom = /*#__PURE__*/_jsx(Tooltip, {\n      title: dayjs(text).format((fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.format) || format || 'YYYY-MM-DD HH:mm:ss'),\n      children: dayjs(text).fromNow()\n    });\n    if (render) {\n      return render(text, _objectSpread({\n        mode: mode\n      }, fieldProps), /*#__PURE__*/_jsx(_Fragment, {\n        children: dom\n      }));\n    }\n    return /*#__PURE__*/_jsx(_Fragment, {\n      children: dom\n    });\n  }\n  if (mode === 'edit' || mode === 'update') {\n    var placeholder = intl.getMessage('tableForm.selectPlaceholder', '请选择');\n    var momentValue = parseValueToDay(fieldProps.value);\n    var _dom = /*#__PURE__*/_jsx(DatePicker, _objectSpread(_objectSpread(_objectSpread({\n      ref: ref,\n      placeholder: placeholder,\n      showTime: true\n    }, compatibleBorder(plain === undefined ? true : !plain)), fieldProps), {}, {\n      value: momentValue\n    }));\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldFromNow);","map":{"version":3,"names":["_objectSpread","useIntl","compatibleBorder","parseValueToDay","DatePicker","Tooltip","dayjs","relativeTime","React","jsx","_jsx","Fragment","_Fragment","extend","FieldFromNow","_ref","ref","text","mode","plain","render","renderFormItem","format","fieldProps","intl","dom","title","children","fromNow","placeholder","getMessage","momentValue","value","_dom","showTime","undefined","forwardRef"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-field/es/components/FromNow/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { useIntl } from '@ant-design/pro-provider';\nimport { compatibleBorder, parseValueToDay } from '@ant-design/pro-utils';\nimport { DatePicker, Tooltip } from 'antd';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n// 兼容代码-----------\nimport \"antd/es/date-picker/style\";\nimport React from 'react';\n//----------------------\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\ndayjs.extend(relativeTime);\n/**\n * 与当前的时间进行比较 http://momentjs.cn/docs/displaying/fromnow.html\n *\n * @param\n */\nvar FieldFromNow = function FieldFromNow(_ref, ref) {\n  var text = _ref.text,\n    mode = _ref.mode,\n    plain = _ref.plain,\n    render = _ref.render,\n    renderFormItem = _ref.renderFormItem,\n    format = _ref.format,\n    fieldProps = _ref.fieldProps;\n  var intl = useIntl();\n  if (mode === 'read') {\n    var dom = /*#__PURE__*/_jsx(Tooltip, {\n      title: dayjs(text).format((fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.format) || format || 'YYYY-MM-DD HH:mm:ss'),\n      children: dayjs(text).fromNow()\n    });\n    if (render) {\n      return render(text, _objectSpread({\n        mode: mode\n      }, fieldProps), /*#__PURE__*/_jsx(_Fragment, {\n        children: dom\n      }));\n    }\n    return /*#__PURE__*/_jsx(_Fragment, {\n      children: dom\n    });\n  }\n  if (mode === 'edit' || mode === 'update') {\n    var placeholder = intl.getMessage('tableForm.selectPlaceholder', '请选择');\n    var momentValue = parseValueToDay(fieldProps.value);\n    var _dom = /*#__PURE__*/_jsx(DatePicker, _objectSpread(_objectSpread(_objectSpread({\n      ref: ref,\n      placeholder: placeholder,\n      showTime: true\n    }, compatibleBorder(plain === undefined ? true : !plain)), fieldProps), {}, {\n      value: momentValue\n    }));\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldFromNow);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}