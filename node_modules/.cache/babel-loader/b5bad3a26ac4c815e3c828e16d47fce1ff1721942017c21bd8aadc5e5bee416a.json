{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar _excluded = [\"label\", \"prefixCls\", \"onChange\", \"value\", \"mode\", \"children\", \"defaultValue\", \"size\", \"showSearch\", \"disabled\", \"style\", \"className\", \"bordered\", \"options\", \"onSearch\", \"allowClear\", \"labelInValue\", \"fieldNames\", \"lightLabel\", \"labelTrigger\", \"optionFilterProp\", \"optionLabelProp\", \"valueMaxLength\", \"fetchDataOnSearch\", \"fetchData\"];\nimport { SearchOutlined } from '@ant-design/icons';\nimport { FieldLabel, compatibleBorder, useStyle } from '@ant-design/pro-utils';\nimport { ConfigProvider, Input, Select } from 'antd';\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport React, { useContext, useMemo, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n/**\n * 如果有 label 就优先使用 label\n *\n * @param valueMap\n * @param v\n */\nvar getValueOrLabel = function getValueOrLabel(valueMap, v) {\n  if (_typeof(v) !== 'object') {\n    return valueMap[v] || v;\n  }\n  return valueMap[v === null || v === void 0 ? void 0 : v.value] || v.label;\n};\nvar LightSelect = function LightSelect(props, ref) {\n  var label = props.label,\n    customizePrefixCls = props.prefixCls,\n    _onChange = props.onChange,\n    value = props.value,\n    mode = props.mode,\n    children = props.children,\n    defaultValue = props.defaultValue,\n    size = props.size,\n    showSearch = props.showSearch,\n    disabled = props.disabled,\n    style = props.style,\n    className = props.className,\n    bordered = props.bordered,\n    options = props.options,\n    onSearch = props.onSearch,\n    allowClear = props.allowClear,\n    labelInValue = props.labelInValue,\n    fieldNames = props.fieldNames,\n    lightLabel = props.lightLabel,\n    labelTrigger = props.labelTrigger,\n    optionFilterProp = props.optionFilterProp,\n    _props$optionLabelPro = props.optionLabelProp,\n    optionLabelProp = _props$optionLabelPro === void 0 ? '' : _props$optionLabelPro,\n    _props$valueMaxLength = props.valueMaxLength,\n    valueMaxLength = _props$valueMaxLength === void 0 ? 41 : _props$valueMaxLength,\n    _props$fetchDataOnSea = props.fetchDataOnSearch,\n    fetchDataOnSearch = _props$fetchDataOnSea === void 0 ? false : _props$fetchDataOnSea,\n    fetchData = props.fetchData,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var _props$placeholder = props.placeholder,\n    placeholder = _props$placeholder === void 0 ? label : _props$placeholder;\n  var _ref = fieldNames || {},\n    _ref$label = _ref.label,\n    labelPropsName = _ref$label === void 0 ? 'label' : _ref$label,\n    _ref$value = _ref.value,\n    valuePropsName = _ref$value === void 0 ? 'value' : _ref$value;\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('pro-field-select-light-select');\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    open = _useState2[0],\n    setOpen = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    keyword = _useState4[0],\n    setKeyword = _useState4[1];\n\n  // css\n  var _useStyle = useStyle('LightSelect', function (token) {\n      return _defineProperty({}, \".\".concat(prefixCls), _defineProperty(_defineProperty({}, \"\".concat(token.antCls, \"-select\"), {\n        position: 'absolute',\n        width: '153px',\n        height: '28px',\n        visibility: 'hidden',\n        '&-selector': {\n          height: 28\n        }\n      }), \"&.\".concat(prefixCls, \"-searchable\"), _defineProperty({}, \"\".concat(token.antCls, \"-select\"), {\n        width: '200px',\n        '&-selector': {\n          height: 28\n        }\n      })));\n    }),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var valueMap = useMemo(function () {\n    var values = {};\n    options === null || options === void 0 || options.forEach(function (item) {\n      var optionLabel = item[optionLabelProp] || item[labelPropsName];\n      var optionValue = item[valuePropsName];\n      values[optionValue] = optionLabel || optionValue;\n    });\n    return values;\n  }, [labelPropsName, options, valuePropsName, optionLabelProp]);\n\n  // 修复用户在使用ProFormSelect组件时，在fieldProps中使用open属性，不生效。\n  // ProComponents文档中写到“与select相同，且fieldProps同antd组件中的props”描述方案不相符\n  var mergeOpen = useMemo(function () {\n    if (Reflect.has(restProps, 'open')) {\n      return restProps === null || restProps === void 0 ? void 0 : restProps.open;\n    }\n    return open;\n  }, [open, restProps]);\n  var filterValue = Array.isArray(value) ? value.map(function (v) {\n    return getValueOrLabel(valueMap, v);\n  }) : getValueOrLabel(valueMap, value);\n  return wrapSSR(/*#__PURE__*/_jsxs(\"div\", {\n    className: classNames(prefixCls, hashId, _defineProperty({}, \"\".concat(prefixCls, \"-searchable\"), showSearch), \"\".concat(prefixCls, \"-container-\").concat(restProps.placement || 'bottomLeft'), className),\n    style: style,\n    onClick: function onClick(e) {\n      var _lightLabel$current;\n      if (disabled) return;\n      // 点击label切换下拉菜单\n      var isLabelClick = lightLabel === null || lightLabel === void 0 || (_lightLabel$current = lightLabel.current) === null || _lightLabel$current === void 0 || (_lightLabel$current = _lightLabel$current.labelRef) === null || _lightLabel$current === void 0 || (_lightLabel$current = _lightLabel$current.current) === null || _lightLabel$current === void 0 ? void 0 : _lightLabel$current.contains(e.target);\n      if (isLabelClick) {\n        setOpen(!open);\n      } else {\n        // 这里注释掉\n        /**\n         * 因为这里与代码\n         *  if (mode !== 'multiple') {\n         *   setOpen(false);\n         *  }\n         * 冲突了，导致这段代码不生效\n         */\n        // setOpen(true);\n      }\n    },\n    children: [/*#__PURE__*/_jsx(Select\n    /**\n     * popupMatchSelectWidth写死false会关闭虚拟滚动，数量量过大时，影响组件性能\n     * 将此属性注释掉，变成灵活的动态配置\n     */\n    // popupMatchSelectWidth={false}\n    , _objectSpread(_objectSpread(_objectSpread({}, restProps), {}, {\n      allowClear: allowClear,\n      value: value,\n      mode: mode,\n      labelInValue: labelInValue,\n      size: size,\n      disabled: disabled,\n      onChange: function onChange(v, option) {\n        _onChange === null || _onChange === void 0 || _onChange(v, option);\n        if (mode !== 'multiple') {\n          setOpen(false);\n        }\n      }\n    }, compatibleBorder(bordered)), {}, {\n      showSearch: showSearch,\n      onSearch: showSearch ? function (keyValue) {\n        if (fetchDataOnSearch && fetchData) {\n          fetchData(keyValue);\n        }\n        onSearch === null || onSearch === void 0 || onSearch(keyValue);\n      } : void 0,\n      style: style,\n      dropdownRender: function dropdownRender(menuNode) {\n        return /*#__PURE__*/_jsxs(\"div\", {\n          ref: ref,\n          children: [showSearch && /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              margin: '4px 8px'\n            },\n            children: /*#__PURE__*/_jsx(Input, {\n              value: keyword,\n              allowClear: !!allowClear,\n              onChange: function onChange(e) {\n                setKeyword(e.target.value);\n                if (fetchDataOnSearch && fetchData) {\n                  fetchData(e.target.value);\n                }\n                onSearch === null || onSearch === void 0 || onSearch(e.target.value);\n              },\n              onKeyDown: function onKeyDown(e) {\n                // 避免按下删除键把选项也删除了\n                if (e.key === 'Backspace') {\n                  e.stopPropagation();\n                  return;\n                }\n                if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n                  e.preventDefault();\n                }\n              },\n              style: {\n                width: '100%'\n              },\n              prefix: /*#__PURE__*/_jsx(SearchOutlined, {})\n            })\n          }), menuNode]\n        });\n      },\n      open: mergeOpen,\n      onDropdownVisibleChange: function onDropdownVisibleChange(isOpen) {\n        var _restProps$onDropdown;\n        if (!isOpen) {\n          //  测试环境下直接跑\n          setKeyword('');\n        }\n        if (!labelTrigger) {\n          setOpen(isOpen);\n        }\n        restProps === null || restProps === void 0 || (_restProps$onDropdown = restProps.onDropdownVisibleChange) === null || _restProps$onDropdown === void 0 || _restProps$onDropdown.call(restProps, isOpen);\n      },\n      prefixCls: customizePrefixCls,\n      options: onSearch || !keyword ? options : options === null || options === void 0 ? void 0 : options.filter(function (o) {\n        var _String, _o$valuePropsName;\n        if (optionFilterProp) {\n          return toArray(o[optionFilterProp]).join('').toLowerCase().includes(keyword);\n        }\n        return ((_String = String(o[labelPropsName])) === null || _String === void 0 || (_String = _String.toLowerCase()) === null || _String === void 0 ? void 0 : _String.includes(keyword === null || keyword === void 0 ? void 0 : keyword.toLowerCase())) || ((_o$valuePropsName = o[valuePropsName]) === null || _o$valuePropsName === void 0 || (_o$valuePropsName = _o$valuePropsName.toString()) === null || _o$valuePropsName === void 0 || (_o$valuePropsName = _o$valuePropsName.toLowerCase()) === null || _o$valuePropsName === void 0 ? void 0 : _o$valuePropsName.includes(keyword === null || keyword === void 0 ? void 0 : keyword.toLowerCase()));\n      })\n    })), /*#__PURE__*/_jsx(FieldLabel, {\n      ellipsis: true,\n      label: label,\n      placeholder: placeholder,\n      disabled: disabled,\n      bordered: bordered,\n      allowClear: !!allowClear,\n      value: filterValue || (value === null || value === void 0 ? void 0 : value.label) || value,\n      onClear: function onClear() {\n        _onChange === null || _onChange === void 0 || _onChange(undefined, undefined);\n      },\n      ref: lightLabel,\n      valueMaxLength: valueMaxLength\n    })]\n  }));\n};\nexport default /*#__PURE__*/React.forwardRef(LightSelect);","map":{"version":3,"names":["_objectSpread","_defineProperty","_slicedToArray","_objectWithoutProperties","_typeof","_excluded","SearchOutlined","FieldLabel","compatibleBorder","useStyle","ConfigProvider","Input","Select","classNames","toArray","React","useContext","useMemo","useState","jsx","_jsx","jsxs","_jsxs","getValueOrLabel","valueMap","v","value","label","LightSelect","props","ref","customizePrefixCls","prefixCls","_onChange","onChange","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue","fieldNames","lightLabel","labelTrigger","optionFilterProp","_props$optionLabelPro","optionLabelProp","_props$valueMaxLength","valueMaxLength","_props$fetchDataOnSea","fetchDataOnSearch","fetchData","restProps","_props$placeholder","placeholder","_ref","_ref$label","labelPropsName","_ref$value","valuePropsName","_useContext","ConfigContext","getPrefixCls","_useState","_useState2","open","setOpen","_useState3","_useState4","keyword","setKeyword","_useStyle","token","concat","antCls","position","width","height","visibility","wrapSSR","hashId","values","forEach","item","optionLabel","optionValue","mergeOpen","Reflect","has","filterValue","Array","isArray","map","placement","onClick","e","_lightLabel$current","isLabelClick","current","labelRef","contains","target","option","keyValue","dropdownRender","menuNode","margin","onKeyDown","key","stopPropagation","preventDefault","prefix","onDropdownVisibleChange","isOpen","_restProps$onDropdown","call","filter","o","_String","_o$valuePropsName","join","toLowerCase","includes","String","toString","ellipsis","onClear","undefined","forwardRef"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-field/es/components/Select/LightSelect/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar _excluded = [\"label\", \"prefixCls\", \"onChange\", \"value\", \"mode\", \"children\", \"defaultValue\", \"size\", \"showSearch\", \"disabled\", \"style\", \"className\", \"bordered\", \"options\", \"onSearch\", \"allowClear\", \"labelInValue\", \"fieldNames\", \"lightLabel\", \"labelTrigger\", \"optionFilterProp\", \"optionLabelProp\", \"valueMaxLength\", \"fetchDataOnSearch\", \"fetchData\"];\nimport { SearchOutlined } from '@ant-design/icons';\nimport { FieldLabel, compatibleBorder, useStyle } from '@ant-design/pro-utils';\nimport { ConfigProvider, Input, Select } from 'antd';\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport React, { useContext, useMemo, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n/**\n * 如果有 label 就优先使用 label\n *\n * @param valueMap\n * @param v\n */\nvar getValueOrLabel = function getValueOrLabel(valueMap, v) {\n  if (_typeof(v) !== 'object') {\n    return valueMap[v] || v;\n  }\n  return valueMap[v === null || v === void 0 ? void 0 : v.value] || v.label;\n};\nvar LightSelect = function LightSelect(props, ref) {\n  var label = props.label,\n    customizePrefixCls = props.prefixCls,\n    _onChange = props.onChange,\n    value = props.value,\n    mode = props.mode,\n    children = props.children,\n    defaultValue = props.defaultValue,\n    size = props.size,\n    showSearch = props.showSearch,\n    disabled = props.disabled,\n    style = props.style,\n    className = props.className,\n    bordered = props.bordered,\n    options = props.options,\n    onSearch = props.onSearch,\n    allowClear = props.allowClear,\n    labelInValue = props.labelInValue,\n    fieldNames = props.fieldNames,\n    lightLabel = props.lightLabel,\n    labelTrigger = props.labelTrigger,\n    optionFilterProp = props.optionFilterProp,\n    _props$optionLabelPro = props.optionLabelProp,\n    optionLabelProp = _props$optionLabelPro === void 0 ? '' : _props$optionLabelPro,\n    _props$valueMaxLength = props.valueMaxLength,\n    valueMaxLength = _props$valueMaxLength === void 0 ? 41 : _props$valueMaxLength,\n    _props$fetchDataOnSea = props.fetchDataOnSearch,\n    fetchDataOnSearch = _props$fetchDataOnSea === void 0 ? false : _props$fetchDataOnSea,\n    fetchData = props.fetchData,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var _props$placeholder = props.placeholder,\n    placeholder = _props$placeholder === void 0 ? label : _props$placeholder;\n  var _ref = fieldNames || {},\n    _ref$label = _ref.label,\n    labelPropsName = _ref$label === void 0 ? 'label' : _ref$label,\n    _ref$value = _ref.value,\n    valuePropsName = _ref$value === void 0 ? 'value' : _ref$value;\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('pro-field-select-light-select');\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    open = _useState2[0],\n    setOpen = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    keyword = _useState4[0],\n    setKeyword = _useState4[1];\n\n  // css\n  var _useStyle = useStyle('LightSelect', function (token) {\n      return _defineProperty({}, \".\".concat(prefixCls), _defineProperty(_defineProperty({}, \"\".concat(token.antCls, \"-select\"), {\n        position: 'absolute',\n        width: '153px',\n        height: '28px',\n        visibility: 'hidden',\n        '&-selector': {\n          height: 28\n        }\n      }), \"&.\".concat(prefixCls, \"-searchable\"), _defineProperty({}, \"\".concat(token.antCls, \"-select\"), {\n        width: '200px',\n        '&-selector': {\n          height: 28\n        }\n      })));\n    }),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var valueMap = useMemo(function () {\n    var values = {};\n    options === null || options === void 0 || options.forEach(function (item) {\n      var optionLabel = item[optionLabelProp] || item[labelPropsName];\n      var optionValue = item[valuePropsName];\n      values[optionValue] = optionLabel || optionValue;\n    });\n    return values;\n  }, [labelPropsName, options, valuePropsName, optionLabelProp]);\n\n  // 修复用户在使用ProFormSelect组件时，在fieldProps中使用open属性，不生效。\n  // ProComponents文档中写到“与select相同，且fieldProps同antd组件中的props”描述方案不相符\n  var mergeOpen = useMemo(function () {\n    if (Reflect.has(restProps, 'open')) {\n      return restProps === null || restProps === void 0 ? void 0 : restProps.open;\n    }\n    return open;\n  }, [open, restProps]);\n  var filterValue = Array.isArray(value) ? value.map(function (v) {\n    return getValueOrLabel(valueMap, v);\n  }) : getValueOrLabel(valueMap, value);\n  return wrapSSR( /*#__PURE__*/_jsxs(\"div\", {\n    className: classNames(prefixCls, hashId, _defineProperty({}, \"\".concat(prefixCls, \"-searchable\"), showSearch), \"\".concat(prefixCls, \"-container-\").concat(restProps.placement || 'bottomLeft'), className),\n    style: style,\n    onClick: function onClick(e) {\n      var _lightLabel$current;\n      if (disabled) return;\n      // 点击label切换下拉菜单\n      var isLabelClick = lightLabel === null || lightLabel === void 0 || (_lightLabel$current = lightLabel.current) === null || _lightLabel$current === void 0 || (_lightLabel$current = _lightLabel$current.labelRef) === null || _lightLabel$current === void 0 || (_lightLabel$current = _lightLabel$current.current) === null || _lightLabel$current === void 0 ? void 0 : _lightLabel$current.contains(e.target);\n      if (isLabelClick) {\n        setOpen(!open);\n      } else {\n        // 这里注释掉\n        /**\n         * 因为这里与代码\n         *  if (mode !== 'multiple') {\n         *   setOpen(false);\n         *  }\n         * 冲突了，导致这段代码不生效\n         */\n        // setOpen(true);\n      }\n    },\n    children: [/*#__PURE__*/_jsx(Select\n    /**\n     * popupMatchSelectWidth写死false会关闭虚拟滚动，数量量过大时，影响组件性能\n     * 将此属性注释掉，变成灵活的动态配置\n     */\n    // popupMatchSelectWidth={false}\n    , _objectSpread(_objectSpread(_objectSpread({}, restProps), {}, {\n      allowClear: allowClear,\n      value: value,\n      mode: mode,\n      labelInValue: labelInValue,\n      size: size,\n      disabled: disabled,\n      onChange: function onChange(v, option) {\n        _onChange === null || _onChange === void 0 || _onChange(v, option);\n        if (mode !== 'multiple') {\n          setOpen(false);\n        }\n      }\n    }, compatibleBorder(bordered)), {}, {\n      showSearch: showSearch,\n      onSearch: showSearch ? function (keyValue) {\n        if (fetchDataOnSearch && fetchData) {\n          fetchData(keyValue);\n        }\n        onSearch === null || onSearch === void 0 || onSearch(keyValue);\n      } : void 0,\n      style: style,\n      dropdownRender: function dropdownRender(menuNode) {\n        return /*#__PURE__*/_jsxs(\"div\", {\n          ref: ref,\n          children: [showSearch && /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              margin: '4px 8px'\n            },\n            children: /*#__PURE__*/_jsx(Input, {\n              value: keyword,\n              allowClear: !!allowClear,\n              onChange: function onChange(e) {\n                setKeyword(e.target.value);\n                if (fetchDataOnSearch && fetchData) {\n                  fetchData(e.target.value);\n                }\n                onSearch === null || onSearch === void 0 || onSearch(e.target.value);\n              },\n              onKeyDown: function onKeyDown(e) {\n                // 避免按下删除键把选项也删除了\n                if (e.key === 'Backspace') {\n                  e.stopPropagation();\n                  return;\n                }\n                if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n                  e.preventDefault();\n                }\n              },\n              style: {\n                width: '100%'\n              },\n              prefix: /*#__PURE__*/_jsx(SearchOutlined, {})\n            })\n          }), menuNode]\n        });\n      },\n      open: mergeOpen,\n      onDropdownVisibleChange: function onDropdownVisibleChange(isOpen) {\n        var _restProps$onDropdown;\n        if (!isOpen) {\n          //  测试环境下直接跑\n          setKeyword('');\n        }\n        if (!labelTrigger) {\n          setOpen(isOpen);\n        }\n        restProps === null || restProps === void 0 || (_restProps$onDropdown = restProps.onDropdownVisibleChange) === null || _restProps$onDropdown === void 0 || _restProps$onDropdown.call(restProps, isOpen);\n      },\n      prefixCls: customizePrefixCls,\n      options: onSearch || !keyword ? options : options === null || options === void 0 ? void 0 : options.filter(function (o) {\n        var _String, _o$valuePropsName;\n        if (optionFilterProp) {\n          return toArray(o[optionFilterProp]).join('').toLowerCase().includes(keyword);\n        }\n        return ((_String = String(o[labelPropsName])) === null || _String === void 0 || (_String = _String.toLowerCase()) === null || _String === void 0 ? void 0 : _String.includes(keyword === null || keyword === void 0 ? void 0 : keyword.toLowerCase())) || ((_o$valuePropsName = o[valuePropsName]) === null || _o$valuePropsName === void 0 || (_o$valuePropsName = _o$valuePropsName.toString()) === null || _o$valuePropsName === void 0 || (_o$valuePropsName = _o$valuePropsName.toLowerCase()) === null || _o$valuePropsName === void 0 ? void 0 : _o$valuePropsName.includes(keyword === null || keyword === void 0 ? void 0 : keyword.toLowerCase()));\n      })\n    })), /*#__PURE__*/_jsx(FieldLabel, {\n      ellipsis: true,\n      label: label,\n      placeholder: placeholder,\n      disabled: disabled,\n      bordered: bordered,\n      allowClear: !!allowClear,\n      value: filterValue || (value === null || value === void 0 ? void 0 : value.label) || value,\n      onClear: function onClear() {\n        _onChange === null || _onChange === void 0 || _onChange(undefined, undefined);\n      },\n      ref: lightLabel,\n      valueMaxLength: valueMaxLength\n    })]\n  }));\n};\nexport default /*#__PURE__*/React.forwardRef(LightSelect);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}