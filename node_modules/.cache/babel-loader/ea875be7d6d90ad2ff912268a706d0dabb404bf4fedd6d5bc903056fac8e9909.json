{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"radioType\", \"renderFormItem\", \"mode\", \"light\", \"label\", \"render\"],\n  _excluded2 = [\"onSearch\", \"onClear\", \"onChange\", \"onBlur\", \"showSearch\", \"autoClearSearchValue\", \"treeData\", \"fetchDataOnSearch\", \"searchValue\"];\nimport { useIntl } from '@ant-design/pro-provider';\nimport { FieldLabel, objectToMap, proFieldParsingText } from '@ant-design/pro-utils';\nimport { ConfigProvider, Spin, TreeSelect } from 'antd';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useContext, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { useFieldFetchData } from \"../Select\";\n\n// 兼容代码-----------\nimport \"antd/es/spin/style\";\nimport \"antd/es/tree-select/style\";\n//----------------------\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n/**\n * Tree select\n * A function that returns a React component.\n * @param ref\n */\nvar FieldTreeSelect = function FieldTreeSelect(_ref, ref) {\n  var radioType = _ref.radioType,\n    renderFormItem = _ref.renderFormItem,\n    mode = _ref.mode,\n    light = _ref.light,\n    label = _ref.label,\n    render = _ref.render,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var layoutClassName = getPrefixCls('pro-field-tree-select');\n  var treeSelectRef = useRef(null);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    open = _useState2[0],\n    setOpen = _useState2[1];\n  var _ref2 = rest.fieldProps,\n    onSearch = _ref2.onSearch,\n    _onClear = _ref2.onClear,\n    propsOnChange = _ref2.onChange,\n    _onBlur = _ref2.onBlur,\n    showSearch = _ref2.showSearch,\n    autoClearSearchValue = _ref2.autoClearSearchValue,\n    treeData = _ref2.treeData,\n    fetchDataOnSearch = _ref2.fetchDataOnSearch,\n    propsSearchValue = _ref2.searchValue,\n    fieldProps = _objectWithoutProperties(_ref2, _excluded2);\n  var intl = useIntl();\n  var _useFieldFetchData = useFieldFetchData(_objectSpread(_objectSpread({}, rest), {}, {\n      defaultKeyWords: propsSearchValue\n    })),\n    _useFieldFetchData2 = _slicedToArray(_useFieldFetchData, 3),\n    loading = _useFieldFetchData2[0],\n    options = _useFieldFetchData2[1],\n    _fetchData = _useFieldFetchData2[2];\n  var _useMergedState = useMergedState(undefined, {\n      onChange: onSearch,\n      value: propsSearchValue\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    searchValue = _useMergedState2[0],\n    setSearchValue = _useMergedState2[1];\n  useImperativeHandle(ref, function () {\n    return _objectSpread(_objectSpread({}, treeSelectRef.current || {}), {}, {\n      fetchData: function fetchData(keyWord) {\n        return _fetchData(keyWord);\n      }\n    });\n  });\n  var optionsValueEnum = useMemo(function () {\n    if (mode !== 'read') return;\n    /**\n     * Support TreeSelect fieldNames\n     * @see https://ant.design/components/tree-select-cn\n     */\n    var _ref3 = (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.fieldNames) || {},\n      _ref3$value = _ref3.value,\n      valuePropsName = _ref3$value === void 0 ? 'value' : _ref3$value,\n      _ref3$label = _ref3.label,\n      labelPropsName = _ref3$label === void 0 ? 'label' : _ref3$label,\n      _ref3$children = _ref3.children,\n      childrenPropsName = _ref3$children === void 0 ? 'children' : _ref3$children;\n    var valuesMap = new Map();\n    var traverseOptions = function traverseOptions(_options) {\n      if (!(_options !== null && _options !== void 0 && _options.length)) {\n        return valuesMap;\n      }\n      var length = _options.length;\n      var i = 0;\n      while (i < length) {\n        var cur = _options[i++];\n        valuesMap.set(cur[valuePropsName], cur[labelPropsName]);\n        traverseOptions(cur[childrenPropsName]);\n      }\n      return valuesMap;\n    };\n    return traverseOptions(options);\n  }, [fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.fieldNames, mode, options]);\n  var onChange = function onChange(value, optionList, extra) {\n    // 将搜索框置空 和 antd 行为保持一致\n    if (showSearch && autoClearSearchValue) {\n      _fetchData(undefined);\n      setSearchValue(undefined);\n    }\n    propsOnChange === null || propsOnChange === void 0 || propsOnChange(value, optionList, extra);\n  };\n  if (mode === 'read') {\n    var dom = /*#__PURE__*/_jsx(_Fragment, {\n      children: proFieldParsingText(rest.text, objectToMap(rest.valueEnum || optionsValueEnum))\n    });\n    if (render) {\n      var _render;\n      return (_render = render(rest.text, _objectSpread({\n        mode: mode\n      }, fieldProps), dom)) !== null && _render !== void 0 ? _render : null;\n    }\n    return dom;\n  }\n  if (mode === 'edit') {\n    var _fieldProps$value;\n    var valuesLength = Array.isArray(fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.value) ? fieldProps === null || fieldProps === void 0 || (_fieldProps$value = fieldProps.value) === null || _fieldProps$value === void 0 ? void 0 : _fieldProps$value.length : 0;\n    var _dom = /*#__PURE__*/_jsx(Spin, {\n      spinning: loading,\n      children: /*#__PURE__*/_jsx(TreeSelect, _objectSpread(_objectSpread({\n        open: open,\n        onDropdownVisibleChange: function onDropdownVisibleChange(isOpen) {\n          var _fieldProps$onDropdow;\n          fieldProps === null || fieldProps === void 0 || (_fieldProps$onDropdow = fieldProps.onDropdownVisibleChange) === null || _fieldProps$onDropdow === void 0 || _fieldProps$onDropdow.call(fieldProps, isOpen);\n          setOpen(isOpen);\n        },\n        ref: treeSelectRef,\n        popupMatchSelectWidth: !light,\n        placeholder: intl.getMessage('tableForm.selectPlaceholder', '请选择'),\n        tagRender: light ? function (item) {\n          var _fieldProps$value2;\n          if (valuesLength < 2) return /*#__PURE__*/_jsx(_Fragment, {\n            children: item.label\n          });\n          /**\n           * 性能不好，等我给 antd 提个issue\n           */\n          var itemIndex = fieldProps === null || fieldProps === void 0 || (_fieldProps$value2 = fieldProps.value) === null || _fieldProps$value2 === void 0 ? void 0 : _fieldProps$value2.findIndex(function (v) {\n            return v === item.value || v.value === item.value;\n          });\n          return /*#__PURE__*/_jsxs(_Fragment, {\n            children: [item.label, \" \", itemIndex < valuesLength - 1 ? ',' : '']\n          });\n        } : undefined,\n        bordered: !light\n      }, fieldProps), {}, {\n        treeData: options,\n        showSearch: showSearch,\n        style: _objectSpread({\n          minWidth: 60\n        }, fieldProps.style),\n        allowClear: fieldProps.allowClear !== false,\n        searchValue: searchValue,\n        autoClearSearchValue: autoClearSearchValue,\n        onClear: function onClear() {\n          _onClear === null || _onClear === void 0 || _onClear();\n          _fetchData(undefined);\n          if (showSearch) {\n            setSearchValue(undefined);\n          }\n        },\n        onChange: onChange,\n        onSearch: function onSearch(value) {\n          // fix 不支持请求的情况下不刷新options\n          if (fetchDataOnSearch && rest !== null && rest !== void 0 && rest.request) {\n            _fetchData(value);\n          }\n          setSearchValue(value);\n        },\n        onBlur: function onBlur(event) {\n          setSearchValue(undefined);\n          _fetchData(undefined);\n          _onBlur === null || _onBlur === void 0 || _onBlur(event);\n        },\n        className: classNames(fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.className, layoutClassName)\n      }))\n    });\n    if (renderFormItem) {\n      var _renderFormItem;\n      _dom = (_renderFormItem = renderFormItem(rest.text, _objectSpread(_objectSpread({\n        mode: mode\n      }, fieldProps), {}, {\n        options: options,\n        loading: loading\n      }), _dom)) !== null && _renderFormItem !== void 0 ? _renderFormItem : null;\n    }\n    if (light) {\n      var _fieldProps$value3;\n      var disabled = fieldProps.disabled,\n        placeholder = fieldProps.placeholder;\n      var notEmpty = !!fieldProps.value && ((_fieldProps$value3 = fieldProps.value) === null || _fieldProps$value3 === void 0 ? void 0 : _fieldProps$value3.length) !== 0;\n      return /*#__PURE__*/_jsx(FieldLabel, {\n        label: label,\n        disabled: disabled,\n        placeholder: placeholder,\n        onClick: function onClick() {\n          var _fieldProps$onDropdow2;\n          setOpen(true);\n          fieldProps === null || fieldProps === void 0 || (_fieldProps$onDropdow2 = fieldProps.onDropdownVisibleChange) === null || _fieldProps$onDropdow2 === void 0 || _fieldProps$onDropdow2.call(fieldProps, true);\n        },\n        bordered: rest.bordered,\n        value: notEmpty || open ? _dom : null,\n        style: notEmpty ? {\n          paddingInlineEnd: 0\n        } : undefined,\n        allowClear: false,\n        downIcon: false\n      });\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldTreeSelect);","map":{"version":3,"names":["_objectSpread","_slicedToArray","_objectWithoutProperties","_excluded","_excluded2","useIntl","FieldLabel","objectToMap","proFieldParsingText","ConfigProvider","Spin","TreeSelect","classNames","useMergedState","React","useContext","useImperativeHandle","useMemo","useRef","useState","useFieldFetchData","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","FieldTreeSelect","_ref","ref","radioType","renderFormItem","mode","light","label","render","rest","_useContext","ConfigContext","getPrefixCls","layoutClassName","treeSelectRef","_useState","_useState2","open","setOpen","_ref2","fieldProps","onSearch","_onClear","onClear","propsOnChange","onChange","_onBlur","onBlur","showSearch","autoClearSearchValue","treeData","fetchDataOnSearch","propsSearchValue","searchValue","intl","_useFieldFetchData","defaultKeyWords","_useFieldFetchData2","loading","options","_fetchData","_useMergedState","undefined","value","_useMergedState2","setSearchValue","current","fetchData","keyWord","optionsValueEnum","_ref3","fieldNames","_ref3$value","valuePropsName","_ref3$label","labelPropsName","_ref3$children","children","childrenPropsName","valuesMap","Map","traverseOptions","_options","length","i","cur","set","optionList","extra","dom","text","valueEnum","_render","_fieldProps$value","valuesLength","Array","isArray","_dom","spinning","onDropdownVisibleChange","isOpen","_fieldProps$onDropdow","call","popupMatchSelectWidth","placeholder","getMessage","tagRender","item","_fieldProps$value2","itemIndex","findIndex","v","bordered","style","minWidth","allowClear","request","event","className","_renderFormItem","_fieldProps$value3","disabled","notEmpty","onClick","_fieldProps$onDropdow2","paddingInlineEnd","downIcon","forwardRef"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-field/es/components/TreeSelect/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"radioType\", \"renderFormItem\", \"mode\", \"light\", \"label\", \"render\"],\n  _excluded2 = [\"onSearch\", \"onClear\", \"onChange\", \"onBlur\", \"showSearch\", \"autoClearSearchValue\", \"treeData\", \"fetchDataOnSearch\", \"searchValue\"];\nimport { useIntl } from '@ant-design/pro-provider';\nimport { FieldLabel, objectToMap, proFieldParsingText } from '@ant-design/pro-utils';\nimport { ConfigProvider, Spin, TreeSelect } from 'antd';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useContext, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { useFieldFetchData } from \"../Select\";\n\n// 兼容代码-----------\nimport \"antd/es/spin/style\";\nimport \"antd/es/tree-select/style\";\n//----------------------\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n/**\n * Tree select\n * A function that returns a React component.\n * @param ref\n */\nvar FieldTreeSelect = function FieldTreeSelect(_ref, ref) {\n  var radioType = _ref.radioType,\n    renderFormItem = _ref.renderFormItem,\n    mode = _ref.mode,\n    light = _ref.light,\n    label = _ref.label,\n    render = _ref.render,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var layoutClassName = getPrefixCls('pro-field-tree-select');\n  var treeSelectRef = useRef(null);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    open = _useState2[0],\n    setOpen = _useState2[1];\n  var _ref2 = rest.fieldProps,\n    onSearch = _ref2.onSearch,\n    _onClear = _ref2.onClear,\n    propsOnChange = _ref2.onChange,\n    _onBlur = _ref2.onBlur,\n    showSearch = _ref2.showSearch,\n    autoClearSearchValue = _ref2.autoClearSearchValue,\n    treeData = _ref2.treeData,\n    fetchDataOnSearch = _ref2.fetchDataOnSearch,\n    propsSearchValue = _ref2.searchValue,\n    fieldProps = _objectWithoutProperties(_ref2, _excluded2);\n  var intl = useIntl();\n  var _useFieldFetchData = useFieldFetchData(_objectSpread(_objectSpread({}, rest), {}, {\n      defaultKeyWords: propsSearchValue\n    })),\n    _useFieldFetchData2 = _slicedToArray(_useFieldFetchData, 3),\n    loading = _useFieldFetchData2[0],\n    options = _useFieldFetchData2[1],\n    _fetchData = _useFieldFetchData2[2];\n  var _useMergedState = useMergedState(undefined, {\n      onChange: onSearch,\n      value: propsSearchValue\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    searchValue = _useMergedState2[0],\n    setSearchValue = _useMergedState2[1];\n  useImperativeHandle(ref, function () {\n    return _objectSpread(_objectSpread({}, treeSelectRef.current || {}), {}, {\n      fetchData: function fetchData(keyWord) {\n        return _fetchData(keyWord);\n      }\n    });\n  });\n  var optionsValueEnum = useMemo(function () {\n    if (mode !== 'read') return;\n    /**\n     * Support TreeSelect fieldNames\n     * @see https://ant.design/components/tree-select-cn\n     */\n    var _ref3 = (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.fieldNames) || {},\n      _ref3$value = _ref3.value,\n      valuePropsName = _ref3$value === void 0 ? 'value' : _ref3$value,\n      _ref3$label = _ref3.label,\n      labelPropsName = _ref3$label === void 0 ? 'label' : _ref3$label,\n      _ref3$children = _ref3.children,\n      childrenPropsName = _ref3$children === void 0 ? 'children' : _ref3$children;\n    var valuesMap = new Map();\n    var traverseOptions = function traverseOptions(_options) {\n      if (!(_options !== null && _options !== void 0 && _options.length)) {\n        return valuesMap;\n      }\n      var length = _options.length;\n      var i = 0;\n      while (i < length) {\n        var cur = _options[i++];\n        valuesMap.set(cur[valuePropsName], cur[labelPropsName]);\n        traverseOptions(cur[childrenPropsName]);\n      }\n      return valuesMap;\n    };\n    return traverseOptions(options);\n  }, [fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.fieldNames, mode, options]);\n  var onChange = function onChange(value, optionList, extra) {\n    // 将搜索框置空 和 antd 行为保持一致\n    if (showSearch && autoClearSearchValue) {\n      _fetchData(undefined);\n      setSearchValue(undefined);\n    }\n    propsOnChange === null || propsOnChange === void 0 || propsOnChange(value, optionList, extra);\n  };\n  if (mode === 'read') {\n    var dom = /*#__PURE__*/_jsx(_Fragment, {\n      children: proFieldParsingText(rest.text, objectToMap(rest.valueEnum || optionsValueEnum))\n    });\n    if (render) {\n      var _render;\n      return (_render = render(rest.text, _objectSpread({\n        mode: mode\n      }, fieldProps), dom)) !== null && _render !== void 0 ? _render : null;\n    }\n    return dom;\n  }\n  if (mode === 'edit') {\n    var _fieldProps$value;\n    var valuesLength = Array.isArray(fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.value) ? fieldProps === null || fieldProps === void 0 || (_fieldProps$value = fieldProps.value) === null || _fieldProps$value === void 0 ? void 0 : _fieldProps$value.length : 0;\n    var _dom = /*#__PURE__*/_jsx(Spin, {\n      spinning: loading,\n      children: /*#__PURE__*/_jsx(TreeSelect, _objectSpread(_objectSpread({\n        open: open,\n        onDropdownVisibleChange: function onDropdownVisibleChange(isOpen) {\n          var _fieldProps$onDropdow;\n          fieldProps === null || fieldProps === void 0 || (_fieldProps$onDropdow = fieldProps.onDropdownVisibleChange) === null || _fieldProps$onDropdow === void 0 || _fieldProps$onDropdow.call(fieldProps, isOpen);\n          setOpen(isOpen);\n        },\n        ref: treeSelectRef,\n        popupMatchSelectWidth: !light,\n        placeholder: intl.getMessage('tableForm.selectPlaceholder', '请选择'),\n        tagRender: light ? function (item) {\n          var _fieldProps$value2;\n          if (valuesLength < 2) return /*#__PURE__*/_jsx(_Fragment, {\n            children: item.label\n          });\n          /**\n           * 性能不好，等我给 antd 提个issue\n           */\n          var itemIndex = fieldProps === null || fieldProps === void 0 || (_fieldProps$value2 = fieldProps.value) === null || _fieldProps$value2 === void 0 ? void 0 : _fieldProps$value2.findIndex(function (v) {\n            return v === item.value || v.value === item.value;\n          });\n          return /*#__PURE__*/_jsxs(_Fragment, {\n            children: [item.label, \" \", itemIndex < valuesLength - 1 ? ',' : '']\n          });\n        } : undefined,\n        bordered: !light\n      }, fieldProps), {}, {\n        treeData: options,\n        showSearch: showSearch,\n        style: _objectSpread({\n          minWidth: 60\n        }, fieldProps.style),\n        allowClear: fieldProps.allowClear !== false,\n        searchValue: searchValue,\n        autoClearSearchValue: autoClearSearchValue,\n        onClear: function onClear() {\n          _onClear === null || _onClear === void 0 || _onClear();\n          _fetchData(undefined);\n          if (showSearch) {\n            setSearchValue(undefined);\n          }\n        },\n        onChange: onChange,\n        onSearch: function onSearch(value) {\n          // fix 不支持请求的情况下不刷新options\n          if (fetchDataOnSearch && rest !== null && rest !== void 0 && rest.request) {\n            _fetchData(value);\n          }\n          setSearchValue(value);\n        },\n        onBlur: function onBlur(event) {\n          setSearchValue(undefined);\n          _fetchData(undefined);\n          _onBlur === null || _onBlur === void 0 || _onBlur(event);\n        },\n        className: classNames(fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.className, layoutClassName)\n      }))\n    });\n    if (renderFormItem) {\n      var _renderFormItem;\n      _dom = (_renderFormItem = renderFormItem(rest.text, _objectSpread(_objectSpread({\n        mode: mode\n      }, fieldProps), {}, {\n        options: options,\n        loading: loading\n      }), _dom)) !== null && _renderFormItem !== void 0 ? _renderFormItem : null;\n    }\n    if (light) {\n      var _fieldProps$value3;\n      var disabled = fieldProps.disabled,\n        placeholder = fieldProps.placeholder;\n      var notEmpty = !!fieldProps.value && ((_fieldProps$value3 = fieldProps.value) === null || _fieldProps$value3 === void 0 ? void 0 : _fieldProps$value3.length) !== 0;\n      return /*#__PURE__*/_jsx(FieldLabel, {\n        label: label,\n        disabled: disabled,\n        placeholder: placeholder,\n        onClick: function onClick() {\n          var _fieldProps$onDropdow2;\n          setOpen(true);\n          fieldProps === null || fieldProps === void 0 || (_fieldProps$onDropdow2 = fieldProps.onDropdownVisibleChange) === null || _fieldProps$onDropdow2 === void 0 || _fieldProps$onDropdow2.call(fieldProps, true);\n        },\n        bordered: rest.bordered,\n        value: notEmpty || open ? _dom : null,\n        style: notEmpty ? {\n          paddingInlineEnd: 0\n        } : undefined,\n        allowClear: false,\n        downIcon: false\n      });\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldTreeSelect);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}