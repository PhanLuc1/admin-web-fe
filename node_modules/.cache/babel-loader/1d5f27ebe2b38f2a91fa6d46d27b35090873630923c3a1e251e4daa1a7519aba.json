{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"onFinish\", \"step\", \"formRef\", \"title\", \"stepProps\"];\nimport omit from 'omit.js';\nimport { noteOnce } from \"rc-util/es/warning\";\nimport { useContext, useEffect, useImperativeHandle, useRef } from 'react';\nimport { BaseForm } from \"../../BaseForm\";\nimport { StepFormProvide, StepsFormProvide } from \"./index\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction StepForm(stepNativeProps) {\n  var formRef = useRef();\n  var context = useContext(StepsFormProvide);\n  var stepContext = useContext(StepFormProvide);\n  var props = _objectSpread(_objectSpread({}, stepNativeProps), stepContext);\n  var onFinish = props.onFinish,\n    step = props.step,\n    propFormRef = props.formRef,\n    title = props.title,\n    stepProps = props.stepProps,\n    restProps = _objectWithoutProperties(props, _excluded);\n  noteOnce(!restProps.submitter, 'StepForm 不包含提交按钮，请在 StepsForm 上');\n\n  /** 重置 formRef */\n  useImperativeHandle(propFormRef, function () {\n    return formRef.current;\n  }, [propFormRef === null || propFormRef === void 0 ? void 0 : propFormRef.current]);\n\n  /** Dom 不存在的时候解除挂载 */\n  useEffect(function () {\n    if (!(props.name || props.step)) return;\n    var name = (props.name || props.step).toString();\n    context === null || context === void 0 || context.regForm(name, props);\n    return function () {\n      context === null || context === void 0 || context.unRegForm(name);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  if (context && context !== null && context !== void 0 && context.formArrayRef) {\n    context.formArrayRef.current[step || 0] = formRef;\n  }\n  return /*#__PURE__*/_jsx(BaseForm, _objectSpread({\n    formRef: formRef,\n    onFinish: (/*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values) {\n        var success;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (restProps.name) {\n                context === null || context === void 0 || context.onFormFinish(restProps.name, values);\n              }\n              if (!onFinish) {\n                _context.next = 9;\n                break;\n              }\n              context === null || context === void 0 || context.setLoading(true);\n              // 如果报错，直接抛出\n              _context.next = 5;\n              return onFinish === null || onFinish === void 0 ? void 0 : onFinish(values);\n            case 5:\n              success = _context.sent;\n              if (success) {\n                context === null || context === void 0 || context.next();\n              }\n              context === null || context === void 0 || context.setLoading(false);\n              return _context.abrupt(\"return\");\n            case 9:\n              if (!(context !== null && context !== void 0 && context.lastStep)) context === null || context === void 0 || context.next();\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()),\n    onInit: function onInit(_, form) {\n      var _restProps$onInit;\n      formRef.current = form;\n      if (context && context !== null && context !== void 0 && context.formArrayRef) {\n        context.formArrayRef.current[step || 0] = formRef;\n      }\n      restProps === null || restProps === void 0 || (_restProps$onInit = restProps.onInit) === null || _restProps$onInit === void 0 || _restProps$onInit.call(restProps, _, form);\n    },\n    layout: \"vertical\"\n  }, omit(restProps, ['layoutType', 'columns'])));\n}\nexport default StepForm;","map":{"version":3,"names":["_regeneratorRuntime","_asyncToGenerator","_objectWithoutProperties","_objectSpread","_excluded","omit","noteOnce","useContext","useEffect","useImperativeHandle","useRef","BaseForm","StepFormProvide","StepsFormProvide","jsx","_jsx","StepForm","stepNativeProps","formRef","context","stepContext","props","onFinish","step","propFormRef","title","stepProps","restProps","submitter","current","name","toString","regForm","unRegForm","formArrayRef","_ref","mark","_callee","values","success","wrap","_callee$","_context","prev","next","onFormFinish","setLoading","sent","abrupt","lastStep","stop","_x","apply","arguments","onInit","_","form","_restProps$onInit","call","layout"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-form/es/layouts/StepsForm/StepForm.js"],"sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"onFinish\", \"step\", \"formRef\", \"title\", \"stepProps\"];\nimport omit from 'omit.js';\nimport { noteOnce } from \"rc-util/es/warning\";\nimport { useContext, useEffect, useImperativeHandle, useRef } from 'react';\nimport { BaseForm } from \"../../BaseForm\";\nimport { StepFormProvide, StepsFormProvide } from \"./index\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction StepForm(stepNativeProps) {\n  var formRef = useRef();\n  var context = useContext(StepsFormProvide);\n  var stepContext = useContext(StepFormProvide);\n  var props = _objectSpread(_objectSpread({}, stepNativeProps), stepContext);\n  var onFinish = props.onFinish,\n    step = props.step,\n    propFormRef = props.formRef,\n    title = props.title,\n    stepProps = props.stepProps,\n    restProps = _objectWithoutProperties(props, _excluded);\n  noteOnce(!restProps.submitter, 'StepForm 不包含提交按钮，请在 StepsForm 上');\n\n  /** 重置 formRef */\n  useImperativeHandle(propFormRef, function () {\n    return formRef.current;\n  }, [propFormRef === null || propFormRef === void 0 ? void 0 : propFormRef.current]);\n\n  /** Dom 不存在的时候解除挂载 */\n  useEffect(function () {\n    if (!(props.name || props.step)) return;\n    var name = (props.name || props.step).toString();\n    context === null || context === void 0 || context.regForm(name, props);\n    return function () {\n      context === null || context === void 0 || context.unRegForm(name);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  if (context && context !== null && context !== void 0 && context.formArrayRef) {\n    context.formArrayRef.current[step || 0] = formRef;\n  }\n  return /*#__PURE__*/_jsx(BaseForm, _objectSpread({\n    formRef: formRef,\n    onFinish: ( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(values) {\n        var success;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (restProps.name) {\n                context === null || context === void 0 || context.onFormFinish(restProps.name, values);\n              }\n              if (!onFinish) {\n                _context.next = 9;\n                break;\n              }\n              context === null || context === void 0 || context.setLoading(true);\n              // 如果报错，直接抛出\n              _context.next = 5;\n              return onFinish === null || onFinish === void 0 ? void 0 : onFinish(values);\n            case 5:\n              success = _context.sent;\n              if (success) {\n                context === null || context === void 0 || context.next();\n              }\n              context === null || context === void 0 || context.setLoading(false);\n              return _context.abrupt(\"return\");\n            case 9:\n              if (!(context !== null && context !== void 0 && context.lastStep)) context === null || context === void 0 || context.next();\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()),\n    onInit: function onInit(_, form) {\n      var _restProps$onInit;\n      formRef.current = form;\n      if (context && context !== null && context !== void 0 && context.formArrayRef) {\n        context.formArrayRef.current[step || 0] = formRef;\n      }\n      restProps === null || restProps === void 0 || (_restProps$onInit = restProps.onInit) === null || _restProps$onInit === void 0 || _restProps$onInit.call(restProps, _, form);\n    },\n    layout: \"vertical\"\n  }, omit(restProps, ['layoutType', 'columns'])));\n}\nexport default StepForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}