{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useCallback, useRef, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nfunction FieldHOC(props) {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    labelTrigger = _useState2[0],\n    setLabelTrigger = _useState2[1];\n  var lightLabel = useRef(null);\n\n  // 是label且不是label里面的clear图标触发事件\n  var isTriggeredByLabel = useCallback(function (e) {\n    var _lightLabel$current, _lightLabel$current2;\n    // 两条语句结果分别命名，可读性好点\n    var isLabelMouseDown = (_lightLabel$current = lightLabel.current) === null || _lightLabel$current === void 0 || (_lightLabel$current = _lightLabel$current.labelRef) === null || _lightLabel$current === void 0 || (_lightLabel$current = _lightLabel$current.current) === null || _lightLabel$current === void 0 ? void 0 : _lightLabel$current.contains(e.target);\n    var isClearMouseDown = (_lightLabel$current2 = lightLabel.current) === null || _lightLabel$current2 === void 0 || (_lightLabel$current2 = _lightLabel$current2.clearRef) === null || _lightLabel$current2 === void 0 || (_lightLabel$current2 = _lightLabel$current2.current) === null || _lightLabel$current2 === void 0 ? void 0 : _lightLabel$current2.contains(e.target);\n    return isLabelMouseDown && !isClearMouseDown;\n  }, [lightLabel]);\n  var handleMouseDown = function handleMouseDown(e) {\n    if (isTriggeredByLabel(e)) {\n      setLabelTrigger(true);\n    }\n  };\n  var handleMouseUp = function handleMouseUp() {\n    setLabelTrigger(false);\n  };\n  if (props.isLight) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      onMouseDown: handleMouseDown,\n      onMouseUp: handleMouseUp,\n      children: /*#__PURE__*/React.cloneElement(props.children, {\n        labelTrigger: labelTrigger,\n        lightLabel: lightLabel\n      })\n    });\n  }\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: props.children\n  });\n}\nexport default FieldHOC;","map":{"version":3,"names":["_slicedToArray","React","useCallback","useRef","useState","jsx","_jsx","Fragment","_Fragment","FieldHOC","props","_useState","_useState2","labelTrigger","setLabelTrigger","lightLabel","isTriggeredByLabel","e","_lightLabel$current","_lightLabel$current2","isLabelMouseDown","current","labelRef","contains","target","isClearMouseDown","clearRef","handleMouseDown","handleMouseUp","isLight","onMouseDown","onMouseUp","children","cloneElement"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-field/es/FieldHOC/index.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useCallback, useRef, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nfunction FieldHOC(props) {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    labelTrigger = _useState2[0],\n    setLabelTrigger = _useState2[1];\n  var lightLabel = useRef(null);\n\n  // 是label且不是label里面的clear图标触发事件\n  var isTriggeredByLabel = useCallback(function (e) {\n    var _lightLabel$current, _lightLabel$current2;\n    // 两条语句结果分别命名，可读性好点\n    var isLabelMouseDown = (_lightLabel$current = lightLabel.current) === null || _lightLabel$current === void 0 || (_lightLabel$current = _lightLabel$current.labelRef) === null || _lightLabel$current === void 0 || (_lightLabel$current = _lightLabel$current.current) === null || _lightLabel$current === void 0 ? void 0 : _lightLabel$current.contains(e.target);\n    var isClearMouseDown = (_lightLabel$current2 = lightLabel.current) === null || _lightLabel$current2 === void 0 || (_lightLabel$current2 = _lightLabel$current2.clearRef) === null || _lightLabel$current2 === void 0 || (_lightLabel$current2 = _lightLabel$current2.current) === null || _lightLabel$current2 === void 0 ? void 0 : _lightLabel$current2.contains(e.target);\n    return isLabelMouseDown && !isClearMouseDown;\n  }, [lightLabel]);\n  var handleMouseDown = function handleMouseDown(e) {\n    if (isTriggeredByLabel(e)) {\n      setLabelTrigger(true);\n    }\n  };\n  var handleMouseUp = function handleMouseUp() {\n    setLabelTrigger(false);\n  };\n  if (props.isLight) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      onMouseDown: handleMouseDown,\n      onMouseUp: handleMouseUp,\n      children: /*#__PURE__*/React.cloneElement(props.children, {\n        labelTrigger: labelTrigger,\n        lightLabel: lightLabel\n      })\n    });\n  }\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: props.children\n  });\n}\nexport default FieldHOC;"],"mappings":"AAAA,OAAOA,cAAc,MAAM,0CAA0C;AACrE,OAAOC,KAAK,IAAIC,WAAW,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC5D,SAASC,GAAG,IAAIC,IAAI,QAAQ,mBAAmB;AAC/C,SAASC,QAAQ,IAAIC,SAAS,QAAQ,mBAAmB;AACzD,SAASC,QAAQA,CAACC,KAAK,EAAE;EACvB,IAAIC,SAAS,GAAGP,QAAQ,CAAC,KAAK,CAAC;IAC7BQ,UAAU,GAAGZ,cAAc,CAACW,SAAS,EAAE,CAAC,CAAC;IACzCE,YAAY,GAAGD,UAAU,CAAC,CAAC,CAAC;IAC5BE,eAAe,GAAGF,UAAU,CAAC,CAAC,CAAC;EACjC,IAAIG,UAAU,GAAGZ,MAAM,CAAC,IAAI,CAAC;;EAE7B;EACA,IAAIa,kBAAkB,GAAGd,WAAW,CAAC,UAAUe,CAAC,EAAE;IAChD,IAAIC,mBAAmB,EAAEC,oBAAoB;IAC7C;IACA,IAAIC,gBAAgB,GAAG,CAACF,mBAAmB,GAAGH,UAAU,CAACM,OAAO,MAAM,IAAI,IAAIH,mBAAmB,KAAK,KAAK,CAAC,IAAI,CAACA,mBAAmB,GAAGA,mBAAmB,CAACI,QAAQ,MAAM,IAAI,IAAIJ,mBAAmB,KAAK,KAAK,CAAC,IAAI,CAACA,mBAAmB,GAAGA,mBAAmB,CAACG,OAAO,MAAM,IAAI,IAAIH,mBAAmB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,mBAAmB,CAACK,QAAQ,CAACN,CAAC,CAACO,MAAM,CAAC;IACnW,IAAIC,gBAAgB,GAAG,CAACN,oBAAoB,GAAGJ,UAAU,CAACM,OAAO,MAAM,IAAI,IAAIF,oBAAoB,KAAK,KAAK,CAAC,IAAI,CAACA,oBAAoB,GAAGA,oBAAoB,CAACO,QAAQ,MAAM,IAAI,IAAIP,oBAAoB,KAAK,KAAK,CAAC,IAAI,CAACA,oBAAoB,GAAGA,oBAAoB,CAACE,OAAO,MAAM,IAAI,IAAIF,oBAAoB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,oBAAoB,CAACI,QAAQ,CAACN,CAAC,CAACO,MAAM,CAAC;IAC5W,OAAOJ,gBAAgB,IAAI,CAACK,gBAAgB;EAC9C,CAAC,EAAE,CAACV,UAAU,CAAC,CAAC;EAChB,IAAIY,eAAe,GAAG,SAASA,eAAeA,CAACV,CAAC,EAAE;IAChD,IAAID,kBAAkB,CAACC,CAAC,CAAC,EAAE;MACzBH,eAAe,CAAC,IAAI,CAAC;IACvB;EACF,CAAC;EACD,IAAIc,aAAa,GAAG,SAASA,aAAaA,CAAA,EAAG;IAC3Cd,eAAe,CAAC,KAAK,CAAC;EACxB,CAAC;EACD,IAAIJ,KAAK,CAACmB,OAAO,EAAE;IACjB,OAAO,aAAavB,IAAI,CAAC,KAAK,EAAE;MAC9BwB,WAAW,EAAEH,eAAe;MAC5BI,SAAS,EAAEH,aAAa;MACxBI,QAAQ,EAAE,aAAa/B,KAAK,CAACgC,YAAY,CAACvB,KAAK,CAACsB,QAAQ,EAAE;QACxDnB,YAAY,EAAEA,YAAY;QAC1BE,UAAU,EAAEA;MACd,CAAC;IACH,CAAC,CAAC;EACJ;EACA,OAAO,aAAaT,IAAI,CAACE,SAAS,EAAE;IAClCwB,QAAQ,EAAEtB,KAAK,CAACsB;EAClB,CAAC,CAAC;AACJ;AACA,eAAevB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}