{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"fieldProps\", \"children\", \"labelCol\", \"label\", \"autoFocus\", \"isDefaultDom\", \"render\", \"proFieldProps\", \"renderFormItem\", \"valueType\", \"initialValue\", \"onChange\", \"valueEnum\", \"params\", \"name\", \"dependenciesValues\", \"cacheForSwr\", \"valuePropName\"];\nimport ProField from '@ant-design/pro-field';\nimport { isDeepEqualReact, runFunction, useRefFunction } from '@ant-design/pro-utils';\nimport React, { memo, useContext, useMemo } from 'react';\nimport { EditOrReadOnlyContext } from \"../../BaseForm/EditOrReadOnlyContext\";\nimport { createField } from \"../../BaseForm/createField\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar BaseProFormField = function BaseProFormField(props) {\n  var fieldProps = props.fieldProps,\n    children = props.children,\n    labelCol = props.labelCol,\n    label = props.label,\n    autoFocus = props.autoFocus,\n    isDefaultDom = props.isDefaultDom,\n    render = props.render,\n    proFieldProps = props.proFieldProps,\n    renderFormItem = props.renderFormItem,\n    valueType = props.valueType,\n    initialValue = props.initialValue,\n    _onChange = props.onChange,\n    valueEnum = props.valueEnum,\n    params = props.params,\n    name = props.name,\n    dependenciesValues = props.dependenciesValues,\n    _props$cacheForSwr = props.cacheForSwr,\n    cacheForSwr = _props$cacheForSwr === void 0 ? false : _props$cacheForSwr,\n    _props$valuePropName = props.valuePropName,\n    valuePropName = _props$valuePropName === void 0 ? 'value' : _props$valuePropName,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var modeContext = useContext(EditOrReadOnlyContext);\n  var propsParams = useMemo(function () {\n    // 使用dependencies时 dependenciesValues是有值的\n    // 此时如果存在request，注入dependenciesValues\n    return dependenciesValues && restProps.request ? _objectSpread(_objectSpread({}, params), dependenciesValues || {}) : params;\n  }, [dependenciesValues, params, restProps.request]);\n  var memoUnChange = useRefFunction(function () {\n    if (fieldProps !== null && fieldProps !== void 0 && fieldProps.onChange) {\n      var _fieldProps$onChange;\n      for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n        restParams[_key] = arguments[_key];\n      }\n      fieldProps === null || fieldProps === void 0 || (_fieldProps$onChange = fieldProps.onChange) === null || _fieldProps$onChange === void 0 || _fieldProps$onChange.call.apply(_fieldProps$onChange, [fieldProps].concat(restParams));\n      return;\n    }\n  });\n  var memoFieldProps = useMemo(function () {\n    return _objectSpread(_objectSpread({\n      autoFocus: autoFocus\n    }, fieldProps), {}, {\n      onChange: memoUnChange\n    });\n  }, [autoFocus, fieldProps, memoUnChange]);\n  var childrenRender = useMemo(function () {\n    // 防止 formItem 的值被吃掉\n    if (children) {\n      if (/*#__PURE__*/React.isValidElement(children)) {\n        return /*#__PURE__*/React.cloneElement(children, _objectSpread(_objectSpread({}, restProps), {}, {\n          onChange: function onChange() {\n            for (var _len2 = arguments.length, restParams = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              restParams[_key2] = arguments[_key2];\n            }\n            if (fieldProps !== null && fieldProps !== void 0 && fieldProps.onChange) {\n              var _fieldProps$onChange2;\n              fieldProps === null || fieldProps === void 0 || (_fieldProps$onChange2 = fieldProps.onChange) === null || _fieldProps$onChange2 === void 0 || _fieldProps$onChange2.call.apply(_fieldProps$onChange2, [fieldProps].concat(restParams));\n              return;\n            }\n            _onChange === null || _onChange === void 0 || _onChange.apply(void 0, restParams);\n          }\n        }, (children === null || children === void 0 ? void 0 : children.props) || {}));\n      }\n      return /*#__PURE__*/_jsx(_Fragment, {\n        children: children\n      });\n    }\n    return;\n  }, [children, fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.onChange, _onChange, restProps]);\n  if (childrenRender) {\n    return childrenRender;\n  }\n  return /*#__PURE__*/_jsx(ProField, _objectSpread(_objectSpread(_objectSpread({\n    text: fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps[valuePropName],\n    render: render,\n    renderFormItem: renderFormItem,\n    valueType: valueType || 'text',\n    cacheForSwr: cacheForSwr,\n    fieldProps: memoFieldProps,\n    valueEnum: runFunction(valueEnum)\n  }, proFieldProps), restProps), {}, {\n    mode: (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.mode) || modeContext.mode || 'edit',\n    params: propsParams\n  }));\n};\nvar ProFormField = createField(/*#__PURE__*/memo(BaseProFormField, function (prevProps, nextProps) {\n  return isDeepEqualReact(nextProps, prevProps, ['onChange', 'onBlur']);\n}));\nexport default ProFormField;","map":{"version":3,"names":["_objectSpread","_objectWithoutProperties","_excluded","ProField","isDeepEqualReact","runFunction","useRefFunction","React","memo","useContext","useMemo","EditOrReadOnlyContext","createField","Fragment","_Fragment","jsx","_jsx","BaseProFormField","props","fieldProps","children","labelCol","label","autoFocus","isDefaultDom","render","proFieldProps","renderFormItem","valueType","initialValue","_onChange","onChange","valueEnum","params","name","dependenciesValues","_props$cacheForSwr","cacheForSwr","_props$valuePropName","valuePropName","restProps","modeContext","propsParams","request","memoUnChange","_fieldProps$onChange","_len","arguments","length","restParams","Array","_key","call","apply","concat","memoFieldProps","childrenRender","isValidElement","cloneElement","_len2","_key2","_fieldProps$onChange2","text","mode","ProFormField","prevProps","nextProps"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-form/es/components/Field/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"fieldProps\", \"children\", \"labelCol\", \"label\", \"autoFocus\", \"isDefaultDom\", \"render\", \"proFieldProps\", \"renderFormItem\", \"valueType\", \"initialValue\", \"onChange\", \"valueEnum\", \"params\", \"name\", \"dependenciesValues\", \"cacheForSwr\", \"valuePropName\"];\nimport ProField from '@ant-design/pro-field';\nimport { isDeepEqualReact, runFunction, useRefFunction } from '@ant-design/pro-utils';\nimport React, { memo, useContext, useMemo } from 'react';\nimport { EditOrReadOnlyContext } from \"../../BaseForm/EditOrReadOnlyContext\";\nimport { createField } from \"../../BaseForm/createField\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar BaseProFormField = function BaseProFormField(props) {\n  var fieldProps = props.fieldProps,\n    children = props.children,\n    labelCol = props.labelCol,\n    label = props.label,\n    autoFocus = props.autoFocus,\n    isDefaultDom = props.isDefaultDom,\n    render = props.render,\n    proFieldProps = props.proFieldProps,\n    renderFormItem = props.renderFormItem,\n    valueType = props.valueType,\n    initialValue = props.initialValue,\n    _onChange = props.onChange,\n    valueEnum = props.valueEnum,\n    params = props.params,\n    name = props.name,\n    dependenciesValues = props.dependenciesValues,\n    _props$cacheForSwr = props.cacheForSwr,\n    cacheForSwr = _props$cacheForSwr === void 0 ? false : _props$cacheForSwr,\n    _props$valuePropName = props.valuePropName,\n    valuePropName = _props$valuePropName === void 0 ? 'value' : _props$valuePropName,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var modeContext = useContext(EditOrReadOnlyContext);\n  var propsParams = useMemo(function () {\n    // 使用dependencies时 dependenciesValues是有值的\n    // 此时如果存在request，注入dependenciesValues\n    return dependenciesValues && restProps.request ? _objectSpread(_objectSpread({}, params), dependenciesValues || {}) : params;\n  }, [dependenciesValues, params, restProps.request]);\n  var memoUnChange = useRefFunction(function () {\n    if (fieldProps !== null && fieldProps !== void 0 && fieldProps.onChange) {\n      var _fieldProps$onChange;\n      for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n        restParams[_key] = arguments[_key];\n      }\n      fieldProps === null || fieldProps === void 0 || (_fieldProps$onChange = fieldProps.onChange) === null || _fieldProps$onChange === void 0 || _fieldProps$onChange.call.apply(_fieldProps$onChange, [fieldProps].concat(restParams));\n      return;\n    }\n  });\n  var memoFieldProps = useMemo(function () {\n    return _objectSpread(_objectSpread({\n      autoFocus: autoFocus\n    }, fieldProps), {}, {\n      onChange: memoUnChange\n    });\n  }, [autoFocus, fieldProps, memoUnChange]);\n  var childrenRender = useMemo(function () {\n    // 防止 formItem 的值被吃掉\n    if (children) {\n      if ( /*#__PURE__*/React.isValidElement(children)) {\n        return /*#__PURE__*/React.cloneElement(children, _objectSpread(_objectSpread({}, restProps), {}, {\n          onChange: function onChange() {\n            for (var _len2 = arguments.length, restParams = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              restParams[_key2] = arguments[_key2];\n            }\n            if (fieldProps !== null && fieldProps !== void 0 && fieldProps.onChange) {\n              var _fieldProps$onChange2;\n              fieldProps === null || fieldProps === void 0 || (_fieldProps$onChange2 = fieldProps.onChange) === null || _fieldProps$onChange2 === void 0 || _fieldProps$onChange2.call.apply(_fieldProps$onChange2, [fieldProps].concat(restParams));\n              return;\n            }\n            _onChange === null || _onChange === void 0 || _onChange.apply(void 0, restParams);\n          }\n        }, (children === null || children === void 0 ? void 0 : children.props) || {}));\n      }\n      return /*#__PURE__*/_jsx(_Fragment, {\n        children: children\n      });\n    }\n    return;\n  }, [children, fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.onChange, _onChange, restProps]);\n  if (childrenRender) {\n    return childrenRender;\n  }\n  return /*#__PURE__*/_jsx(ProField, _objectSpread(_objectSpread(_objectSpread({\n    text: fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps[valuePropName],\n    render: render,\n    renderFormItem: renderFormItem,\n    valueType: valueType || 'text',\n    cacheForSwr: cacheForSwr,\n    fieldProps: memoFieldProps,\n    valueEnum: runFunction(valueEnum)\n  }, proFieldProps), restProps), {}, {\n    mode: (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.mode) || modeContext.mode || 'edit',\n    params: propsParams\n  }));\n};\nvar ProFormField = createField( /*#__PURE__*/memo(BaseProFormField, function (prevProps, nextProps) {\n  return isDeepEqualReact(nextProps, prevProps, ['onChange', 'onBlur']);\n}));\nexport default ProFormField;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}