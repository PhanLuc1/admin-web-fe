{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useRefFunction } from \"../useRefFunction\";\n/**\n * 一个去抖的 hook，传入一个 function，返回一个去抖后的 function\n * @param  {(...args:T) => Promise<any>} fn\n * @param  {number} wait?\n */\nexport function useDebounceFn(fn, wait) {\n  var callback = useRefFunction(fn);\n  var timer = useRef();\n  var cancel = useCallback(function () {\n    if (timer.current) {\n      clearTimeout(timer.current);\n      timer.current = null;\n    }\n  }, []);\n  var run = useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var _len,\n      args,\n      _key,\n      _args2 = arguments;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          for (_len = _args2.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = _args2[_key];\n          }\n          if (!(wait === 0 || wait === undefined)) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\", callback.apply(void 0, args));\n        case 3:\n          cancel();\n          return _context2.abrupt(\"return\", new Promise(function (resolve) {\n            timer.current = setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.t0 = resolve;\n                    _context.next = 3;\n                    return callback.apply(void 0, args);\n                  case 3:\n                    _context.t1 = _context.sent;\n                    (0, _context.t0)(_context.t1);\n                    return _context.abrupt(\"return\");\n                  case 6:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            })), wait);\n          }));\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  })), [callback, cancel, wait]);\n  useEffect(function () {\n    return cancel;\n  }, [cancel]);\n  return {\n    run: run,\n    cancel: cancel\n  };\n}","map":{"version":3,"names":["_regeneratorRuntime","_asyncToGenerator","useCallback","useEffect","useRef","useRefFunction","useDebounceFn","fn","wait","callback","timer","cancel","current","clearTimeout","run","mark","_callee2","_len","args","_key","_args2","arguments","wrap","_callee2$","_context2","prev","next","length","Array","undefined","abrupt","apply","Promise","resolve","setTimeout","_callee","_callee$","_context","t0","t1","sent","stop"],"sources":["/Users/phanluc/admin-web-fe/node_modules/@ant-design/pro-utils/es/hooks/useDebounceFn/index.js"],"sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useRefFunction } from \"../useRefFunction\";\n/**\n * 一个去抖的 hook，传入一个 function，返回一个去抖后的 function\n * @param  {(...args:T) => Promise<any>} fn\n * @param  {number} wait?\n */\nexport function useDebounceFn(fn, wait) {\n  var callback = useRefFunction(fn);\n  var timer = useRef();\n  var cancel = useCallback(function () {\n    if (timer.current) {\n      clearTimeout(timer.current);\n      timer.current = null;\n    }\n  }, []);\n  var run = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var _len,\n      args,\n      _key,\n      _args2 = arguments;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          for (_len = _args2.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = _args2[_key];\n          }\n          if (!(wait === 0 || wait === undefined)) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\", callback.apply(void 0, args));\n        case 3:\n          cancel();\n          return _context2.abrupt(\"return\", new Promise(function (resolve) {\n            timer.current = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.t0 = resolve;\n                    _context.next = 3;\n                    return callback.apply(void 0, args);\n                  case 3:\n                    _context.t1 = _context.sent;\n                    (0, _context.t0)(_context.t1);\n                    return _context.abrupt(\"return\");\n                  case 6:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            })), wait);\n          }));\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  })), [callback, cancel, wait]);\n  useEffect(function () {\n    return cancel;\n  }, [cancel]);\n  return {\n    run: run,\n    cancel: cancel\n  };\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}